!function(o){syn.uicontrols=syn.uicontrols||new syn.module;var d=syn.uicontrols.$chart||new syn.module;d.extend({name:"syn.uicontrols.$chart",version:"1.0",chartControls:[],randomSeed:Date.now(),defaultSetting:{chart:{type:"column"},title:{text:""},xAxis:{categories:["A","B","C"]},yAxis:{title:{text:"Values"}},series:[{name:"Series 1",data:[1,0,4]},{name:"Series 2",data:[5,7,3]}],dataType:"string",belongID:null,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad:function(e,t){var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(d.defaultSetting,t),o[syn.$w.pageScript]),r=(r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),t.width=n.style.width||320,t.height=n.style.height||240,n.setAttribute("id",n.id+"_hidden"),n.setAttribute("syn-options",JSON.stringify(t)),n.style.display="none",n.parentNode),n=document.createElement("div");n.style.width=t.width,n.style.height=t.height,n.id=e,r.appendChild(n),syn.$l.addEvent(syn.$l.get(e),"click",function(e){e.target||e.srcElement}),d.chartControls.push({id:e,chart:Highcharts.chart(e,t),setting:$objectlection.clone(t)}),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},getValue:function(e,t){var n=null,r=d.getChartControl(e);if(r)for(var n=[],o=r.series.length,l=0;l<o;l++){var i=r.series[l];n.push({name:i.name,data:i.yData})}return n},setValue:function(e,t,n){var r=d.getChartControl(e);if(r)for(var o=r.series.length-1;-1<o;o--)r.series[o].remove();for(var l=t.length,o=0;o<l;o++){var i=t[o];r.addSeries(i)}var a,s=[];for(a in i)control.config.labelID!=a&&s.push(a)},randomScalingFactor:function(e,t){return e=void 0===e?0:e,t=void 0===t?100:t,Math.round(d.rand(e,t))},rand:function(e,t){var n=d.randomSeed;return e=void 0===e?0:e,t=void 0===t?1:t,d.randomSeed=(9301*n+49297)%233280,e+d.randomSeed/233280*(t-e)},toImage:function(e,t){var n=d.getChartControl(e);n&&(t="{0}.png".format(t||e),e=n.chart.toBase64Image(),download?download(e,t,"image/png"):((n=document.createElement("a")).href=e,n.download=t,n.click()))},getChartControl:function(e){for(var t=null,n=d.chartControls.length,r=0;r<n;r++){var o=d.chartControls[r];if(o.id==e){t=o.chart;break}}return t},clear:function(e,t){for(var n=d.getChartControl(e);0<n.series.length;)n.series[0].remove(!0)},setLocale:function(e,t,n,r){}}),syn.uicontrols.$chart=d}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $checkbox=syn.uicontrols.$checkbox||new syn.module;$checkbox.extend({name:"syn.uicontrols.$checkbox",version:"1.0.0",defaultSetting:{contents:"",toSynControl:!1,disabled:!1,checkedValue:"1",uncheckedValue:"0",dataType:"string",belongID:null,controlText:null,textContent:"",validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($checkbox.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,dataFieldID,events,value,checked,disabled,html,html,parent,wrapper;mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),(1==setting.toSynControl?(el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",dataFieldID=el.getAttribute("syn-datafield"),events=el.getAttribute("syn-events"),value=el.value,checked=el.checked,disabled=setting.disabled||el.disabled,html="",html=events?'<input class="ui_checkbox" id="{0}" name="{1}" type="checkbox" syn-datafield="{2}" value="{3}" {4} {5} syn-events={6}>'.format(elID,name,dataFieldID,value,1==checked?'checked="checked"':"",1==disabled?'disabled="disabled"':"","['"+eval(events).join("','")+"']"):'<input class="ui_checkbox" id="{0}" name="{1}" type="checkbox" syn-datafield="{2}" value="{3}" {4} {5}>'.format(elID,name,dataFieldID,value,1==checked?'checked="checked"':"",1==disabled?'disabled="disabled"':""),1==$object.isString(setting.textContent)&&(html+='<label class="ml-1" for="{0}">{1}</label>'.format(elID,setting.textContent)),parent=el.parentNode,wrapper=syn.$m.create({tag:"span",className:"formControl"}),wrapper.innerHTML=html,parent.appendChild(wrapper),syn.$l.get(elID)):el).setAttribute("syn-options",JSON.stringify(setting)),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue(e,t){var n,r=null,e=syn.$l.get(e);return 0==$object.isNullOrUndefined(e)?(n=e.getAttribute("syn-options"))?(n=JSON.parse(n)).checkedValue&&n.uncheckedValue&&(r=1==e.checked?n.checkedValue:n.uncheckedValue):r=e.checked:r="",r},setValue(e,t,n){e=syn.$l.get(e);t?(t=t.toString().toUpperCase(),e.checked="TRUE"==t||"Y"==t||"1"==t):e.checked=!1},toggleValue(e){e=syn.$l.get(e);0==e.checked?e.checked=!0:1==e.checked&&(e.checked=!1)},clear(e,t){syn.$l.get(e).checked=!1},getGroupNames(){for(var e=[],t=syn.$l.querySelectorAll("input[type='checkbox']"),n=0;n<t.length;n++)e.push(t[n].name);return $array.distinct(e)},setLocale(e,t,n,r){}}),syn.uicontrols.$checkbox=$checkbox}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $codepicker=$codepicker||new syn.module;$codepicker.extend({name:"syn.uicontrols.$codepicker",version:"1.0.0",defaultSetting:{dataSourceID:null,storeSourceID:null,local:!0,parameters:"",label:"",labelWidth:"",codeElementID:"",codeElementWidth:"",codeElementClass:"",textElementID:"",textElementWidth:"",textElementClass:"",required:!1,readonly:!1,disabled:!1,textBelongID:null,textDataFieldID:null,searchValue:"",searchText:"",isMultiSelect:!1,isAutoSearch:!0,isOnlineData:!1,viewType:"",dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r}),t.push({id:o+"_Text",formDataFieldID:e,field:n.textDataFieldID,module:syn.uicontrols.$textbox.name,type:"text"})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($codepicker.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,dataField=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.getAttribute("syn-datafield")),events=el.getAttribute("syn-events"),textboxCode=syn.$m.create({id:elID+"_Code",tag:"input",className:"form-control mr-1 pr-1"}),buttonOpen=(textboxCode.type="text",textboxCode.setAttribute("syn-events","['keydown']"),textboxCode.setAttribute("baseID",elID),0==$string.isNullOrEmpty(dataField)&&textboxCode.setAttribute("syn-datafield",dataField),0==$string.isNullOrEmpty(setting.codeElementWidth)&&(textboxCode.style.width=codeElementWidth),0==$string.isNullOrEmpty(setting.codeElementClass)&&syn.$m.addClass(textboxCode,codeElementClass),1==$string.toBoolean(setting.readonly)&&textboxCode.setAttribute("readonly","readonly"),1==$string.toBoolean(setting.disabled)&&textboxCode.setAttribute("disabled","disabled"),1==$string.toBoolean(setting.required)&&textboxCode.setAttribute("required","required"),1==$string.isNullOrEmpty(setting.belongID)?textboxCode.setAttribute("syn-options","{editType: 'text', dataType: 'string'}"):1==$object.isArray(setting.belongID)?textboxCode.setAttribute("syn-options",`{editType: 'text', dataType: 'string', belongID: ${JSON.stringify(setting.belongID)}}`):textboxCode.setAttribute("syn-options",`{editType: 'text', dataType: 'string', belongID: '${setting.belongID}'}`),0==$object.isNullOrUndefined(events)&&textboxCode.setAttribute("syn-events",events),syn.$m.insertAfter(textboxCode,el),syn.$m.create({id:elID+"_Button",tag:"button",className:"btn btn-icon f:18! bg-muted-lt"})),textboxText=(buttonOpen.innerHTML='<i class="ti ti-search"></i>',1!=$string.toBoolean(setting.readonly)&&1!=$string.toBoolean(setting.disabled)||textboxText.setAttribute("disabled","disabled"),syn.$m.insertAfter(buttonOpen,textboxCode),syn.$m.create({id:elID+"_Text",tag:"input",className:"form-control"})),codeEL=(textboxText.type="text",textboxText.setAttribute("syn-events","['keydown']"),textboxText.setAttribute("baseID",elID),0==$string.isNullOrEmpty(setting.textDataFieldID)&&textboxText.setAttribute("syn-datafield",setting.textDataFieldID),0==$string.isNullOrEmpty(setting.textElementWidth)&&(textboxText.style.width=textElementWidth),0==$string.isNullOrEmpty(setting.textElementClass)&&syn.$m.addClass(textboxText,textElementClass),1==$string.toBoolean(setting.readonly)&&textboxText.setAttribute("readonly","readonly"),1==$string.toBoolean(setting.disabled)&&textboxText.setAttribute("disabled","disabled"),1==$string.toBoolean(setting.required)&&textboxText.setAttribute("required","required"),1==$string.isNullOrEmpty(setting.textBelongID)?textboxText.setAttribute("syn-options","{editType: 'text', dataType: 'string'}"):1==$object.isArray(setting.textBelongID)?textboxText.setAttribute("syn-options",`{editType: 'text', dataType: 'string', belongID: ${JSON.stringify(setting.textBelongID)}}`):textboxText.setAttribute("syn-options",`{editType: 'text', dataType: 'string', belongID: '${setting.textBelongID}'}`),0==$object.isNullOrUndefined(events)&&textboxText.setAttribute("syn-events",events),syn.$m.insertAfter(textboxText,buttonOpen),syn.$l.get(elID+"_Code")),synOptions=(syn.$l.addEvent(codeEL,"focus",function(e){var e=e.srcElement||e.target,t=window[syn.$w.pageScript];t&&(t.prop.focusControl=e)}),syn.$l.addEvent(codeEL,"keydown",function(e){var t=e.currentTarget.id.replace("_Code","");syn.$l.get(t+"_Text").value="",13==e.keyCode&&syn.$l.trigger(syn.$l.get(t+"_Button"),"click",e)}),codeEL.getAttribute("syn-options")),textEL=(0==$string.isNullOrEmpty(synOptions)?syn.uicontrols.$textbox.controlLoad(codeEL.id,eval("("+synOptions+")")):syn.uicontrols.$textbox.controlLoad(codeEL.id,{}),syn.$l.get(elID+"_Text")),buttonEL=(syn.$l.addEvent(textEL,"focus",function(e){var e=e.srcElement||e.target,t=window[syn.$w.pageScript];t&&(t.prop.focusControl=e)}),syn.$l.addEvent(textEL,"keydown",function(e){var t=e.currentTarget.id.replace("_Text","");syn.$l.get(t+"_Code").value="",13==e.keyCode&&syn.$l.trigger(syn.$l.get(t+"_Button"),"click",e)}),synOptions=textEL.getAttribute("syn-options"),0==$string.isNullOrEmpty(synOptions)?syn.uicontrols.$textbox.controlLoad(textEL.id,eval("("+synOptions+")")):syn.uicontrols.$textbox.controlLoad(textEL.id,{}),syn.$l.get(elID+"_Button"));syn.$l.addEvent(buttonEL,"focus",function(e){var e=e.srcElement||e.target,t=window[syn.$w.pageScript];t&&(t.prop.focusControl=e)}),syn.$l.addEvent(buttonEL,"click",function(e){var n=(this&&-1<this.id.indexOf("_Button")?this:e.currentTarget).id.replace("_Button","").replace("_Code","").replace("_Text",""),e=JSON.parse(syn.$l.get(n+"_hidden").getAttribute("syn-options")),r=(e.elID=n,e.viewType="form",e.codeElementID=n+"_Code",e.textElementID=n+"_Text",e.searchValue=syn.$l.get(e.codeElementID).value,e.searchText=syn.$l.get(e.textElementID).value,syn.$l.get(e.codeElementID).value),o=syn.$l.get(e.textElementID).value;syn.uicontrols.$codepicker.find(e,function(e){e&&0<e.length&&(t=mod.event[n+"_change"])&&t(r,o,e);var t=mod.hook.frameEvent;t&&t.call(this,"codeReturn",{elID:n,result:e})})}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},find(u,c){var e,t,n;1==$object.isNullOrUndefined(u.dataSourceID)?syn.$l.eventLog("$codepicker.find","dataSourceID 설정 없음","Debug"):(u.storeSourceID=u.storeSourceID||u.dataSourceID,e=u.elID+u.viewType+u.dataSourceID,(t=window[syn.$w.pageScript])&&(t.hook.frameEvent&&(n=t.hook.frameEvent("codeInit",u),u=syn.$w.argumentsExtend(u,n)),0==/(\@ApplicationID)\s*:/.test(u.parameters)&&(u.parameters="@ApplicationID:{0};".format(syn.Config.ApplicationID)+u.parameters),syn.$w.User&&syn.$w.User.WorkCompanyNo&&0==/(\@CompanyNo)\s*:/.test(u.parameters)&&(u.parameters="@CompanyNo:{0};".format(syn.$w.User.WorkCompanyNo)+u.parameters),0==/(\@LocaleID)\s*:/.test(u.parameters)&&(u.parameters="@LocaleID:{0};".format(syn.Config.Program.LocaleID)+u.parameters),t.codePickerArguments=t.codePickerArguments||{},t.codePickerArguments[e]=u),(n=$object.clone(syn.$w.dialogOptions)).minWidth=640,n.minHeight=480,n.caption=(u.controlText||u.columnText||u.dataSourceID)+" 코드도움",syn.$w.showUIDialog(syn.Config.SharedAssetUrl+"codehelp/index.html?parameterID={0}".format(e),n,function(e){if(e&&0<e.length){var t,n,r="",o="";if(0==u.isMultiSelect)r=(d=e[0]).value,o=d.text;else{for(var l=[],i=[],a=e.length,s=0;s<a;s++){var d=e[s];l.push(d.value),i.push(d.text)}r=l.join(),o=i.join()}"form"==u.viewType?(syn.$l.get(u.codeElementID).value=r,u.textElementID&&(syn.$l.get(u.textElementID).value=o)):"grid"==u.viewType&&(n=(t=syn.uicontrols.$grid).getActiveRowIndex(u.elID),t.setDataAtCell(u.elID,n,u.codeColumnID,r),u.textColumnID)&&t.setDataAtCell(u.elID,n,u.textColumnID,o)}c&&c(e)}))},toParameterString(e){return e?Object.entries(e).reduce(function(e,t,n){var r=t[0],t=t[1];return-1==r.indexOf("@")&&(e+="string"==typeof t?"@"+r+":"+t+";":""),e},""):""},toParameterObject(e){return(e.match(/([^?:;]+)(:([^;]*))/g)||[]).reduce(function(e,t){return e[t.slice(0,t.indexOf(":")).replace("@","")]=t.slice(t.indexOf(":")+1),e},{})},getValue(e,t){return syn.$l.get(e+"_Code").value},setValue(e,t,n){syn.$l.get(e+"_Code").value=t},setText(e,t,n){syn.$l.get(e+"_Text").value=t},clear(e,t){syn.$l.get(e+"_Code").value="",syn.$l.get(e+"_Text").value=""},open(e){syn.$l.trigger(e+"_Button","click")},setLocale(e,t,n,r){}}),syn.uicontrols.$codepicker=$codepicker}(window),!function(g){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var p=syn.uicontrols.$colorpicker||new syn.module;p.extend({name:"syn.uicontrols.$colorpicker",version:"1.0.0",colorControls:[],defaultSetting:{elID:"",defaultColor:null,defineColors:["FF0000","FF4000","FF8000","FFBF00","FFFF00","BFFF00","80FF00","40FF00","00FF00","00FFFF","00BFFF","0080FF","0040FF","8000FF","BF00FF","FF00FF","FF0080","FF0080","848484","000000"],dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(e,t){for(var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(p.defaultSetting,t),g[syn.$w.pageScript]),r=(r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),t.elID=e,n.setAttribute("id",n.id+"_hidden"),n.setAttribute("syn-options",JSON.stringify(t)),n.style.display="none",n.getAttribute("syn-datafield")),r='<div class="control">'+'<input type="text" class="form-control" id="{0}" syn-datafield="{1}" syn-options="{editType: \'text\', maskPattern: \'#SSSSSS\', dataType: \'string\', belongID: \'{2}\'}" />'.format(e,r,t.belongID)+'<button type="button" id="{0}_Button" type="button" class="btn btn-default btn-code-search"></button>'.format(e)+"</div>",n=n.parentNode,o=syn.$m.create({tag:"div",id:e+"_box",className:"control-set"}),l=(o.innerHTML=r,n.appendChild(o),syn.uicontrols.$textbox.controlLoad(e),t.field=syn.$l.get(e),t.trigger=syn.$l.get(e+"_Button"),syn.$l.addEvent(t.trigger,"click",function(e){l[l.visible?"exit":"enter"]()}),new CP(t.field)),i=(1==$object.isString(t.defaultColor)&&l.set(t.defaultColor),document.createElement("span")),a=(i.className="color-pickers",l.self.appendChild(i),null),s=0,d=t.defineColors.length;s<d;++s)(a=document.createElement("span")).title="#"+t.defineColors[s],a.style.backgroundColor="#"+t.defineColors[s],syn.$l.addEvent(a,"click",function(e){l.set(this.title),l.fire("change",[this.title.slice(1)],"main-change"),e.stopPropagation()}),i.appendChild(a);var u=document.createElement("input");function c(){this.value.length&&(l.set(this.value),l.fire("change",[this.value.slice(1)]))}l.source.onclick=function(e){e.preventDefault()},u.className="color-picker-code",u.pattern="^#[A-Fa-f0-9]{6}$",u.type="text",l.on("enter",function(){u.value="#"+CP._HSV2HEX(this.get())}),l.on("change",function(e){this.source.value="#"+e,u.value="#"+e,u.style.backgroundColor="#"+e}),l.self.appendChild(u),u.oncut=c,u.onpaste=c,u.onkeyup=c,u.oninput=c,p.colorControls.push({id:e,picker:l,setting:$object.clone(t)}),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},getValue(e,t){var n=null,e=p.getControl(e);return n=e?e.picker.field.value:n},setValue(e,t,n){e=p.getControl(e);e&&(e.picker.field.value=t)},colorConvert(e,t){return CP[e](t)},clear(e,t){e=p.getControl(e);e&&e.picker.clear()},getControl(e){for(var t=null,n=p.colorControls.length,r=0;r<n;r++){var o=p.colorControls[r];if(o.id==e){t=o;break}}return t},setLocale(e,t,n,r){}}),syn.uicontrols.$colorpicker=p}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $contextmenu=syn.uicontrols.$contextmenu||new syn.module;$contextmenu.extend({name:"syn.uicontrols.$contextmenu",version:"1.0.0",menuControls:[],eventHooks:["close","create","beforeOpen","open","select"],defaultSetting:{target:"targetCSSSelector",delegate:"delegateCSSSelector",autoFocus:!0,closeOnWindowBlur:!0,hide:!1,show:!1,menu:[{title:"Cut",cmd:"cut"},{title:"Copy",cmd:"copy",uiIcon:"ui-icon-copy"},{title:"---"},{title:"More",children:[{title:"Sub 1",cmd:"sub1"},{title:"Sub 2",cmd:"sub1"}]}],dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($contextmenu.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,hookEvents=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.getAttribute("syn-events"));try{hookEvents=hookEvents&&eval(hookEvents)}catch(error){syn.$l.eventLog("ContextMenu_controlLoad",error.toString(),"Debug")}for(var i=0;i<hookEvents.length;i++){var hookEvent=hookEvents[i];-1<$contextmenu.eventHooks.indexOf(hookEvent)&&1==$object.isNullOrUndefined(setting[hookEvent])&&(setting[hookEvent]=function(t,e){var n=$contextmenu.eventHooks.find(function(e){return e.toLowerCase()==t.type.replace("contextmenu","")}),r=window[syn.$w.pageScript];r&&(r=r.event?r.event["{0}_{1}".format(elID,n)]:null)&&r.apply(syn.$l.get(elID),[t,e])})}$contextmenu.menuControls.push({id:elID,context:$(setting.target).contextmenu(setting),config:setting})},getValue(e,t){return null},setValue(e,t,n){},clear(e,t){},getControl(e){for(var t=null,n=$contextmenu.menuControls.length,r=0;r<n;r++){var o=$contextmenu.menuControls[r];if(o.id==e){t=o;break}}return t},close(e){e=$contextmenu.getControl(e).context;e&&e.contextmenu("close")},enableEntry(e,t,n){e=$contextmenu.getControl(e).context;e&&e.contextmenu("enableEntry",t,n)},getEntry(e,t){var n=null,e=$contextmenu.getControl(e).context;return n=e?e.contextmenu("getEntry",t):n},setEntry(e,t,n){var r=null,e=$contextmenu.getControl(e).context;return r=e?e.contextmenu("setEntry",t,n):r},updateEntry(e,t,n){var r=null,e=$contextmenu.getControl(e).context;return r=e?e.contextmenu("updateEntry",t,n):r},showEntry(e,t,n){var r=null,e=$contextmenu.getControl(e).context;return r=e?e.contextmenu("showEntry",t,n):r},getEntryWrapper(e,t){var n=null,e=$contextmenu.getControl(e).context;return n=e?e.contextmenu("getEntryWrapper",t):n},getMenu(e){var t=null,e=$contextmenu.getControl(e).context;return t=e?e.contextmenu("getMenu"):t},isOpen(e){var t=null,e=$contextmenu.getControl(e).context;return t=e?e.contextmenu("isOpen"):t},open(e,t,n){e=$contextmenu.getControl(e).context;e&&e.contextmenu("open",t,n)},setIcon(e,t,n){var r=null,e=$contextmenu.getControl(e).context;return r=e?e.contextmenu("setIcon",t,n):r},setTitle(e,t,n){var r=null,e=$contextmenu.getControl(e).context;return r=e?e.contextmenu("setTitle",t,n):r},setLocale(e,t,n,r){}}),syn.uicontrols.$contextmenu=$contextmenu}(window),!function(o){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var c=syn.uicontrols.$data||new syn.module;c.extend({name:"syn.uicontrols.$data",version:"1.0.0",bindingList:[],storeList:[],propertyEvent:!0,defaultSetting:{dataSourceID:"",storeType:"Form",dataItems:[],dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},controlLoad(e,t){var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(c.defaultSetting,t),o[syn.$w.pageScript]);r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),n.setAttribute("syn-options",JSON.stringify(t)),n.style.display="none",$this.store[t.dataSourceID]="Form"==t.storeType?{}:[],c.storeList.push({id:e,dataSourceID:t.dataSourceID,storeType:t.storeType,columns:t.columns})},getValue(e,t){var n=null,e=(c.propertyEvent=!1,c.getMetaStore(e));return e&&(n=$this.store[e.dataSourceID]),c.propertyEvent=!0,n},setValue(e,t,n){},clear(e,t){},getMetaStore(e){for(var t=null,n=c.storeList.length,r=0;r<n;r++){var o=c.storeList[r];if(o.id==e){t=o;break}}return t},reactionGetValue(t,n,r){var e=null,o=c.bindingList.find(function(e){return e.elID==t&&e.dataSourceID==n&&e.dataFieldID==r});if(o){var l=c.storeList.find(function(e){return e.dataSourceID==o.dataSourceID});if("grid"==o.controlType||"list"==o.controlType||"chart"==o.controlType){for(var i={},a=l.columns.length,s=0;s<a;s++){var d=l.columns[s];i[d.data]={fieldID:d.data,dataType:d.dataType}}var u="Form"==l.storeType?"Row":"List",e=o.controlModule.getValue(t,u,i)}else e=o.controlModule.getValue(t)}return e},reactionSetValue(t,n,r,e){var o=c.bindingList.find(function(e){return e.elID==t&&e.dataSourceID==n&&e.dataFieldID==r});if(o){var l=c.storeList.find(function(e){return e.dataSourceID==o.dataSourceID});if("grid"==o.controlType||"list"==o.controlType||"chart"==o.controlType){for(var i={},a=l.columns.length,s=0;s<a;s++){var d=l.columns[s];i[d.data]={fieldID:d.data,dataType:d.dataType}}o.controlModule.setValue(t,e,i)}else o.controlModule.setValue(t,e)}},bindingSource(t,n){var e=$this.store[n],r=syn.$l.get(t+"_hidden")||syn.$l.get(t);if(0==$object.isNullOrUndefined(r)){var o=r.tagName.toUpperCase(),l=null,i=null;if(-1<o.indexOf("QAF_"))var a=o.substring(4).toLowerCase(),l=syn.uicontrols["$"+a],i=a;else switch(o){case"BUTTON":l=syn.uicontrols.$button,i="button";break;case"INPUT":switch(i=r.getAttribute("type").toLowerCase()){case"hidden":case"text":case"password":case"color":case"email":case"number":case"search":case"tel":case"url":l=syn.uicontrols.$textbox;break;case"submit":case"reset":case"button":l=syn.uicontrols.$button;break;case"radio":l=syn.uicontrols.$radio;break;case"checkbox":l=syn.uicontrols.$checkbox}break;case"TEXTAREA":l=syn.uicontrols.$textarea,i="textarea";break;case"SELECT":i=null==r.getAttribute("multiple")?(l=syn.uicontrols.$select,"select"):(l=syn.uicontrols.$multiselect,"multiselect")}var s=r.getAttribute("syn-datafield");s?null==("grid"==i||"list"==i||"chart"==i?c.bindingList.find(function(e){return e.dataSourceID==n}):c.bindingList.find(function(e){return e.elID==t&&e.dataSourceID==n&&e.dataFieldID==s}))?(c.bindingList.push({elID:t,dataSourceID:n,dataFieldID:s,controlModule:l,controlType:i}),Object.defineProperty(e,s,{get(){if(1==c.propertyEvent)return c.reactionGetValue(t,n,s)},set(e){1==c.propertyEvent&&c.reactionSetValue(t,n,s,e)},configurable:!0,enumerable:!0})):syn.$l.eventLog("$data.bindingSource","binding 정보 확인 필요 - elID: {0}, dataSourceID: {1}, dataFieldID: {2}, controlType: {3}, ".format(t,n,s,i),"Warning"):syn.$l.eventLog("$data.bindingSource","dataFieldID 확인 필요","Warning")}else syn.$l.eventLog("$data.bindingSource",'"{0}" elID 확인 필요'.format(t),"Warning")},setLocale(e,t,n,r){}}),syn.uicontrols.$data=c}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $datepicker=syn.uicontrols.$datepicker||new syn.module;$datepicker.extend({name:"syn.uicontrols.$datepicker",version:"1.0.0",dateControls:[],defaultSetting:{elID:"",width:"100%",value:"",defaultDate:null,setDefaultDate:!1,minDate:null,maxDate:null,bound:!0,format:"YYYY-MM-DD",ariaLabel:"날짜를 선택하세요",i18n:{previousMonth:"이전 달",nextMonth:"다음 달",months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],weekdays:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekdaysShort:["일","월","화","수","목","금","토"]},showWeekNumber:!1,showMonthAfterYear:!0,yearSuffix:"년",firstDay:0,useRangeSelect:!1,rangeStartControlID:null,rangeEndControlID:null,numberOfMonths:1,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($datepicker.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,dataField=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),!0===setting.useRangeSelect&&(1==$object.isNullOrUndefined(setting.rangeStartControlID)&&(setting.rangeStartControlID=elID),1==$object.isNullOrUndefined(setting.rangeEndControlID))&&(setting.rangeEndControlID=elID),setting.elID=elID,el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.getAttribute("syn-datafield")),events=el.getAttribute("syn-events"),textbox=syn.$m.create({id:elID,tag:"input",className:"form-control"}),button=(textbox.type="text",0==$string.isNullOrEmpty(dataField)&&textbox.setAttribute("syn-datafield",dataField),1==$string.isNullOrEmpty(setting.belongID)?textbox.setAttribute("syn-options","{editType: 'date', maskPattern: '9999-99-99', dataType: 'string'}"):1==$object.isArray(setting.belongID)?textbox.setAttribute("syn-options",`{editType: 'date', maskPattern: '9999-99-99', dataType: 'string', belongID: ${JSON.stringify(setting.belongID)}}`):textbox.setAttribute("syn-options",`{editType: 'date', maskPattern: '9999-99-99', dataType: 'string', belongID: '${setting.belongID}'}`),0==$object.isNullOrUndefined(events)&&textbox.setAttribute("syn-events",events),syn.$m.insertAfter(textbox,el),syn.$m.create({id:elID+"_Button",tag:"button",className:"btn btn-icon f:20! bg-muted-lt"})),picker=(button.innerHTML='<i class="ti ti-calendar"></i>',syn.$m.insertAfter(button,textbox),syn.uicontrols.$textbox.controlLoad(elID,eval("("+syn.$l.get(elID).getAttribute("syn-options")+")")),setting.field=syn.$l.get(elID),setting=syn.$w.argumentsExtend({onOpen(){var e=this._o.elID,t=this.getDate(),n=($datepicker.updateRangeDate(e,t),window[syn.$w.pageScript]),r="{0}_onselect".format(e);n&&n.event[r]&&n.event[r](e,t)},onClose(){var e=this._o.elID,t=this.getDate(),n=($datepicker.updateRangeDate(e,t),window[syn.$w.pageScript]),r="{0}_onselect".format(e);n&&n.event[r]&&n.event[r](e,t)},onSelect(e){var t,n,r;e&&(t=this._o.elID,$datepicker.updateRangeDate(t,e),n=window[syn.$w.pageScript],r="{0}_onselect".format(t),n)&&n.event[r]&&n.event[r](t,e)}},setting),new Pikaday(setting)),value,date;0==$string.isNullOrEmpty(setting.value)&&(value=setting.value,date=null,"now"==value?date=new Date:1==value.startsWith("day:")?date=$date.addDay(new Date,$string.toNumber(value.split(":")[1])):1==value.startsWith("week:")?date=$date.addWeek(new Date,$string.toNumber(value.split(":")[1])):1==value.startsWith("month:")?date=$date.addMonth(new Date,$string.toNumber(value.split(":")[1])):1==value.startsWith("year:")&&(date=$date.addyear(new Date,$string.toNumber(value.split(":")[1]))),date)&&picker.setDate($date.toString(date,"d")),syn.$l.addEvent(syn.$l.get(elID+"_Button"),"click",function(e){picker[picker.isVisible()?"hide":"show"]()}),$datepicker.dateControls.push({id:elID,picker:picker,setting:$object.clone(setting)}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue(e,t){var n=null,e=$datepicker.getControl(e);return n=e?e.picker._o.field.value:n},setValue(e,t,n){e=$datepicker.getControl(e);e&&e.picker.setDate(t)},clear(e,t){e=$datepicker.getControl(e);e&&e.picker.clear()},getControl(e){for(var t=null,n=$datepicker.dateControls.length,r=0;r<n;r++){var o=$datepicker.dateControls[r];if(o.id==e){t=o;break}}return t},updateRangeDate(e,t){var n,r,o,l=syn.$l.get(e);0==$object.isNullOrUndefined(l)&&(l=$datepicker.getControl(e))&&!0===l.setting.useRangeSelect&&(l.setting.rangeStartControlID==e?(n=l.picker,r=null,(o=$datepicker.getControl(l.setting.rangeEndControlID))&&(r=o.picker),n&&r&&$datepicker.updateStartDate(n,r,t)):l.setting.rangeEndControlID==e&&(n=null,r=l.picker,n=(o=$datepicker.getControl(l.setting.rangeStartControlID))?o.picker:n)&&r&&$datepicker.updateEndDate(n,r,t))},updateStartDate(e,t,n){e.setStartRange(n),t.setStartRange(n),t.setMinDate(n)},updateEndDate(e,t,n){e.setEndRange(n),e.setMaxDate(n),t.setEndRange(n)},setLocale(e,t,n,r){}}),syn.uicontrols.$datepicker=$datepicker}(window),!function(o){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var u=syn.uicontrols.$multiselect||new syn.module;u.extend({name:"syn.uicontrols.$multiselect",version:"1.0.0",selectControls:[],defaultSetting:{elID:"",required:!1,placeholder:"전체",animate:!1,local:!0,search:!1,multiSelectAll:!0,width:"100%",classNames:null,dataSourceID:null,storeSourceID:null,parameters:null,selectedValue:null,toSynControl:!1,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(e,t){t=syn.$w.argumentsExtend(u.defaultSetting,t);var n=o[syn.$w.pageScript],r=(n&&n.hook.controlInit&&(r=n.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),t.elID=e,t.storeSourceID=t.storeSourceID||t.dataSourceID,syn.$l.get(e));r.setAttribute("syn-options",JSON.stringify(t)),u.addControlSetting(r,t),t.storeSourceID&&(syn.$w.addReadyCount(),r=null,(r=n.config&&n.config.dataSource&&n.config.dataSource[t.storeSourceID]&&1==t.local?n.config.dataSource[t.storeSourceID]:r)?(u.loadData(t.elID,r,t.required),t.selectedValue&&u.setValue(t.elID,t.selectedValue),syn.$w.removeReadyCount()):1==t.local?syn.$w.loadJson(syn.Config.SharedAssetUrl+"code/{0}.json".format(t.storeSourceID),t,function(e,t){t&&(n.config.dataSource[e.storeSourceID]=t,u.loadData(e.elID,t,e.required),e.selectedValue)&&u.setValue(e.elID,e.selectedValue),syn.$w.removeReadyCount()},!1):syn.$w.getDataSource(t.dataSourceID,t.parameters,function(e){e&&(n.config.dataSource[t.storeSourceID]=e,u.loadData(t.elID,e,t.required),t.selectedValue)&&u.setValue(t.elID,t.selectedValue),syn.$w.removeReadyCount()})),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},dataRefresh(e,t,n){var r;(t=syn.$w.argumentsExtend(JSON.parse(syn.$l.get(e).getAttribute("syn-options")),t)).storeSourceID=t.storeSourceID||t.dataSourceID,syn.$l.get(e).setAttribute("syn-options",JSON.stringify(t)),t.dataSourceID&&((r=o[syn.$w.pageScript]).config&&r.config.dataSource&&r.config.dataSource[t.storeSourceID]&&delete r.config.dataSource[t.storeSourceID],r&&r.hook.controlInit&&(e=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,e)),e=null,(e=r.config&&r.config.dataSource&&r.config.dataSource[t.storeSourceID]?r.config.dataSource[t.storeSourceID]:e)?(u.loadData(t.elID,e,t.required),t.selectedValue&&u.setValue(t.elID,t.selectedValue),n&&n()):1==t.local?syn.$w.loadJson(syn.Config.SharedAssetUrl+"code/{0}.json".format(t.storeSourceID),t,function(e,t){r.config.dataSource[e.storeSourceID]=t,u.loadData(e.elID,t,e.required),e.selectedValue&&u.setValue(e.elID,e.selectedValue),n&&n()},!1):syn.$w.getDataSource(t.dataSourceID,t.parameters,function(e){r.config.dataSource[t.storeSourceID]=e,u.loadData(t.elID,e,t.required),t.selectedValue&&u.setValue(t.elID,t.selectedValue),n&&n()}))},addControlSetting(e,t){var n=null;1==t.toSynControl&&(n=tail.select(e,t),syn.$m.addClass(n.select,e.className),n.on("open",function(){var e=u.getControl(this.e.id).picker,t=(1==$string.toBoolean(e.selectedDisabled)?(e.selectValues=e.value(),e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color=""),this.e.options),n=t.length,r=0,o=0;if(0<n){for(var l=0;l<n;l++){var i=t[l].textContent.length;r<i&&(r=i,o=l)}var e=syn.$d.measureSize(t[o].textContent);e&&(600<(e=parseInt(e.width.replace("px",""))+50)&&(e=600),syn.$d.getSize(this.dropdown).width<e)&&(this.dropdown.style.width=e.toString()+"px")}}),n.on("close",function(){var e=u.getControl(this.e.id).picker;1==$string.toBoolean(e.selectedDisabled)?(u.setValue(this.e.id,e.selectValues),e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color="")}),setTimeout(function(){n.select.picker=n,syn.$l.addEvent(n.select,"focus",function(e){$this.tabOrderFocusID=this.picker.e.id,$this.focusControl=this.picker.e})})),u.selectControls.push({id:e.id,picker:n,setting:$object.clone(t)})},getValue(e,t){var n=[],r=syn.$l.get(e);if(0==$object.isNullOrUndefined(r))for(var o=r.options.length,l=0;l<o;l++){var i=r.options[l];1==i.selected&&n.push(i.value)}return n.join(",")},setValue(e,t,n){var r=syn.$l.get(e);if(0==$object.isNullOrUndefined(r)){0==$object.isBoolean(n)&&(n=!0);for(var o=r.options.length,l=0;l<o;l++)r.options[l].selected;if(0==$object.isNullOrUndefined(t))for(var i=(t=0==$object.isArray(t)?t.split(","):t).length,l=0;l<i;l++)for(var a=t[l],s=0;s<o;s++){var d=r.options[s];if(d.value==a){d.selected=n;break}}u.controlReload(e)}},clear(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){for(var r=n.options.length,o=0;o<r;o++)n.options[o].selected=!1;u.controlReload(e)}},loadData(e,t,n){for(var r=syn.$l.get(e),o=(1==$object.isNullOrUndefined(n)&&(n=!1),syn.uicontrols.$multiselect.getControl(e).setting.placeholder),l=(tail.select.strings.en.placeholderMulti=o,[]),i=((r.options.length=0)==n&&l.push(`<option value="">${o}</option>`),t.DataSource.length),a=0;a<i;a++){var s=t.DataSource[a];l.push('<option value="'.concat(s[t.CodeColumnID],'">',s[t.ValueColumnID],"</option>"))}r.innerHTML=l.join(""),u.setSelectedDisabled(e,!1),u.controlReload(e)},controlReload(e){var t=syn.$l.get(e);0==$object.isNullOrUndefined(t)&&(t=u.getControl(e))&&t.picker&&t.picker.reload()},getSelectedIndex(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)?e.options.selectedIndex:t},setSelectedIndex(e,t){e=syn.$l.get(e);0==$object.isNullOrUndefined(e)&&(e.options.selectedIndex=t)},getSelectedValue(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)&&-1<e.options.selectedIndex?e.options[e.options.selectedIndex].value:t},getSelectedText(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)&&-1<e.options.selectedIndex?e.options[e.options.selectedIndex].text:t},setSelectedValue(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){for(var r=n.options.length,o=0;o<r;o++){var l=n.options[o];1==$object.isString(t)?l.value==t&&(l.selected=!0):1==$object.isArray(t)&&-1<t.indexOf(l.value)&&(l.selected=!0)}u.controlReload(e)}},setSelectedText(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){for(var r=n.options.length,o=0;o<r;o++){var l=n.options[o];1==$object.isString(t)?l.text==t&&(l.selected=!0):1==$object.isArray(t)&&-1<t.indexOf(l.text)&&(l.selected=!0)}u.controlReload(e)}},disabled(e,t){1==$object.isNullOrUndefined(t)&&(t=!1),t=$string.toBoolean(t);var n=syn.uicontrols.$multiselect.getControl(e);n&&(1==n.setting.toSynControl?n.picker.config("disabled",t):(n=syn.$l.get(e),1==t?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")))},setSelectedDisabled(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){var r=u.getValue(e).split(","),o=n.options.length,t=$string.toBoolean(t);if(1==t)for(var l=0;l<o;l++){var i=n.options[l];-1<r.indexOf(i.value)?i.disabled=!1:i.disabled=!0}else for(l=0;l<o;l++)(i=n.options[l]).disabled=!1;u.controlReload(e);e=u.getControl(e).picker;e&&(1==(e.selectedDisabled=t)?(e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color=""))}},getControl(e){for(var t=null,n=u.selectControls.length,r=0;r<n;r++){var o=u.selectControls[r];if(o.id==e){t=o;break}}return t},setLocale(e,t,n,r){}}),syn.uicontrols.$multiselect=u}(window),!function(o){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var d=syn.uicontrols.$select||new syn.module;d.extend({name:"syn.uicontrols.$select",version:"1.0.0",selectControls:[],defaultSetting:{elID:"",placeholder:"전체",required:!1,animate:!1,local:!0,search:!1,multiSelectAll:!1,width:"100%",classNames:null,dataSourceID:null,storeSourceID:null,parameters:null,selectedValue:null,toSynControl:!0,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(e,t){t=syn.$w.argumentsExtend(d.defaultSetting,t);var n=o[syn.$w.pageScript],r=(n&&n.hook.controlInit&&(r=n.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),t.elID=e,t.storeSourceID=t.storeSourceID||t.dataSourceID,syn.$l.get(e));r.setAttribute("syn-options",JSON.stringify(t)),d.addControlSetting(r,t),t.storeSourceID&&(syn.$w.addReadyCount(),r=null,(r=n.config&&n.config.dataSource&&n.config.dataSource[t.storeSourceID]&&1==t.local?n.config.dataSource[t.storeSourceID]:r)?(d.loadData(t.elID,r,t.required),t.selectedValue&&d.setValue(t.elID,t.selectedValue),syn.$w.removeReadyCount()):1==t.local?syn.$w.loadJson(syn.Config.SharedAssetUrl+"code/{0}.json".format(t.storeSourceID),t,function(e,t){t&&(n.config.dataSource[e.storeSourceID]=t,d.loadData(e.elID,t,e.required),e.selectedValue)&&d.setValue(e.elID,e.selectedValue),syn.$w.removeReadyCount()},!1):syn.$w.getDataSource(t.dataSourceID,t.parameters,function(e){e&&(n.config.dataSource[t.storeSourceID]=e,d.loadData(t.elID,e,t.required),t.selectedValue)&&d.setValue(t.elID,t.selectedValue),syn.$w.removeReadyCount()})),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},dataRefresh(e,t,n){var r;(t=syn.$w.argumentsExtend(JSON.parse(syn.$l.get(e).getAttribute("syn-options")),t)).storeSourceID=t.storeSourceID||t.dataSourceID,syn.$l.get(e).setAttribute("syn-options",JSON.stringify(t)),t.dataSourceID&&((r=o[syn.$w.pageScript]).config&&r.config.dataSource&&r.config.dataSource[t.storeSourceID]&&delete r.config.dataSource[t.storeSourceID],r&&r.hook.controlInit&&(e=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,e)),e=null,(e=r.config&&r.config.dataSource&&r.config.dataSource[t.storeSourceID]?r.config.dataSource[t.storeSourceID]:e)?(d.loadData(t.elID,e,t.required),t.selectedValue&&d.setValue(t.elID,t.selectedValue),n&&n()):1==t.local?syn.$w.loadJson(syn.Config.SharedAssetUrl+"code/{0}.json".format(t.storeSourceID),t,function(e,t){r.config.dataSource[e.storeSourceID]=t,d.loadData(e.elID,t,e.required),e.selectedValue&&d.setValue(e.elID,e.selectedValue),n&&n()},!1):syn.$w.getDataSource(t.dataSourceID,t.parameters,function(e){r.config.dataSource[t.storeSourceID]=e,d.loadData(t.elID,e,t.required),t.selectedValue&&d.setValue(t.elID,t.selectedValue),n&&n()}))},addControlSetting(e,t){var n=null;1==t.toSynControl&&(n=tail.select(e,t),syn.$m.addClass(n.select,e.className),n.on("open",function(){var e=d.getControl(this.e.id).picker,t=(1==$string.toBoolean(e.selectedDisabled)?(e.selectValue=e.value(),e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color=""),this.e.options),n=t.length,r=0,o=0;if(0<n){for(var l=0;l<n;l++){var i=t[l].textContent.length;r<i&&(r=i,o=l)}var e=syn.$d.measureSize(t[o].textContent);e&&(600<(e=parseInt(e.width.replace("px",""))+50)&&(e=600),syn.$d.getSize(this.dropdown).width<e)&&(this.dropdown.style.width=e.toString()+"px")}}),n.on("close",function(){var e=d.getControl(this.e.id).picker;1==$string.toBoolean(e.selectedDisabled)?(d.setValue(this.e.id,e.selectValue),e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color="")}),setTimeout(function(){n.select.picker=n,syn.$l.addEvent(n.select,"focus",function(e){$this.tabOrderFocusID=this.picker.e.id,$this.focusControl=this.picker.e})})),d.selectControls.push({id:e.id,picker:n,setting:$object.clone(t)})},getValue(e,t){var n="",e=syn.$l.get(e);return n=0==$object.isNullOrUndefined(e)?e.value:n},setValue(e,t,n){var r=syn.$l.get(e);0==$object.isNullOrUndefined(r)&&(r.value=t,d.controlReload(e))},clear(e,t){var n=syn.$l.get(e);0==$object.isNullOrUndefined(n)&&(n.value="",d.controlReload(e))},loadData(e,t,n){for(var r=syn.$l.get(e),o=(1==$object.isNullOrUndefined(n)&&(n=!1),syn.uicontrols.$select.getControl(e).setting.placeholder),l=(tail.select.strings.en.placeholder=o,[]),i=((r.options.length=0)==n&&l.push(`<option value="">${o}</option>`),t.DataSource.length),a=0;a<i;a++){var s=t.DataSource[a];l.push('<option value="'.concat(s[t.CodeColumnID],'">',s[t.ValueColumnID],"</option>"))}r.innerHTML=l.join(""),d.setSelectedDisabled(e,!1),d.controlReload(e)},controlReload(e){var t=syn.$l.get(e);0==$object.isNullOrUndefined(t)&&(t=d.getControl(e))&&t.picker&&t.picker.reload()},getSelectedIndex(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)?e.options.selectedIndex:t},setSelectedIndex(e,t){var n=syn.$l.get(e);0==$object.isNullOrUndefined(n)&&n.options.length>t&&(n.selectedIndex=t,d.controlReload(e))},setSelectedValue(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n))for(var r=n.options.length,o=0;o<r;o++)if(n.options[o].value==t){n.selectedIndex=o,d.controlReload(e);break}},setSelectedText(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n))for(var r=n.options.length,o=0;o<r;o++)if(n.options[o].text==t){n.selectedIndex=o,d.controlReload(e);break}},getSelectedValue(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)&&-1<e.options.selectedIndex?e.options[e.options.selectedIndex].value:t},getSelectedText(e){var t="",e=syn.$l.get(e);return t=0==$object.isNullOrUndefined(e)&&-1<e.options.selectedIndex?e.options[e.options.selectedIndex].text:t},disabled(e,t){1==$object.isNullOrUndefined(t)&&(t=!1),t=$string.toBoolean(t);var n=syn.uicontrols.$select.getControl(e);n&&(1==n.setting.toSynControl?n.picker.config("disabled",t):(n=syn.$l.get(e),1==t?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")))},setSelectedDisabled(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){var r=d.getSelectedValue(e),o=n.options.length,t=$string.toBoolean(t);if(1==t)for(var l=0;l<o;l++)(i=n.options[l]).value==r?i.disabled=!1:i.disabled=!0;else for(var i,l=0;l<o;l++)(i=n.options[l]).disabled=!1;d.controlReload(e);e=d.getControl(e).picker;e&&(1==(e.selectedDisabled=t)?(e.label.style.backgroundColor="#f2f2f2",e.label.style.color="#999"):(e.label.style.backgroundColor="",e.label.style.color=""))}},getControl(e){for(var t=null,n=d.selectControls.length,r=0;r<n;r++){var o=d.selectControls[r];if(o.id==e){t=o;break}}return t},setLocale(e,t,n,r){}}),syn.uicontrols.$select=d}(window),!function(window){"use strict";window.fileUploadOptions=null,syn.uicontrols=syn.uicontrols||new syn.module;var $fileclient=$fileclient||new syn.module;$fileclient.extend({name:"syn.uicontrols.$fileclient",version:"1.0.0",fileManagers:[],fileControls:[],applicationID:"",businessID:"",mimeType:{html:"text/html",htm:"text/html",css:"text/css",xml:"text/xml",txt:"text/plain",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tif:"image/tiff",ico:"image/x-icon",bmp:"image/x-ms-bmp",svg:"image/svg+xml",webp:"image/webp",js:"application/x-javascript",pdf:"application/pdf",rtf:"application/rtf",doc:"application/msword",docx:"application/msword",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.ms-powerpoint","7z":"application/x-7z-compressed",zip:"application/zip",bin:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",iso:"application/octet-stream",msi:"application/octet-stream",mp3:"audio/mpeg",ogg:"audio/ogg",mp4:"video/mp4"},isFileAPIBrowser:!1,defaultSetting:{elementID:null,dialogTitle:"파일 업로드",tokenID:"",repositoryID:"",dependencyID:"",businessID:"",applicationID:"",fileUpdateCallback:null,accept:"*/*",uploadUrl:"",fileChangeHandler:void 0,custom1:void 0,custom2:void 0,custom3:void 0,minHeight:360,fileManagerServer:"",dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($fileclient.defaultSetting,setting),setting.elementID=elID,window[syn.$w.pageScript]),moduleSettings;mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),setting.uploadType=null,setting.uploadUrl=null,syn.Config&&syn.Config.FileManagerServer&&(setting.fileManagerServer=syn.Config.FileManagerServer),1==$string.isNullOrEmpty(setting.fileManagerServer)?syn.$l.eventLog("$fileclient.controlLoad","파일 컨트롤 초기화 오류, 파일 서버 정보 확인 필요","Error"):(1==location.pathname.startsWith(syn.Config.TenantAppRequestPath?`/${syn.Config.TenantAppRequestPath}/`:"/app/")?1==$string.isNullOrEmpty($fileclient.applicationID)&&($fileclient.applicationID=syn.$w.ManagedApp.ApplicationID):1==$string.isNullOrEmpty($fileclient.applicationID)&&($fileclient.applicationID=syn.$w.Variable.ApplicationID||syn.$w.User.ApplicationID||syn.Config.ApplicationID),1==$string.isNullOrEmpty($fileclient.applicationID)?syn.$l.eventLog("$fileclient.controlLoad","파일 컨트롤 초기화 오류, ApplicationID 정보 확인 필요","Error"):(syn.Config.FileBusinessIDSource&&"None"!=syn.Config.FileBusinessIDSource&&("Cookie"==syn.Config.FileBusinessIDSource?$fileclient.businessID=syn.$r.getCookie("FileBusinessID"):"SessionStorage"==syn.Config.FileBusinessIDSource&&($fileclient.businessID=syn.$w.getStorage("FileBusinessID"))),1==$string.isNullOrEmpty($fileclient.businessID)&&($fileclient.businessID=syn.$w.User.WorkCompanyNo),1==$string.isNullOrEmpty($fileclient.businessID)&&($fileclient.businessID="0"),syn.$w.loadJson(setting.fileManagerServer+"/repository/api/storage/get-repository?applicationID={0}&repositoryID={1}".format($fileclient.applicationID,setting.repositoryID),setting,function(setting,repositoryData){setting.dialogTitle=repositoryData.RepositoryName,setting.storageType=repositoryData.StorageType,setting.isMultiUpload=repositoryData.IsMultiUpload,setting.isAutoPath=repositoryData.IsAutoPath,setting.policyPathID=repositoryData.PolicyPathID,setting.uploadType=repositoryData.UploadType,setting.uploadExtensions=repositoryData.UploadExtensions,setting.accept=repositoryData.UploadExtensions,setting.uploadCount=repositoryData.UploadCount,setting.uploadSizeLimit=repositoryData.UploadSizeLimit,"Single"==setting.uploadType?setting.uploadUrl=syn.Config.SharedAssetUrl+"upload/SingleFile.html":"Profile"==setting.uploadType?setting.uploadUrl=syn.Config.SharedAssetUrl+"upload/ProfilePicture.html":"Multi"==setting.uploadType?setting.uploadUrl=syn.Config.SharedAssetUrl+"upload/MultiFiles.html":"ImageLink"==setting.uploadType&&(setting.uploadUrl=syn.Config.SharedAssetUrl+"upload/ImageLinkFiles.html"),setting.elID=elID,el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none";var dataFieldID=el.getAttribute("syn-datafield"),events=el.getAttribute("syn-events"),value=el.value||"",name=el.name||"",html="",html=events?'<input type="hidden" id="{0}" name="{1}" syn-datafield="{2}" value="{3}" syn-events={4}>'.format(elID,name,dataFieldID,value,"['"+eval(events).join("','")+"']"):'<input type="hidden" id="{0}" name="{1}" syn-datafield="{2}" value="{3}">'.format(elID,name,dataFieldID,value),parent=el.parentNode,wrapper=document.createElement("div");wrapper.innerHTML=html,parent.appendChild(wrapper),syn.$l.get(elID).setAttribute("syn-options",JSON.stringify(setting)),$fileclient.fileControls.push({id:elID,setting:$object.clone(setting)})},function(){1==$string.isNullOrEmpty(setting.uploadUrl)&&syn.$w.alert("{0}에 대한 파일 서버 저장 정보 확인 필요".format(setting.repositoryID))},!0,!0),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)))},moduleInit(){syn.$l.addEvent(window,"message",function(e){var repositoryData=e.data;if(-1<(syn.Config.FileManagerServer+"/repository/api/storage").indexOf(e.origin)&&repositoryData&&"upload-files"==repositoryData.action&&(window.$progressBar&&$progressBar.close(),repositoryData.callback)){var mod=window[syn.$w.pageScript];if(mod){var clientCallback=null,clientCallback=mod.event[repositoryData.callback];if(1==$object.isNullOrUndefined(clientCallback))try{clientCallback=eval("$this.event."+repositoryData.callback)}catch(error){syn.$l.eventLog("clientCallback",error,"Warning")}if(clientCallback){for(var result={elID:repositoryData.elementID,repositoryID:repositoryData.repositoryID,items:repositoryData.repositoryItems},items=[],i=0;i<repositoryData.repositoryItems.length;i++){var item=repositoryData.repositoryItems[i];items.push(item.ItemID)}repositoryData.elementID&&(syn.$l.get(repositoryData.elementID).value=items.join(",")),clientCallback("upload",result)}}}$.modal&&$.modal.close()})},getFileSetting(e){for(var t=null,n=$fileclient.fileControls.length,r=0;r<n;r++){var o=$fileclient.fileControls[r];if(o.id==e){t=o.setting;break}}return t},getValue(e,t){return syn.$l.get(e).value},setValue(e,t,n){syn.$l.get(e).value=t||""},clear(e,t){syn.$l.get(e).value=""},init(e,t,n,r){var o=$fileclient.getTemporaryDependencyID(e);$fileclient.fileManagers.push({elID:e,container:t,datas:n,dependencyID:o,filechange:r}),window.File&&window.FileList&&($fileclient.isFileAPIBrowser=!0),null!=t&&0<document.forms.length&&(e=document.forms[0],null==syn.$l.get("syn-repository")&&(syn.$m.append(e,"iframe","syn-repository",{styles:{display:"none"}}).name="syn-repository"),e.enctype="multipart/form-data",e.target="syn-repository",e.method="post",e.action=syn.Config.FileManagerServer+"/repository/api/storage")},getRepositoryUrl(e){for(var t,n=null,r=0;r<$fileclient.fileManagers.length;r++)if((t=$fileclient.fileManagers[r]).datas&&t.datas.repositoryID==e){n=t.datas.fileManagerServer+"/repository/api/storage";break}return n},getFileManager(e){for(var t,n=null,r=0;r<$fileclient.fileManagers.length;r++)if((t=$fileclient.fileManagers[r]).elID==e){n=t;break}return n},getFileMaxIndex(e){for(var t=1,n=[],r=syn.$l.querySelectorAll('[id*="'+e+'_filesName"]'),o=1;o<=r.length;o++)n.push(o);return null==(t=n[n.length-1])&&(t=0),++t},addFileUI(e,t){var n,r,o,l,i=$fileclient.getFileManager(e);i?(i=i.container,n=document.createElement("div"),syn.$m.addClass(n,"mt-2"),l=document.createElement("div"),syn.$m.addClass(l,"input-group"),r=document.createElement("input"),syn.$m.addClass(r,"form-control"),o=document.createElement("button"),syn.$m.addClass(o,"btn btn-icon bg-muted-lt"),o.innerHTML='<i class="f:18 ti ti-trash"></i>',l.appendChild(r),l.appendChild(o),n.appendChild(l),i.appendChild(n),l=$fileclient.getFileMaxIndex(e).toString(),r.id=e+"_filesName_"+l,r.name="files",r.type="file",r.multiple=!1,t&&(r.accept=t),syn.$l.addEvent(r,"change",function(e){var e=e.target,t=null,n=null,r=e.id.split("_"),o=$fileclient.getFileManager(r[0]);o&&o.filechange&&(n=r[r.length-1],t=1==$fileclient.isFileAPIBrowser?{name:(r=e.files[0]).name,size:r.size,type:r.type,index:n}:((r=new Image).src=e.value,{name:r.nameProp,size:void 0,type:$fileclient.getFileMimeType(r.nameProp),index:n}),o.filechange(e,t))}),o.id=e+"_filesRemove_"+l,o.name=e+"_filesRemove_"+l,o.type="button",o.index=l,syn.$l.addEvent(o,"click",function(e){e=e.srcElement||e.target;"I"==e.tagName&&(e=e.parentElement),syn.$l.get(e.id.replace("_filesRemove_","_filesName_")).value=""})):syn.$w.alert(e+" 파일 관리자가 지정되지 않았습니다.")},getFileMimeType(e){var t="application/octet-stream",e=e.substring(e.lastIndexOf(".")+1);return e&&($resource&&$resource.mimeType?1==$resource.mimeType.hasOwnProperty(e)&&(t=$resource.mimeType[e]):1==$fileclient.mimeType.hasOwnProperty(e)&&(t=$fileclient.mimeType[e])),t},prependChild(e,t){var e=$fileclient.getFileManager(e).container,n=e.childNodes,r=n.length-1;t&&e.insertBefore(n[r],t)},getRepositoryID(e){var t="",e=$fileclient.getFileManager(e);return t=e?e.datas.repositoryID:t},getDependencyID(e){var t="",e=$fileclient.getFileManager(e);return t=e?e.dependencyID:t},setDependencyID(e,t){e=$fileclient.getFileManager(e);e&&(e.dependencyID=t)},doUpload(e,t){var n=$fileclient.getFileManager(e),r=null;if(n){var o,l=!1;if(-1==n.datas.uploadExtensions.indexOf("*/*"))for(var i=n.datas.uploadExtensions.split(";"),a=syn.$l.querySelectorAll("[id*='_filesName_']"),s=0;s<n.datas.uploadCount&&null!=(r=a[s]);s++){for(var d=0;d<i.length;d++){if(""==r.value){l=!0;break}if(r.value.substring(r.value.lastIndexOf(".")+1,r.value.length).toLowerCase()===i[d].toLowerCase()){l=!0;break}}if(0==l)break}else if(0<(a=syn.$l.querySelectorAll("[id*='_filesName_']")).length){for(s=0;s<a.length;s++)r=a[s],0==$string.isNullOrEmpty(r.value)&&(l=!0);if(0==l)return void syn.$w.alert("업로드할 파일을 선택해야합니다")}1==l&&0<document.forms.length?null!=syn.$l.get("syn-repository")?(syn.$r.params=[],o=$fileclient.getRepositoryID(e),syn.$r.path=$fileclient.getRepositoryUrl(o)+"/upload-files",syn.$r.params.elementID=t.elementID,syn.$r.params.repositoryID=o,syn.$r.params.dependencyID=$fileclient.getDependencyID(e),syn.$r.params.custompath1=t.custom1,syn.$r.params.custompath2=t.custom2,syn.$r.params.custompath3=t.custom3,0==$string.isNullOrEmpty(t.profileFileName)&&(syn.$r.params.fileName=t.profileFileName),n.datas.fileUpdateCallback&&(syn.$r.params.callback=n.datas.fileUpdateCallback),0==$string.isNullOrEmpty($fileclient.businessID)&&(syn.$r.params.businessID=$fileclient.businessID),syn.$r.params.applicationID=$fileclient.applicationID,(o=document.forms[0]).action=syn.$r.url(),o.submit(),window.$progressBar&&$progressBar.show("파일 업로드 중입니다...")):syn.$w.alert("doUpload 메서드를 지원하지 않는 화면입니다."):1==$object.isNullOrUndefined(r)?syn.$w.alert("이전에 업로드 한 파일을 삭제해야합니다"):syn.$w.alert(n.datas.uploadExtensions+"확장자를 가진 파일을 업로드 해야합니다")}else syn.$w.alert(e+" 파일 관리자가 지정되지 않았습니다.")},getUploadUrl(e,t,n,r){return 1==$object.isNullOrUndefined(n)&&(n=!0),syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/"+(1==n?"upload-file":"upload-files"),syn.$r.params.repositoryID=e,syn.$r.params.dependencyID=t,syn.$r.params.responseType="json",1==n&&0==$string.isNullOrEmpty(r)&&(syn.$r.params.fileName=r),syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.url()},getFileAction(e,t){if(1==$object.isNullOrUndefined(e.action))syn.$l.eventLog("getFileAction","필수 입력 정보 확인 필요","Warning");else{syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/action-handler";var n=e.action;switch(syn.$r.params.action=n){case"GetItem":syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.itemID=e.itemID;break;case"GetItems":syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.dependencyID=e.dependencyID;break;case"UpdateDependencyID":syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.sourceDependencyID=e.sourceDependencyID,syn.$r.params.targetDependencyID=e.targetDependencyID;break;case"UpdateFileName":syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.itemID=e.itemID,syn.$r.params.fileName=e.fileName;break;case"DeleteItem":syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/remove-item",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.itemID=e.itemID;break;case"DeleteItems":syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/remove-items",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.dependencyID=e.dependencyID;break;default:return void syn.$l.eventLog("getFileAction","action 확인 필요","Warning")}syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),t)}},getItem(e,t,n){var r,o=$fileclient.getFileSetting(e);(o=null==o&&(r=$fileclient.getFileManager(e))?r.datas:o)?(syn.$r.path=o.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="GetItem",syn.$r.params.repositoryID=o.repositoryID):(r=$fileclient.getRepositoryID(e),syn.$r.path=$fileclient.getRepositoryUrl(r)+"/action-handler",syn.$r.params.action="GetItem",syn.$r.params.repositoryID=r),syn.$r.params.itemID=t,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),n)},getItems(e,t,n){var r,o=$fileclient.getFileSetting(e);(o=null==o&&(r=$fileclient.getFileManager(e))?r.datas:o)?(syn.$r.path=o.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="GetItems",syn.$r.params.repositoryID=o.repositoryID):(r=$fileclient.getRepositoryID(e),syn.$r.path=$fileclient.getRepositoryUrl(r)+"/action-handler",syn.$r.params.action="GetItems",syn.$r.params.repositoryID=r),syn.$r.params.dependencyID=t,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),n)},updateDependencyID(e,t,n,r){e=$fileclient.getFileSetting(e);syn.$r.path=e.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="UpdateDependencyID",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.sourceDependencyID=t,syn.$r.params.targetDependencyID=n,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),r)},updateFileName(e,t,n,r){e=$fileclient.getFileSetting(e);syn.$r.path=e.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="UpdateFileName",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.itemID=t,syn.$r.params.fileName=n,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),r)},fileUpload(e,t,n,r,o){var l="";if(-1==(l=1==$object.isNullOrUndefined(o)?syn.Config.FileManagerServer+"/repository/api/storage/upload-files?repositoryID={0}&dependencyID={1}&responseType=json&callback=none".format(t,n):o).indexOf("?")?l+=`?applicationID=${syn.uicontrols.$fileclient.applicationID}&businessID=`+syn.uicontrols.$fileclient.businessID:l+=`&applicationID=${syn.uicontrols.$fileclient.applicationID}&businessID=`+syn.uicontrols.$fileclient.businessID,(e=1==$object.isString(e)?syn.$l.get(e):e)&&"FILE"==e.type.toUpperCase()){for(var i=new FormData,a=0;a<e.files.length;a++)i.append("files",e.files[a]);var s=syn.$w.xmlHttp();s.open("POST",l,!0),s.onload=function(){r&&r({status:s.status,response:s.responseText})},s.onerror=function(){r&&r({status:s.status,response:s.responseText})},s.send(i)}},fileDownload(n){var e=null;if(1==$object.isString(n)){var t=n,r=$fileclient.getFileSetting(t),o=syn.$l.get(t)?syn.$l.get(t).value:null;if(!r||!o)return void syn.$l.eventLog("fileDownload",'"{0}"에 대한 요청 정보 확인 필요'.format(t),"Debug");e=JSON.stringify({RepositoryID:r.repositoryID,ItemID:o,FileMD5:"",TokenID:r.tokenID,ApplicationID:$fileclient.applicationID,BusinessID:$fileclient.businessID})}else{if(!n.repositoryID||!n.itemID)return void syn.$l.eventLog("fileDownload",'"{0}"에 대한 요청 정보 확인 필요'.format(t),"Debug");e=JSON.stringify({RepositoryID:n.repositoryID,ItemID:n.itemID,FileMD5:n.fileMD5,TokenID:n.tokenID,ApplicationID:$fileclient.applicationID,BusinessID:$fileclient.businessID})}syn.$r.path=(n.fileManagerServer||syn.Config.FileManagerServer)+"/repository/api/storage/download-file";var l=syn.$w.xmlHttp();l.open("POST",syn.$r.url(),!0),l.setRequestHeader("Content-type","application/json"),l.responseType="blob",l.onload=function(e){var t;200==l.status?"DownloadResult"==l.getResponseHeader("FileModelType")?(t=syn.$c.base64Decode(l.getResponseHeader("FileResult")),1==(t=JSON.parse(t)).Result?syn.$l.blobToDownload(l.response,t.FileName):syn.$l.eventLog("fileDownload",'파일 다운로드 실패: "{0}"'.format(t.Message),"Debug")):syn.$l.eventLog("fileDownload",'itemID: "{0}" 파일 다운로드 응답 오류'.format(JSON.stringify(n)),"Debug"):syn.$l.eventLog("fileDownload",'파일 다운로드 오류, status: "{0}"'.format(l.statusText),"Debug")},l.send(e)},httpDownloadFile(e,t,n,r){var o;0<document.forms.length&&null==syn.$l.get("repositoryDownload")&&(o=document.forms[0],(o=syn.$m.append(o,"iframe","repositoryDownload",{styles:{display:"none"}})).name="repositoryDownload",o.width="100%"),syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/HttpDownloadFile",syn.$r.params.repositoryID=e,syn.$r.params.itemID=t,syn.$r.params.fileMD5=n,syn.$r.params.tokenID=r,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,syn.$l.get("repositoryDownload").src=syn.$r.url()},virtualDownloadFile(e,t,n){var r;0<document.forms.length&&null==syn.$l.get("repositoryDownload")&&(r=document.forms[0],syn.$m.append(r,"iframe","repositoryDownload",{styles:{display:"none"}}).name="repositoryDownload"),syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/virtual-download-file",syn.$r.params.repositoryID=e,syn.$r.params.fileName=t,syn.$r.params.subDirectory=n,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,syn.$l.get("repositoryDownload").src=syn.$r.url()},virtualDeleteFile(e,t,n){syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/virtual-delete-file",syn.$r.params.repositoryID=e,syn.$r.params.fileName=t,syn.$r.params.subDirectory=n,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),function(e){0==e.Result&&syn.$l.eventLog("virtualDeleteFile",e.Message)})},deleteItem(i,a,s){var e,d=$fileclient.getFileSetting(i);(d=null==d&&(e=$fileclient.getFileManager(i))?e.datas:d)?(syn.$r.path=d.fileManagerServer+"/repository/api/storage/remove-item",syn.$r.params.repositoryID=d.repositoryID):(e=$fileclient.getRepositoryID(i),syn.$r.path=$fileclient.getRepositoryUrl(e)+"/remove-item",syn.$r.params.repositoryID=e),syn.$r.params.itemID=a,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),function(e){if("Single"==d.uploadType||"Profile"==d.uploadType)e&&1==e.Result&&(t=syn.$l.get(i),0==$object.isNullOrUndefined(t))&&(t.value="");else if(e&&1==e.Result){var t=syn.$l.get(i);if(0==$object.isNullOrUndefined(t)){for(var n=[],r=t.value.split(","),o=0;o<r.length;o++){var l=r[o];l!=a&&n.push(l)}t.value=n.join(",")}}s&&s(e)})},deleteItems(n,e,r){var t,o=$fileclient.getFileSetting(n);(o=null==o&&(t=$fileclient.getFileManager(n))?t.datas:o)?(syn.$r.path=o.fileManagerServer+"/repository/api/storage/remove-items",syn.$r.params.repositoryID=o.repositoryID):(t=$fileclient.getRepositoryID(n),syn.$r.path=$fileclient.getRepositoryUrl(t)+"/remove-items",syn.$r.params.repositoryID=t),syn.$r.params.dependencyID=e,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,$fileclient.executeProxy(syn.$r.url(),function(e){var t;e&&1==e.Result&&(t=syn.$l.get(n),0==$object.isNullOrUndefined(t))&&(t.value=""),r&&r(e)})},uploadBlob(e,t){var n,r,o;e=syn.$w.argumentsExtend({repositoryID:null,dependencyID:null,blobInfo:null,mimeType:"application/octet-stream",fileName:null},e),0==$string.isNullOrEmpty(e.repositoryID)&&0==$string.isNullOrEmpty(e.dependencyID)&&e.blobInfo?(syn.$r.path=syn.Config.FileManagerServer+"/repository/api/storage/upload-file",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.dependencyID=e.dependencyID,syn.$r.params.applicationID=$fileclient.applicationID,syn.$r.params.businessID=$fileclient.businessID,(n=syn.$w.xmlHttp()).open("POST",syn.$r.url()),n.onload=function(){if(200!=n.status)syn.$l.eventLog("$fileclient.uploadBlob","HTTP Error code: {0}, text: {1}".format(n.status,n.statusText),"Warning");else try{var e=n.responseText;0==$string.isNullOrEmpty(e)?t&&t(JSON.parse(e)):syn.$w.alert("Blob 파일 업로드 정보 확인 필요")}catch(e){syn.$w.alert("Blob 파일 업로드 오류: {0}".format(e.message)),syn.$l.eventLog("$fileclient.uploadBlob",e,"Warning")}},n.onerror=function(){syn.$l.eventLog("$fileclient.uploadBlob","HTTP Error code: {0}, text: {1}".format(n.status,n.statusText),"Warning")},r=new FormData,o=e.fileName||"blob-"+syn.$l.random(24),r.append("file",e.blobInfo,o),n.send(r)):(e="Blob 파일 업로드 필수 항목 확인 필요",syn.$w.alert(e),syn.$l.eventLog("$fileclient.uploadBlob",e,"Warning"))},uploadDataUri(e,t){e=syn.$w.argumentsExtend({repositoryID:null,dependencyID:null,dataUri:null,mimeType:null,fileName:null},e),0==$string.isNullOrEmpty(e.repositoryID)&&0==$string.isNullOrEmpty(e.dependencyID)&&0==$string.isNullOrEmpty(e.dataUri)?(e.blobInfo=syn.$l.dataUriToBlob(e.dataUri),e.mimeType=e.blobInfo.type,$fileclient.uploadBlob(e,t)):(e="DataUri 파일 업로드 필수 항목 확인 필요",syn.$w.alert(e),syn.$l.eventLog("$fileclient.uploadDataUri",e,"Warning"))},uploadBlobUri(t,n){var e;t=syn.$w.argumentsExtend({repositoryID:null,dependencyID:null,blobUri:null,mimeType:null,fileName:null},t),0==$string.isNullOrEmpty(t.repositoryID)&&0==$string.isNullOrEmpty(t.dependencyID)&&0==$string.isNullOrEmpty(t.blobUri)?syn.$l.blobUrlToData(t.blobUri,function(e){t.blobInfo=e,t.mimeType=t.blobInfo.type,$fileclient.uploadBlob(t,n)}):(e="BlobUri 파일 업로드 필수 항목 확인 필요",syn.$w.alert(e),syn.$l.eventLog("$fileclient.uploadBlobUri",e,"Warning"))},uploadUI(e){var t=$object.clone(syn.$w.dialogOptions);t.minWidth=420,t.minHeight=320,e=syn.$w.argumentsExtend(t,e),t.minWidth=e.minWidth,t.minHeight=e.minHeight,t.caption=e.dialogTitle,""==e.repositoryID||""==e.uploadUrl?syn.$w.alert("uploadOptions에 repositoryID 또는 uploadUrl이 입력되지 않았습니다."):(-1<e.uploadUrl.indexOf("?")?e.uploadUrl+="&repositoryID="+e.repositoryID:e.uploadUrl+="?repositoryID="+e.repositoryID,e.uploadUrl+="&companyNo="+syn.$w.User.WorkCompanyNo,fileUploadOptions=e,syn.$w.showUIDialog(e.uploadUrl,t))},toFileLengthString(e){var t="0 KB";return(e=e<0?0:e)<1048576&&(t=(e/1024).toString()+" KB"),t=e<1073741824?(e/1024/1024).toString()+" MB":t},executeProxy(t,n){var r=syn.$w.xmlHttp();r.onreadystatechange=function(){var e;r.readyState===XMLHttpRequest.DONE&&(200===r.status?(e=r.responseText,0==$string.isNullOrEmpty(e)?n&&n(JSON.parse(e)):syn.$w.alert("파일 응답 정보 확인 필요")):syn.$l.eventLog("$fileclient.executeProxy","async url: "+t+", status: "+r.status.toString()+", responseText: "+r.responseText,"Error"))},r.open("GET",t,!0),r.send()},getTemporaryDependencyID(e){return 1==$string.isNullOrEmpty(e)?syn.$l.guid().replaceAll("-",""):e+syn.$l.random(24)},setLocale(e,t,n,r){}}),$fileclient.moduleInit(),syn.uicontrols.$fileclient=$fileclient}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $list=syn.uicontrols.$list||new syn.module;$list.extend({name:"syn.uicontrols.$list",version:"1.0",listControls:[],defaultSetting:{width:"100%",height:"300px",paging:!0,ordering:!0,info:!0,searching:!0,select:!0,lengthChange:!1,autoWidth:!0,pageLength:50,orderCellsTop:!0,fixedHeader:!0,responsive:!0,checkbox:!1,order:[],sScrollY:"0px",footerCallback:function(){},fnDrawCallback:function(){var o=this.dataTable(),l=this.closest(".dataTables_wrapper");setTimeout(function(){"undefined"!=typeof TableTools&&null!=(e=TableTools.fnGetInstance(table))&&e.fnResizeRequired()&&e.fnResizeButtons();var e=l.parent().height(),t=l.find(".dataTables_paginate").height(),n=0,r=(l.find(".fg-toolbar").each(function(e,t){n+=$(t).height()}),0),e=(l.find(".dataTables_scrollHead").each(function(e,t){r+=$(t).height()}),e-n-r-t),t=l.find(".dataTables_scrollBody");t.height(e),t.css({maxHeight:e.toString()+"px"}),o._fnScrollDraw()},150)},language:{emptyTable:"데이터가 없습니다",info:"_START_ - _END_ / _TOTAL_",infoEmpty:"0 - 0 / 0",infoFiltered:"(총 _MAX_ 개)",infoThousands:",",lengthMenu:"페이지당 줄수 _MENU_",loadingRecords:"읽는중...",processing:"처리중...",search:"검색:",zeroRecords:"검색 결과가 없습니다",paginate:{first:"처음",last:"마지막",next:"다음",previous:"이전"}},dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList:function(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad:function(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($list.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,parent=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),setting.width=el.style.width||setting.width,setting.height=el.style.height||setting.height,el.setAttribute("id",elID+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.parentNode),wrapper=document.createElement("div"),headers=(wrapper.style.width=setting.width,wrapper.style.height=setting.height,wrapper.style.position="relative",wrapper.className="list-container",[]);headers.push("<thead><tr>"),!0===setting.checkbox&&(setting.columnDefs=[{targets:0,checkboxes:{selectRow:!0}}],setting.select={style:"multi"},delete setting.sScrollY,delete setting.fnDrawCallback);for(var i=0;i<setting.columns.length;i++){var column=setting.columns[i];headers.push("<th>{0}</th>".format(column.title)),delete column.title}headers.push("</tr></thead>"),wrapper.innerHTML='<table id="'+elID+'" class="display" style="width:100%">'+headers.join("")+"</table>",parent.appendChild(wrapper),!0===setting.searching&&($("#{0} thead tr".format(elID)).clone(!0).appendTo("#{0} thead".format(elID)),$("#{0} thead tr:eq(1) th".format(elID)).each(function(t){$(this).text();$(this).html('<input type="text" class="dataTables_searchtext" />'),$("input",this).on("keyup change",function(){var e=this.closest(".dataTables_wrapper").id.split("_")[0],e=$list.getControl(e).table;e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})}),!0===setting.checkbox)&&$("#lstDataTable thead tr:eq(1) th:first-child input").hide();var elDataTable=$("#"+elID),table=elDataTable.DataTable(setting),gridHookEvents=syn.$l.get(elID+"_hidden").getAttribute("syn-events");try{gridHookEvents=gridHookEvents&&eval(gridHookEvents)}catch(error){syn.$l.eventLog("GridList_controlLoad",error.toString(),"Debug")}if(gridHookEvents)for(var i=0;i<gridHookEvents.length;i++){var hook=gridHookEvents[i],mod=window[syn.$w.pageScript];if(mod){var eventHandler=mod.event["{0}_{1}".format(elID,hook)];if(eventHandler)switch(hook){case"select":table.on("select",function(e,t,n,r){var o;table[n](r).nodes().to$().addClass("custom-selected"),"row"===n&&(o=table.rows(r).data(),mod.event["{0}_{1}".format(elID,hook)].apply(syn.$l.get(elID),[o,e,t,n,r]))});break;case"deselect":table.on("deselect",function(e,t,n,r){mod.event["{0}_{1}".format(elID,hook)].apply(syn.$l.get(elID),[e,t,n,r])});break;case"dblclick":$("#{0}_wrapper table tbody".format(elID)).on("dblclick","tr",function(){var e=table.row(this).data();mod.event["{0}_{1}".format(elID,hook)].apply(syn.$l.get(elID),[this,e])})}}}$list.listControls.push({id:elID,table:table,list:elDataTable.dataTable(),config:setting,value:null}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue:function(e,t){var n=null,e=$("#"+e).DataTable();return n=e.context?e.data().toArray():n},setValue:function(e,t,n){e=$list.getControl(e);e&&(e.list.fnClearTable(),e.list.fnAddData(t))},clear:function(e,t){var n=$list.getControl(e);if(n){n.list.fnClearTable(),n.table.columns().search("").draw();for(var r=document.getElementById(e+"_wrapper").querySelectorAll(".dataTables_searchtext"),o=0;o<r.length;o++)r[o].value=""}},getControl:function(e){for(var t=null,n=$list.listControls.length,r=0;r<n;r++){var o=$list.listControls[r];if(o.id==e){t=o;break}}return t},setCellData:function(e,t,n,r){var o=$list.getControl(e);o&&(1==$object.isString(n)&&(n=$list.propToCol(e,n)),0<o.table.cell(t,n).length)&&o.table.cell(t,n).data(r).draw()},propToCol:function(e,t){var n=-1,e=$list.getControl(e);if(e)for(var r=e.table.settings().toArray()[0].aoColumns,o=0;o<r.length;o++)if(r[o].data==t){n=o;break}return n},setLocale:function(e,t,n,r){}}),syn.uicontrols.$list=$list}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $radio=$radio||new syn.module;$radio.extend({name:"syn.uicontrols.$radio",version:"1.0.0",defaultSetting:{contents:"",toSynControl:!1,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($radio.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,dataFieldID,events,value,checked,name,html,html,parent,wrapper;mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),(1==setting.toSynControl?(el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",dataFieldID=el.getAttribute("syn-datafield"),events=el.getAttribute("syn-events"),value=el.value,checked=el.checked,name=el.name,html="",html=events?'<input class="ui_radio" id="{0}" name="{1}" type="radio" syn-datafield="{2}" value="{3}" {4} syn-events={5}>'.format(elID,name,dataFieldID,value,1==checked?'checked="checked"':"","['"+eval(events).join("','")+"']"):'<input class="ui_radio" id="{0}" name="{1}" type="radio" syn-datafield="{2}" value="{3}" {4}>'.format(elID,name,dataFieldID,value,1==checked?'checked="checked"':""),1==$object.isString(setting.textContent)&&(html+='<label for="{0}">{1}</label>'.format(elID,setting.textContent)),parent=el.parentNode,wrapper=syn.$m.create({tag:"span",className:"formControl"}),wrapper.innerHTML=html,parent.appendChild(wrapper),syn.$l.get(elID)):el).setAttribute("syn-options",JSON.stringify(setting)),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue(e,t){return syn.$l.get(e).checked},setValue(e,t,n){syn.$l.get(e).checked=t},clear(e,t){syn.$l.get(e).checked=!1},getGroupNames(){for(var e=[],t=syn.$l.querySelectorAll("input[type='radio']"),n=0;n<t.length;n++)e.push(t[n].name);return $array.distinct(e)},getGroupValue(e){for(var t=null,n=syn.$l.querySelectorAll('input[type="radio"][name="{0}"]'.format(e)),r=0;r<n.length;r++){var o=n[r];if(-1==o.id.indexOf("_hidden")&&1==o.checked){t=o.value;break}}return t},selectedValue(e,t){for(var n=syn.$l.querySelectorAll('input[type="radio"][name="{0}"]'.format(e)),r=0;r<n.length;r++){n[r];if(-1==n[r].id.indexOf("_hidden")&&n[r].value===t){n[r].checked=!0;break}}},setLocale(e,t,n,r){}}),syn.uicontrols.$radio=$radio}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $textarea=syn.uicontrols.$textarea||new syn.module;$textarea.extend({name:"syn.uicontrols.$textarea",version:"1.0.0",textControls:[],defaultSetting:{width:"100%",height:"240px",indentUnit:4,lineNumbers:!0,toSynControl:!0,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($textarea.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,events=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),setting.elementID=elID,setting.width=el.style.width||setting.width,setting.height=el.style.height||setting.height,el.style.width=setting.width,el.style.height=setting.height,el.setAttribute("syn-options",JSON.stringify(setting)),el.getAttribute("syn-events")),editor=null;if(1==setting.toSynControl){if((el.getAttribute("maxlength")||el.getAttribute("maxlengthB"))&&(el.getAttribute("maxlengthB")&&el.setAttribute("maxlength",el.getAttribute("maxlengthB")),setting.maxLength=el.getAttribute("maxlength")),editor=CodeMirror.fromTextArea(el,setting),0==$object.isNullOrUndefined(setting.maxLength)&&editor.on("blur",function(e,t){var n=syn.$l.get(editor.options.elementID).getAttribute("maxlengthB"),n=0==$string.isNullOrEmpty(n)?parseInt(n):e.getOption("maxLength");return n<$string.length(e.getValue())&&(e=$object.clone(syn.$w.alertOptions),syn.$w.alert($resource.translations.textMaxLength.format($string.toCurrency(n)),"정보",e,function(e){editor.focus()})),!0}),events)for(var events=eval(events),i=0;i<events.length;i++){var editorEvent=events[i],eventHandler=mod.event[el.id+"_"+editorEvent];eventHandler&&editor.on(editorEvent,eventHandler)}editor.setSize(setting.width,setting.height),setTimeout(function(){editor.refresh()},30)}else(el.getAttribute("maxlength")||el.getAttribute("maxlengthB"))&&(el.getAttribute("maxlengthB")&&el.setAttribute("maxlength",el.getAttribute("maxlengthB")),syn.$l.addEvent(el,"blur",$textarea.event_blur));$textarea.textControls.push({id:elID,editor:editor,setting:$object.clone(setting)}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue(e){var t=null,n=$textarea.getControl(e);return n&&n.editor?t=n.editor.getValue():(n=syn.$l.get(e),0==$object.isNullOrUndefined(n)&&(t=n.value)),t},setValue(e,t){var n=$textarea.getControl(e);n&&n.editor?n.editor.setValue(t):(n=syn.$l.get(e),0==$object.isNullOrUndefined(n)&&(n.value=t))},clear(e,t){var n=$textarea.getControl(e);n&&n.editor?n.editor.setValue(""):(n=syn.$l.get(e),0==$object.isNullOrUndefined(n)&&(n.value=""))},getControl(e){for(var t=null,n=$textarea.textControls.length,r=0;r<n;r++){var o=$textarea.textControls[r];if(o.id==e){t=o;break}}return t},event_blur(e){var t,n,e=e.target||e.srcElement||e,r=e.getAttribute("maxlengthB");0==$string.isNullOrEmpty(r)?(t=parseInt(r))<$string.length(e.value)&&(n=$object.clone(syn.$w.alertOptions),syn.$w.alert($resource.translations.textMaxLength.format($string.toCurrency(t)),"정보",n),e.focus()):(r=e.getAttribute("maxlength"),0==$string.isNullOrEmpty(r)&&(t=parseInt(r))<e.value.length&&(n=$object.clone(syn.$w.alertOptions),syn.$w.alert($resource.translations.textMaxLength.format($string.toCurrency(t)),"정보",n),e.focus()))},setLocale(e,t,n,r){}}),syn.uicontrols.$textarea=$textarea}(window),!function(i){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var o=new syn.module;o.extend({name:"syn.uicontrols.$textbox",version:"1.0.0",defaultSetting:{editType:"text",formatNumber:!0,maskPattern:null,maxCount:null,minCount:0,allowChars:[],placeText:[],defaultSetValue:"0",dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(e,t){var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(o.defaultSetting,t),i[syn.$w.pageScript]);switch(r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),n.setAttribute("syn-options",JSON.stringify(t)),0==$object.isEmpty(t.placeText)&&superplaceholder({el:n,sentences:1==$object.isString(t.placeText)?[t.placeText]:t.placeText}),t.editType){case"text":syn.$l.addEvent(n,"focus",o.event_focus);break;case"english":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_english_blur),syn.$l.addEvent(n,"keydown",o.event_english_keydown),syn.$m.setStyle(n,"ime-mode","disabled");break;case"number":syn.$l.addEvent(n,"focus",o.event_numeric_focus),syn.$l.addEvent(n,"blur",o.event_number_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),VMasker(n).maskNumber();break;case"numeric":syn.$l.addEvent(n,"focus",o.event_numeric_focus),syn.$l.addEvent(n,"blur",o.event_numeric_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),VMasker(n).maskNumber();break;case"spinner":syn.$l.addEvent(n,"focus",o.event_numeric_focus),syn.$l.addEvent(n,"blur",o.event_numeric_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),n.offsetWidth&&(n.offsetWidth=n.offsetWidth<=28?0:n.offsetWidth-28),new ISpin(n,{wrapperClass:"ispin-wrapper",buttonsClass:"ispin-button",step:1,pageStep:10,disabled:!1,repeatInterval:100,wrapOverflow:!1,parse:Number,format:String}),VMasker(n).maskNumber();break;case"year":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_year_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress);break;case"date":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_date_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress);break;case"hour":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_hour_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled");break;case"minute":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_minute_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled");break;case"yearmonth":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_yearmonth_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress);break;case"homephone":syn.$l.addEvent(n,"focus",o.event_phone_focus),syn.$l.addEvent(n,"blur",o.event_homephone_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled");break;case"mobilephone":syn.$l.addEvent(n,"focus",o.event_phone_focus),syn.$l.addEvent(n,"blur",o.event_mobilephone_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled");break;case"phone":syn.$l.addEvent(n,"focus",o.event_phone_focus),syn.$l.addEvent(n,"blur",o.event_phone_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled");break;case"email":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_email_blur),syn.$m.setStyle(n,"ime-mode","inactive");break;case"juminno":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_juminno_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),1==$string.isNullOrEmpty(t.maskPattern)&&VMasker(n).maskPattern("999999-9999999");break;case"businessno":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_businessno_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),1==$string.isNullOrEmpty(t.maskPattern)&&VMasker(n).maskPattern("999-99-99999");break;case"corporateno":syn.$l.addEvent(n,"focus",o.event_focus),syn.$l.addEvent(n,"blur",o.event_corporateno_blur),syn.$l.addEvent(n,"keypress",o.event_numeric_keypress),syn.$m.setStyle(n,"ime-mode","disabled"),1==$string.isNullOrEmpty(t.maskPattern)&&VMasker(n).maskPattern("999999-9999999")}(n.getAttribute("maxlength")||n.getAttribute("maxlengthB"))&&(n.getAttribute("maxlengthB")&&n.setAttribute("maxlength",n.getAttribute("maxlengthB")),syn.$l.addEvent(n,"blur",o.event_blur)),0==$string.isNullOrEmpty(t.maskPattern)&&VMasker(n).maskPattern(t.maskPattern),t.contents&&o.setValue(e,t.contents),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},event_english_keydown(e){var t=e.which||e.keyCode;return 1!=(7<t&&t<47)&&1!=(64<t&&t<91)&&1!=(47<t&&t<58)&&1!=(95<t&&t<123)&&((t=e.target||e.srcElement||e).value=t.value.replace(/[\ㄱ-ㅎㅏ-ㅣ가-힣]/g,""),e.returnValue=!1,e.cancel=!0,e.preventDefault&&e.preventDefault(),0),!0},event_numeric_keypress(e){var t=e.target||e.srcElement||e,n=e.which||e.keyCode;if(31<n&&(n<48||57<n||45==n||109==n)){if(45==n||109==n){n=t.value;if(1==n.startsWith("-")&&n.split("-").length<=2||1==n.split("-").length)return!0}e.returnValue=!1,e.cancel=!0,e.preventDefault&&e.preventDefault(),0}return!0},event_focus(e){e=e.target||e.srcElement||e;0<e.value.length&&o.rangeMoveCaret(e)},event_phone_focus(e){e=e.target||e.srcElement||e;0<e.value.length&&(e.value=e.value.replace(/-/g,""),o.rangeMoveCaret(e))},event_numeric_focus(e){e=e.target||e.srcElement||e;0<e.value.length&&(e.value=$string.toNumberString(e.value),o.rangeMoveCaret(e))},event_blur(e){var t,n,e=e.target||e.srcElement||e,r=e.getAttribute("maxlengthB");0==$string.isNullOrEmpty(r)?(t=parseInt(e.getAttribute("maxlengthB")))<$string.length(e.value)&&(n=$object.clone(syn.$w.alertOptions),syn.$w.alert($resource.translations.textMaxLength.format($string.toCurrency(t)),"정보",n),e.focus(),o.event_focus(e)):(r=e.getAttribute("maxlength"),0==$string.isNullOrEmpty(r)&&(t=parseInt(e.getAttribute("maxlength")))<e.value.length&&(n=$object.clone(syn.$w.alertOptions),syn.$w.alert($resource.translations.textMaxLength.format($string.toCurrency(t)),"정보",n),e.focus(),o.event_focus(e)))},event_hour_blur(e){e=e.target||e.srcElement||e;0<e.value.length&&(23<parseInt(e.value)&&(e.value="23"),1==e.value.length)&&(e.value=e.value.padStart(2,"0"))},event_minute_blur(e){e=e.target||e.srcElement||e;0<e.value.length&&(59<parseInt(e.value)&&(e.value="59"),1==e.value.length)&&(e.value=e.value.padStart(2,"0"))},event_english_blur(e){var e=e.target||e.srcElement||e,t=JSON.parse(e.getAttribute("syn-options")).allowChars||[];0<t.length&&-1==t.indexOf(e.value)&&(e.value=e.value.replace(/[^a-z0-9]/gi,""))},event_number_blur(e){var e=e.target||e.srcElement||e,t=JSON.parse(e.getAttribute("syn-options")),t=(0==$object.isNullOrUndefined(t.maxCount)&&$string.toNumber(e.value)>t.maxCount&&(e.value=t.maxCount),0==$object.isNullOrUndefined(t.minCount)&&$string.toNumber(e.value)<t.minCount&&(e.value=t.minCount),e.value);(1==t.startsWith("-")&&1==t.length||0==t.trim().length)&&(e.value="0")},event_numeric_blur(e){var e=e.target||e.srcElement||e,t=JSON.parse(e.getAttribute("syn-options")),t=(0==$object.isNullOrUndefined(t.maxCount)&&$string.toNumber(e.value)>t.maxCount&&(e.value=t.maxCount),0==$object.isNullOrUndefined(t.minCount)&&$string.toNumber(e.value)<t.minCount&&(e.value=t.minCount),0<e.value.length&&!0===t.formatNumber&&(e.value=$string.toCurrency(e.value)),e.value);(1==t.startsWith("-")&&1==t.length||0==t.trim().length)&&(e.value="0")},event_homephone_blur(e){var e=e.target||e.srcElement||e,t=(e.value=e.value.replace(/-/g,""),e.value);0<t.length&&(e.setAttribute("placeholder",""),12==t.length?1==syn.$v.regexs.onesPhone.test(t)?e.value=t.substr(0,4).concat("-",t.substr(4,4),"-",t.substr(8,4)):e.value="":9==t.length?1==syn.$v.regexs.seoulPhone.test(t)?e.value=t.substr(0,2).concat("-",t.substr(2,3),"-",t.substr(5,4)):e.value="":10==t.length?"02"==t.substring(0,2)?1==syn.$v.regexs.seoulPhone.test(t)?e.value=t.substr(0,2).concat("-",t.substr(2,4),"-",t.substr(6,4)):e.value="":1==syn.$v.regexs.areaPhone.test(t)?e.value=t.substr(0,3).concat("-",t.substr(3,3),"-",t.substr(6,4)):e.value="":11==t.length&&(1==syn.$v.regexs.areaPhone.test(t)||1==syn.$v.regexs.mobilePhone.test(t))?e.value=t.substr(0,3).concat("-",t.substr(3,4),"-",t.substr(7,4)):e.value="",""==e.value)&&e.setAttribute("placeholder","전화번호 확인 필요")},event_mobilephone_blur(e){var e=e.target||e.srcElement||e,t=(e.value=e.value.replace(/-/g,""),e.value);0<t.length&&(e.setAttribute("placeholder",""),1==syn.$v.regexs.mobilePhone.test(t)?10==t.length?e.value=t.substr(0,3).concat("-",t.substr(3,3),"-",t.substr(6,4)):11==t.length?e.value=t.substr(0,3).concat("-",t.substr(3,4),"-",t.substr(7,4)):e.value="":e.value="",""==e.value)&&e.setAttribute("placeholder","전화번호 확인 필요")},event_phone_blur(e){var e=e.target||e.srcElement||e,t=(e.value=e.value.replace(/-/g,""),e.value);0<t.length&&(e.setAttribute("placeholder",""),1==syn.$v.regexs.mobilePhone.test(t)?10==t.length?e.value=t.substr(0,3).concat("-",t.substr(3,3),"-",t.substr(6,4)):11==t.length?e.value=t.substr(0,3).concat("-",t.substr(3,4),"-",t.substr(7,4)):e.value="":12==t.length?1==syn.$v.regexs.onesPhone.test(t)?e.value=t.substr(0,4).concat("-",t.substr(4,4),"-",t.substr(8,4)):e.value="":9==t.length?1==syn.$v.regexs.seoulPhone.test(t)?e.value=t.substr(0,2).concat("-",t.substr(2,3),"-",t.substr(5,4)):e.value="":10==t.length?"02"==t.substring(0,2)?1==syn.$v.regexs.seoulPhone.test(t)?e.value=t.substr(0,2).concat("-",t.substr(2,4),"-",t.substr(6,4)):e.value="":1==syn.$v.regexs.areaPhone.test(t)?e.value=t.substr(0,3).concat("-",t.substr(3,3),"-",t.substr(6,4)):e.value="":11==t.length&&(1==syn.$v.regexs.areaPhone.test(t)||1==syn.$v.regexs.mobilePhone.test(t))?e.value=t.substr(0,3).concat("-",t.substr(3,4),"-",t.substr(7,4)):e.value="",""==e.value)&&e.setAttribute("placeholder","전화번호 확인 필요")},event_email_blur(e){var e=e.target||e.srcElement||e,t=e.value;0<e.value.length&&(e.setAttribute("placeholder",""),0==syn.$v.regexs.email.test(t))&&(e.setAttribute("placeholder","이메일 확인 필요"),e.value="")},event_year_blur(e){e=e.target||e.srcElement||e;0<e.value.length&&(e.setAttribute("placeholder",""),"0000"!=e.value&&0!=$date.isDate(e.value)||(e.setAttribute("placeholder","년도 확인 필요"),e.value=""))},event_yearmonth_blur(e){e=e.target||e.srcElement||e;0<e.value.length&&(e.setAttribute("placeholder",""),"0000-00"!=e.value&&0!=$date.isDate(e.value+"-01")||(e.setAttribute("placeholder","년월 확인 필요"),e.value=""))},event_date_blur(e){var t,e=e.target||e.srcElement||e;0<e.value.length&&(e.setAttribute("placeholder",""),8==(t=e.value).length&&(t=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)),1==$date.isDate(t)?e.value=t:(e.setAttribute("placeholder","일자 확인 필요"),e.value=""))},event_juminno_blur(e){var e=e.target||e.srcElement||e,t=e.value;0<t.length&&(e.setAttribute("placeholder",""),0==syn.$v.regexs.juminNo.test(t)?(e.setAttribute("placeholder","주민등록번호 확인 필요"),e.value=""):(13==t.length&&(t=t.substring(0,6)+"-"+t.substring(6,13)),e.value=t))},event_businessno_blur(e){var e=e.target||e.srcElement||e,t=e.value;0<t.length&&(e.setAttribute("placeholder",""),0==syn.$w.isBusinessNo(t)?(e.setAttribute("placeholder","사업자번호 확인 필요"),e.value=""):(12!=t.length&&(t=(t=t.replace(/-/gi,"")).substring(0,3)+"-"+t.substring(3,5)+"-"+t.substring(5)),e.value=t))},event_corporateno_blur(e){var e=e.target||e.srcElement||e,t=e.value;0<t.length&&(e.setAttribute("placeholder",""),0==$string.isCorporateNo(t)?(e.setAttribute("placeholder","법인번호 확인 필요"),e.value=""):(14!=t.length&&(t=(t=t.replace(/-/gi,"")).substring(0,6)+"-"+t.substring(6)),e.value=t))},rangeMoveCaret(e){var t=e.target?e.srcElement:e,n=t.value.length,r=function(){var e;"email"!=t.type&&t.setSelectionRange?t.setSelectionRange(0,n):t.createTextRange&&((e=t.createTextRange()).collapse(!0),e.moveEnd("character",n),e.moveStart("character",0),e.select())};(syn.$b.isIE?r:()=>{setTimeout(r,0)})()},getValue(e){var t="",n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){var r=JSON.parse(n.getAttribute("syn-options"));switch(r.editType){case"text":case"english":case"number":case"spinner":case"date":case"hour":case"minute":case"yearmonth":case"homephone":case"mobilephone":case"email":case"juminno":case"businessno":case"corporateno":var o=i[syn.$w.pageScript];(!0!==r.getter||!o.hook.frameEvent||(t=o.hook.frameEvent("controlGetValue",{elID:e,value:n.value}),1==$object.isNullOrUndefined(t)))&&(t=n.value);break;case"numeric":t=n.value.replace(/,/g,"");break;default:t=""}}return t},setValue(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n))if(null!=t){var r=JSON.parse(n.getAttribute("syn-options"));switch(r.editType){case"text":case"english":case"number":case"spinner":case"date":case"hour":case"minute":case"yearmonth":case"homephone":case"mobilephone":case"email":case"juminno":case"businessno":case"corporateno":var o=i[syn.$w.pageScript];r&&!0===r.setter&&o.hook.frameEvent?(o=o.hook.frameEvent("controlSetValue",{elID:e,value:t}),1==$object.isNullOrUndefined(o)&&(n.value=o)):n.value=t;break;case"numeric":-1<t.indexOf(",")?n.value=t:n.value=1==$string.isNumber(t)?$string.toCurrency(t):t;break;default:n.value=""}}else{var l=syn.$w.getTriggerOptions(e);l&&l.value&&(n.value=l.value)}},clear(e,t){var n,e=syn.$l.get(e);0==$object.isNullOrUndefined(e)&&(n=JSON.parse(e.getAttribute("syn-options")),e.value=$object.defaultValue(n.dataType))},setLocale(e,t,n,r){var o,e=syn.$l.get(e),l=$resource.getBindSource(n,"placeholder");null!=l&&(n=$resource.translateText(n,r),e[l]=n,"placeholder"==l?(o=JSON.parse(e.getAttribute("syn-options")))&&(o.placeText=n,0==$object.isEmpty(o.placeText)&&superplaceholder({el:e,sentences:1==$object.isString(o.placeText)?[o.placeText]:o.placeText}),e.setAttribute("syn-options",JSON.stringify(o))):"controlText"==l&&(o=JSON.parse(e.getAttribute("syn-options")))&&(o.controlText=n,e.setAttribute("syn-options",JSON.stringify(o))))}}),syn.uicontrols.$textbox=o}(window),!function(l){syn.uicontrols=syn.uicontrols||new syn.module;var i=syn.uicontrols.$sourceeditor||new syn.module;i.extend({name:"syn.uicontrols.$sourceeditor",version:"1.0.0",editorPendings:[],editorControls:[],defaultSetting:{width:"100%",height:"360px",language:"javascript",minimap:{enabled:!1},roundedSelection:!1,scrollBeyondLastLine:!1,readOnly:!1,lineNumbers:"on",theme:"vs-dark",dataType:"string",basePath:"/lib/monaco-editor-0.45.0/vs",belongID:null,controlText:null,validators:null,transactConfig:null,triggerConfig:null},controlLoad(e,t){var n;l.monaco?i.lazyControlLoad(e,t):(l.require={paths:{vs:i.defaultSetting.basePath},"vs/nls":{availableLanguages:{"*":"ko"}}},syn.$w.loadScript(i.defaultSetting.basePath+"/loader.js"),syn.$w.loadScript(i.defaultSetting.basePath+"/editor/editor.main.nls.ko.js"),syn.$w.loadScript(i.defaultSetting.basePath+"/editor/editor.main.js"),n=setInterval(function(){if(l.monaco){for(var e=i.editorPendings.length,t=0;t<e;t++){var n=i.editorPendings[t];clearInterval(n.intervalID),i.lazyControlLoad(n.elID,n.setting)}i.editorPendings.length=0}},25),i.editorPendings.push({elID:e,setting:t,intervalID:n}))},lazyControlLoad(e,t){var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(i.defaultSetting,t),l[syn.$w.pageScript]),r=(r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),n.setAttribute("id",n.id+"_hidden"),n.setAttribute("syn-options",JSON.stringify(t)),n.style.display="none",n.parentNode),o=document.createElement("div"),n=(o.id=e,o.setAttribute("syn-datafield",n.getAttribute("syn-datafield")),o.setAttribute("syn-options",n.getAttribute("syn-options")),syn.$m.setStyle(o,"width",t.width),syn.$m.setStyle(o,"height",t.height),r.appendChild(o),monaco.editor.create(o,t));n.onKeyDown(function(e){"Space"===e.code&&!0===e.ctrlKey&&e.preventDefault()}),syn.$l.addEvent(l,"resize",i.window_onresize),i.editorControls.push({id:e,editor:n,setting:$object.clone(t)})},window_onresize(){for(var e=i.editorControls.length,t=0;t<e;t++){var n=i.editorControls[t],n=i.getControl(n.id);n&&n.editor&&(result=n.editor.layout())}},getValue(e,t){var n="",r=syn.$l.get(e);return n=0==$object.isNullOrUndefined(r)&&(r=i.getControl(e))&&r.editor?r.editor.getValue():n},setValue(e,t,n){var r=syn.$l.get(e);0==$object.isNullOrUndefined(r)&&(r=i.getControl(e))&&r.editor&&r.editor.setValue(t)},clear(e,t){var n=syn.$l.get(e);0==$object.isNullOrUndefined(n)&&(n=i.getControl(e))&&n.editor&&n.editor.setValue("")},applyEdits(e,t){var n;e&&(n=syn.$l.get(elID),0==$object.isNullOrUndefined(n))&&(n=i.getControl(elID))&&n.editor&&(null==t&&(t=n.editor.getPosition()),n.editor.getModel().applyEdits([{range:monaco.Range.fromPositions(t),text:e}]))},getValueInRange(e){var t=null,n=syn.$l.get(elID);return 0==$object.isNullOrUndefined(n)&&(n=i.getControl(elID))&&n.editor&&(null==e&&(e=n.editor.getPosition()),t=n.editor.getModel().getValueInRange(e)),t},getContentLine(e){if(e){var t=0,n=syn.$l.get(elID);if(0==$object.isNullOrUndefined(n)){n=i.getControl(elID);if(n&&n.editor)for(var r=n.editor.getValue().split("\n"),o=r.length,l=0;l<o;l++)if(-1<r[l].indexOf(e)){t=l+1;break}}return t}},setSelection(e){var t;e&&(t=syn.$l.get(elID),0==$object.isNullOrUndefined(t))&&(t=i.getControl(elID))&&t.editor&&t.editor.setSelection(e)},revealLine(e){var t,n=syn.$l.get(elID);0==$object.isNullOrUndefined(n)&&(n=i.getControl(elID))&&n.editor&&(e&&(e=(t=n.editor.getModel().getLineCount())<e?t:e),n.editor.revealLine(e))},findSelection(e){var t;e&&(t=syn.$l.get(elID),0==$object.isNullOrUndefined(t))&&(t=i.getControl(elID))&&t.editor&&(t.editor.trigger(e,"actions.find"),t.editor.trigger(e,"actions.findWithSelection"),t.editor.trigger(e,"editor.action.nextMatchFindAction"),t.editor.trigger("keyboard","closeFindWidget"))},layoutResize(e){var t=syn.$l.get(e);0==$object.isNullOrUndefined(t)&&(t=i.getControl(e))&&t.editor&&t.editor.layout()},getActions(e){var t=null,n=syn.$l.get(e);return t=0==$object.isNullOrUndefined(n)&&(n=i.getControl(e))&&n.editor?n.editor.getActions():t},getControl(e){for(var t=null,n=i.editorControls.length,r=0;r<n;r++){var o=i.editorControls[r];if(o.id==e){t=o;break}}return t},setLocale(e,t,n,r){}}),syn.uicontrols.$sourceeditor=i}(window),!function(){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var c=syn.uicontrols.$htmleditor||new syn.module;c.extend({name:"syn.uicontrols.$htmleditor",version:"1.0.0",applicationID:"",editorPendings:[],editorControls:[],defaultSetting:{businessID:"",applicationID:"",selector:"",fileManagerServer:"",repositoryID:null,dependencyID:null,relative_urls:!1,remove_script_host:!1,convert_urls:!1,isNumberTempDependency:!0,height:300,imageFileSizeLimit:3e5,viewerHtml:'<html><head><base href="/"><style type="text/css">body { font-family: \'맑은 고딕\', 돋움체; font-size: 12px; }</style><link type="text/css" rel="stylesheet" href="/lib/tinymce-5.6.0/skins/ui/oxide/content.min.css"><link type="text/css" rel="stylesheet" href="/lib/tinymce-5.6.0/skins/content/default/content.min.css"></head><body id="tinymce" class="mce-content-body">{0}<script>document.onselectstart = function () { return false; }; document.oncontextmenu = function () { return false; }; document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !(e.ctrlKey && !e.altKey)) {e.preventDefault();}}}, false);<\/script></body></html>',language:"ko_KR",plugins:["autolink link image lists print hr anchor pagebreak searchreplace visualblocks visualchars code insertdatetime media nonbreaking table paste advcode help"],toolbar:"styleselect | bold italic forecolor backcolor table | alignleft aligncenter alignright | link image | code help",menubar:!1,content_style:"body { font-family: '맑은 고딕', 돋움체; font-size: 12px; }",powerpaste_word_import:"merge",powerpaste_googledocs_import:"merge",defaultHtmlContent:null,table_default_attributes:{border:"1",width:"100%"},table_default_styles:{"border-collapse":"collapse",width:"100%"},table_responsive_width:!1,limitTableWidth:null,verify_html:!1,table_sizing_mode:"fixed",images_file_types:"jpeg,jpg,png,gif,bmp,webp,JPEG,JPG,PNG,GIF,BMP,WEBP",paste_data_images:!0,resize:!1,allowExternalLink:!1,prefixHtml:"",suffixHtml:"",limitGuideLineWidth:"",dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},concreate(){window.tinymce||syn.$w.loadScript("/lib/tinymce-5.6.0/tinymce.min.js")},controlLoad(e,t){var n;window.tinymce?c.lazyControlLoad(e,t):(n=setInterval(function(){if(window.tinymce){for(var e=c.editorPendings.length,t=0;t<e;t++){var n=c.editorPendings[t];clearInterval(n.intervalID),c.lazyControlLoad(n.elID,n.setting)}c.editorPendings.length=0}},25),c.editorPendings.push({elID:e,setting:t,intervalID:n}))},lazyControlLoad(d,u){var a=syn.$l.get(d),e=(u=syn.$w.argumentsExtend(c.defaultSetting,u),window[syn.$w.pageScript]),e=(e&&e.hook.controlInit&&(e=e.hook.controlInit(d,u),u=syn.$w.argumentsExtend(u,e)),0==$string.isNullOrEmpty(u.repositoryID)?(1==location.pathname.startsWith(syn.Config.TenantAppRequestPath?`/${syn.Config.TenantAppRequestPath}/`:"/app/")?1==$string.isNullOrEmpty(c.applicationID)&&(c.applicationID=syn.$w.ManagedApp.ApplicationID):1==$string.isNullOrEmpty(c.applicationID)&&(c.applicationID=syn.$w.Variable.ApplicationID||syn.$w.User.ApplicationID||syn.Config.ApplicationID),1==$string.isNullOrEmpty(c.applicationID)&&syn.$l.eventLog("$htmleditor.controlLoad","파일 컨트롤 초기화 오류, ApplicationID 정보 확인 필요","Error"),syn.Config.FileBusinessIDSource&&"None"!=syn.Config.FileBusinessIDSource&&("Cookie"==syn.Config.FileBusinessIDSource?syn.uicontrols.$fileclient.businessID=syn.$r.getCookie("FileBusinessID"):"SessionStorage"==syn.Config.FileBusinessIDSource&&(syn.uicontrols.$fileclient.businessID=syn.$w.getStorage("FileBusinessID"))),1==$string.isNullOrEmpty(syn.uicontrols.$fileclient.businessID)&&(syn.uicontrols.$fileclient.businessID=syn.$w.User.WorkCompanyNo),1==$string.isNullOrEmpty(syn.uicontrols.$fileclient.businessID)&&(syn.uicontrols.$fileclient.businessID="0"),syn.Config&&syn.Config.FileManagerServer&&(u.fileManagerServer=syn.Config.FileManagerServer),1==$string.isNullOrEmpty(u.fileManagerServer)&&syn.$l.eventLog("$htmleditor.fileManagerServer","HTML 편집기 업로드 초기화 오류, 파일 서버 정보 확인 필요","Error"),1==$string.isNullOrEmpty(u.dependencyID)&&(1==u.isNumberTempDependency?u.dependencyID=$date.toTicks(new Date).toString():u.dependencyID=syn.uicontrols.$fileclient.getTemporaryDependencyID(d)),u.images_upload_handler=function(t,n,r){function o(o,n,l){var i=syn.$w.xmlHttp(),e=(i.withCredentials=!1,u.fileManagerServer+"/repository/api/storage/upload-file?RepositoryID={0}&DependencyID={1}".format(u.repositoryID,u.dependencyID));0==$string.isNullOrEmpty(c.applicationID)&&(e=e+"&applicationID="+c.applicationID),i.open("POST",e),i.onload=function(){if(200!=i.status)e="HTTP Error code: {0}, text: {1}".format(i.status,i.statusText),syn.$l.eventLog("$htmleditor.images_upload_handler",e,"Warning"),l(e);else try{var t,e,r=JSON.parse(i.responseText);r&&1==r.Result?(syn.$r.path=u.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="GetItem",syn.$r.params.repositoryID=u.repositoryID,syn.$r.params.itemID=r.ItemID,0==$string.isNullOrEmpty(c.applicationID)&&(syn.$r.params.applicationID=c.applicationID),(t=syn.$w.xmlHttp()).onreadystatechange=function(){var e;t.readyState===XMLHttpRequest.DONE&&(200===t.status?(e=JSON.parse(t.responseText),r.location=e.AbsolutePath,n(r.location),setTimeout(function(){var e,t,n=tinymce.activeEditor.$('img[src$="'+r.location+'"]');0<n.length&&(e=o.width,t=o.height,tinymce.activeEditor.dom.setStyle(n,"width",e),tinymce.activeEditor.dom.setStyle(n,"height",t),n.attr("width",e),n.attr("height",t),n.after("&nbsp;"))},100)):syn.$l.eventLog("$htmleditor.images_upload_handler","async url: "+url+", status: "+t.status.toString()+", responseText: "+t.responseText,"Error"))},t.open("GET",syn.$r.url(),!0),t.send()):(e=r.Message,syn.$w.alert("이미지 업로드 실패: {0}".format(e)),syn.$l.eventLog("$htmleditor.images_upload_handler",e,"Warning"),l(e))}catch(e){syn.$w.alert("이미지 업로드 오류: {0}".format(e.message)),syn.$l.eventLog("$htmleditor.images_upload_handler",e,"Warning"),l(e)}},i.onerror=function(){var e="HTTP Error code: {0}, text: {1}".format(i.status,i.statusText);syn.$l.eventLog("$htmleditor.images_upload_handler",e,"Warning"),l(e)},(e=new FormData).append("file",o.blob,o.fileName),i.send(e)}var e=t.blob().size;if(u.imageFileSizeLimit<e){var e="에디터에 표시 가능한 이미지 파일크기는 {0} 미만입니다".format($number.toByteString(u.imageFileSizeLimit)),l=(syn.$w.alert(e),t.blobUri()),e=(syn.$r.revokeBlobUrl(l),r(e),tinymce.activeEditor.$('img[src$="'+l+'"]'));0<e.length&&e.remove()}else try{var i=window[syn.$w.pageScript].event["{0}_beforeUploadImageResize".format(d)];i?i.apply(a,[d,t,e=>{o({blob:e.blob,width:e.width,height:e.height,fileName:t.filename()},n,r)}]):c.resizeImage(t,0).then(e=>{o({blob:e.blob,width:e.width,height:e.height,fileName:t.filename()},n,r),syn.uicontrols.$htmleditor.getHtmlEditor(d).execCommand("mceRepaint")})}catch(e){syn.$l.eventLog("$htmleditor.images_upload_handler",e.toString(),"Error")}}):syn.$l.eventLog("$htmleditor.fileManagerServer",d+": HTML 편집기내 이미지 파일 업로드 사용 안함","Debug"),u.paste_preprocess=function(e,t){},u.paste_postprocess=function(e,t){if(t.node.firstElementChild&&"TABLE"==t.node.firstElementChild.tagName&&0==(t.mode&&"merge"==t.mode)){var t=t.node.firstElementChild,n=(t.border="1",t.cellspacing="0",t.cellpadding="0",syn.$m.setStyle(t,"border-collapse","collapse"),t.querySelectorAll("thead tr:first-child td")),r=n.length;if(0<r)for(var o=0;o<r;o++){var l=n[o];syn.$m.setStyle(l,"background-color","#ecf0f1")}else if(0<(r=(n=t.querySelectorAll("tr:first-child td")).length))for(o=0;o<r;o++){l=n[o];syn.$m.setStyle(l,"background-color","#ecf0f1")}}},u.width=a.style.width||320,u.height=a.style.height||240,a.setAttribute("id",a.id+"_hidden"),a.setAttribute("syn-options",JSON.stringify(u)),a.style.display="none",a.parentNode),t=document.createElement("div");t.style.width=u.width,t.style.height=u.height,t.id=d,t.innerHTML=1==$string.isNullOrEmpty(a.innerHTML)?"<div></div>":a.innerHTML,e.appendChild(t),u.selector="#"+d,u.init_instance_callback=function(a){for(var e=c.editorControls.length,t=0;t<e;t++){var n=c.editorControls[t];if(n.id==d){n.editor=a;break}}var s=syn.$l.get(d),r=s.getAttribute("setInitValue");0==$string.isNullOrEmpty(r)&&c.setValue(d,r),a.on("keydown",function(e){9==(e.keyCode||e.which)&&(a.execCommand("mceInsertContent",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"),tinymce.dom.Event.cancel(e),e.preventDefault())}),a.on("ObjectResized",function(e){if("TABLE"==e.target.nodeName)for(var t=e.target,n=(0==$string.isNullOrEmpty(u.limitTableWidth)&&u.limitTableWidth<t.style.width&&(t.style.width=u.limitTableWidth),0==$string.isNullOrEmpty(t.style.width)&&t.setAttribute("width",t.style.width),0==$string.isNullOrEmpty(t.style.height)&&t.setAttribute("height",t.style.height),e.target.querySelectorAll("td")),r=n.length,o=0;o<r;o++){var l=n[o];0==$string.isNullOrEmpty(l.style.width)&&l.setAttribute("width",l.style.width),0==$string.isNullOrEmpty(l.style.height)&&l.setAttribute("height",l.style.height)}var i;"IMG"==e.target.nodeName&&(t=tinymce.activeEditor.selection.getNode(),i=window[syn.$w.pageScript].event["{0}_imageResized".format(d)])&&i.apply(s,[d,e,a,t])}),0==$string.isNullOrEmpty(u.defaultHtmlContent)&&a.setContent(u.defaultHtmlContent),1==u.readonly&&Array.from(a.getDoc().querySelectorAll("a")).map(function(e){e.target="_blank"}),1==u.readonly&&1==u.allowExternalLink&&Array.from(a.getDoc().querySelectorAll(".mce-object-iframe")).map(function(e){e.setAttribute("data-mce-selected","2")});r=window[syn.$w.pageScript].event["{0}_documentReady".format(d)];r&&r.apply(s,[d,a])},c.editorControls.push({id:d,editor:null,setting:$object.clone(u)}),tinymce.init(u),0==$string.isNullOrEmpty(u.limitGuideLineWidth)&&syn.$l.get(d).controlPseudoStyle(" + div .tox-edit-area:after",'{content: "";width: 2px;height: 100%;background: #EF4444 repeat-y;top: 0px;left: {0};position: absolute;display: inline-block;}'.format(u.limitGuideLineWidth)),u.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(d,u.bindingID)},resizeImage(r,n){function o(){var e=i.width,t=i.height;return t<e?n<=0?(n=600)<e&&(t*=n/e,e=n):n<e&&(t*=n/e,e=n):n<=0?(n=600)<t&&(e*=n/t,t=n):n<t&&(e*=n/t,t=n),a.width=e,a.height=t,a.getContext("2d").drawImage(i,0,0,e,t),{blob:function(e){for(var t=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURIComponent)(e.split(",")[1]),e=e.split(",")[0].split(":")[1].split(";")[0],n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:e||"image/jpeg"})}(a.toDataURL("image/jpeg")),width:e,height:t}}var l=new FileReader,i=new Image,a=document.createElement("canvas");return new Promise(function(t,e){var n=r.blob();n.type.match(/image.*/)?(l.onload=function(e){i.onload=function(){return t(o())},i.src=e.target.result},l.readAsDataURL(n)):e(new Error("이미지 파일 확인 필요"))})},getHtmlEditor(e){for(var t=null,n=c.editorControls.length,r=0;r<n;r++){var o=c.editorControls[r];if(o.id==e){t=o.editor;break}}return t},getHtmlSetting(e){for(var t=null,n=c.editorControls.length,r=0;r<n;r++){var o=c.editorControls[r];if(o.id==e){t=o.setting;break}}return t},setMode(e,t){e=c.getHtmlEditor(e);e&&e.setMode(t)},insertContent(e,t){e=c.getHtmlEditor(e);e&&e.insertContent(t)},execCommand(e,t,n,r,o){var l=!1,e=c.getHtmlEditor(e);return e&&(1==$object.isNullOrUndefined(n)&&(n=!1),l=e.execCommand(t,n,r,o)),l},isDirty(e){var t=!1,e=c.getHtmlEditor(e);return t=e?e.isDirty():t},updateDependencyID(e,t,n){e=c.getHtmlSetting(e);syn.$r.path=e.fileManagerServer+"/repository/api/storage/action-handler",syn.$r.params.action="UpdateDependencyID",syn.$r.params.repositoryID=e.repositoryID,syn.$r.params.sourceDependencyID=e.dependencyID,syn.$r.params.targetDependencyID=t,syn.uicontrols.$fileclient.executeProxy(syn.$r.url(),n)},getDependencyID(e){var t="",e=c.getHtmlSetting(e);return t=e?e.dependencyID:t},setDependencyID(e,t){e=c.getHtmlSetting(e);e&&(e.dependencyID=t)},getValue(e,t){var n="",r=c.getHtmlEditor(e);if(r){var n=r.getContent(),o=c.getHtmlSetting(e);if(0==$string.isNullOrEmpty(o.limitTableWidth)){var l=n.match(/<table[^>]*>(.*?)/gim);if(0==$string.isNullOrEmpty(l))for(var i=0;i<l.length;i++){var a=l[i];-1==a.indexOf("width=")&&(n=n.replace(a,a.substring(0,a.length-1)+' width="{0}">'.format(o.limitTableWidth)))}}0==$string.isNullOrEmpty(o.prefixHtml)&&(n=o.prefixHtml+n),0==$string.isNullOrEmpty(o.suffixHtml)&&(n+=o.suffixHtml)}return n=(n=(n=(n=(n=n.replace(/&amp;/gm,"&")).replace(/\<p\>\<\/p\>/gm,"<p>&nbsp;</p>")).replace(/\<p style="text-align: left;"\>\<\/p\>/gm,'<p style="text-align: left;">&nbsp;</p>')).replace(/\<p style="text-align: center;"\>\<\/p\>/gm,'<p style="text-align: center;">&nbsp;</p>')).replace(/\<p style="text-align: right;"\>\<\/p\>/gm,'<p style="text-align: right;">&nbsp;</p>')},setValue(e,t,n){var r,o=c.getHtmlEditor(e);o?(r=syn.$l.get("{0}_hidden".format(e)).getAttribute("syn-options"),0==$object.isNullOrUndefined(r)&&(r=JSON.parse(r),0==$string.isNullOrEmpty(r.prefixHtml)&&0==$string.isNullOrEmpty(r.prefixHtml)&&1==t.startsWith(r.prefixHtml)&&(t=t.replace(r.prefixHtml,"")),0==$string.isNullOrEmpty(r.suffixHtml))&&0==$string.isNullOrEmpty(r.suffixHtml)&&1==t.endsWith(r.suffixHtml)&&(t=t.replace(r.suffixHtml,"")),o.setContent(t)):syn.$l.get(e).setAttribute("setInitValue",t)},clear(e,t){e=c.getHtmlEditor(e);e&&e.setContent("")},setLocale(e,t,n,r){}}),syn.uicontrols.$htmleditor=c}(globalRoot),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $organization=syn.uicontrols.$organization||new syn.module;$organization.extend({name:"syn.uicontrols.$organization",version:"1.0",organizationControls:[],eventHooks:["nodedrop","select","click"],defaultSetting:{width:"100%",height:"300px",itemID:"id",parentItemID:"parentID",childrenID:"children",reduceMap:{key:"id",title:"title",parentID:"parentID"},nodeTitle:"name",nodeContent:"title",direction:"t2b",pan:!1,zoom:!1,zoominLimit:2,zoomoutLimit:.8,draggable:!1,className:"top-level",verticalLevel:4,nodeTemplate:null,createNode:null,dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList:function(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad:function(elID,setting){var el=syn.$l.get(elID),mod=(setting=syn.$w.argumentsExtend($organization.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,hookEvents=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),setting.width=el.style.width||setting.width,setting.height=el.style.height||setting.height,el.setAttribute("id",elID+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",null!=setting.nodeTemplate&&1==$object.isString(setting.nodeTemplate)&&(setting.nodeTemplate=eval(setting.nodeTemplate)),null!=setting.createNode&&1==$object.isString(setting.createNode)&&(setting.createNode=eval(setting.createNode)),el.getAttribute("syn-events"));try{hookEvents=hookEvents&&eval(hookEvents)}catch(error){syn.$l.eventLog("OrganizationView_controlLoad",error.toString(),"Debug")}for(var parent=el.parentNode,wrapper=document.createElement("div"),orgchart=(wrapper.style.width=setting.width,wrapper.style.height=setting.height,wrapper.className="organization-container",wrapper.innerHTML='<div id="'+elID+'"></div>',parent.appendChild(wrapper),setting.data={},$("#"+elID).orgchart(setting)),i=0;i<hookEvents.length;i++){var hookEvent=hookEvents[i];if(-1<$organization.eventHooks.indexOf(hookEvent)&&1==$object.isNullOrUndefined(setting[hookEvent]))switch(hookEvent){case"nodedrop":setting[hookEvent]=function(e,t){var n=window[syn.$w.pageScript];n&&(n=n.event["{0}_{1}".format(elID,"nodedrop")])&&n.apply(syn.$l.get(elID),[e,t])},orgchart.$chart.on("nodedrop.orgchart",setting[hookEvent]);break;case"select":setting[hookEvent]=function(e){var t,n=window[syn.$w.pageScript];n&&(t=$(this),n=n.event["{0}_{1}".format(elID,"select")])&&n.apply(syn.$l.get(elID),[e,t])},orgchart.$chartContainer.on("click",".node",setting[hookEvent]);break;case"click":setting[hookEvent]=function(e){var t=window[syn.$w.pageScript];t&&(t=t.event["{0}_{1}".format(elID,"click")])&&t.apply(syn.$l.get(elID),[e,$(e.target).closest(".node").length])},orgchart.$chartContainer.on("click",".orgchart",setting[hookEvent])}}$organization.organizationControls.push({id:elID,orgchart:orgchart,config:setting}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue:function(e,t){var n=null,r=$organization.getControl(e).orgchart;if(r){for(var e=$organization.getControl(e).config,o=e.reduceMap,r=r.getHierarchy(),l=syn.$l.nested2Flat(r,e.itemID,e.parentItemID,e.childrenID),i=[],a=l.length,s=0;s<a;s++){var d=l[s],u=d.data;u&&(u[o.key]=d.key,u[o.title]=d.title,u[o.parentID]=d.parentID,i.push(u))}n=i}return n},setValue:function(e,t,n){var r=$organization.getControl(e).orgchart;if(r){for(var e=$organization.getControl(e).config,o=e.reduceMap,l=[],i=t.length,a=0;a<i;a++){var s=t[a];l.push({id:s[o.key],key:s[o.key],title:s[o.title],parentID:s[o.parentID],data:$object.clone(s,!1)})}var d=syn.$l.flat2Nested(l,e.itemID,e.parentItemID,e.childrenID),d=(r.init({data:d}),e.nodedrop);d&&r.$chart.on("nodedrop.orgchart",d)}},clear:function(e,t){e=$organization.getControl(e).orgchart;e&&e.init({data:null})},getControl:function(e){for(var t=null,n=$organization.organizationControls.length,r=0;r<n;r++){var o=$organization.organizationControls[r];if(o.id==e){t=o;break}}return t},init:function(e,t){e=$organization.getControl(e).orgchart;e&&e.init(t)},addParent:function(e,t){var n=$organization.getControl(e).orgchart;n&&n.addParent($("#"+e).find(".node:first"),t)},addSiblings:function(e,t,n){e=$organization.getControl(e).orgchart;e&&t&&e.addSiblings(t,n)},addChildren:function(e,t,n){e=$organization.getControl(e).orgchart;e&&t&&e.addChildren(t,n)},removeNodes:function(e,t){e=$organization.getControl(e).orgchart;e&&t&&e.removeNodes(t)},getHierarchy:function(e,t){var n=null,e=$organization.getControl(e).orgchart;return e&&(1==$object.isNullOrUndefined(t)&&(t=!1),n=e.getHierarchy(t)),n},hideParent:function(e,t){e=$organization.getControl(e).orgchart;e&&t&&e.hideParent(t)},showParent:function(e,t){e=$organization.getControl(e).orgchart;e&&t&&e.showParent(t)},showChildren:function(e,t){e=$organization.getControl(e).orgchart;e&&t&&e.showChildren(t)},hideSiblings:function(e,t,n){e=$organization.getControl(e).orgchart;e&&t&&e.hideSiblings(t,n)},showSiblings:function(e,t,n){e=$organization.getControl(e).orgchart;e&&t&&e.showSiblings(t,n)},getNodeState:function(e,t,n){var r=null,e=$organization.getControl(e).orgchart;return e&&t&&(1==$object.isNullOrUndefined(n)&&(n="children"),r=e.getNodeState(t,n)),r},getRelatedNodes:function(e,t,n){var r=null,e=$organization.getControl(e).orgchart;return e&&t&&(1==$object.isNullOrUndefined(n)&&(n="children"),r=e.getRelatedNodes(t,n)),r},setChartScale:function(e,t,n){e=$organization.getControl(e).orgchart;e&&t&&e.setChartScale(t,n)},export:function(e,t,n){e=$organization.getControl(e).orgchart;e&&(1==$object.isNullOrUndefined(t)&&(t=syn.$l.random()),e.export(t,n))},setLocale:function(e,t,n,r){}}),syn.uicontrols.$organization=$organization}(window),!function(window){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var $tree=syn.uicontrols.$tree||new syn.module;$tree.extend({name:"syn.uicontrols.$tree",version:"1.0.0",treeControls:[],eventHooks:["blurTree","focusTree","activate","beforeActivate","beforeExpand","beforeSelect","blur","click","collapse","createNode","dblclick","expand","focus","keydown","keypress"],defaultSetting:{width:"100%",height:"300px",itemID:"id",parentItemID:"parentID",childrenID:"children",reduceMap:{key:"key",title:"title",parentID:"parentID",folder:"folder",icon:!1},toggleEffect:!1,checkbox:!1,extensions:["persist","filter"],persist:{expandLazy:!1,expandOpts:{noAnimation:!1,noEvents:!1},overrideSource:!0,store:"session",types:"active expanded focus selected"},multi:{mode:"sameParent"},filter:{counter:!1,mode:"hide"},source:[],dataType:"string",belongID:null,getter:!1,setter:!1,controlText:null,validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){var el=syn.$l.get(elID),mod=($tree.defaultSetting.persist=!1,$tree.defaultSetting.multi=!1,setting=syn.$w.argumentsExtend($tree.defaultSetting,setting),window[syn.$w.pageScript]),moduleSettings,hookEvents=(mod&&mod.hook.controlInit&&(moduleSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleSettings)),setting.width=el.style.width||setting.width,setting.height=el.style.height||setting.height,el.setAttribute("id",elID+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.getAttribute("syn-events"));try{hookEvents=hookEvents&&eval(hookEvents)}catch(error){syn.$l.eventLog("TreeView_controlLoad",error.toString(),"Debug")}for(var i=0;i<hookEvents.length;i++){var hookEvent=hookEvents[i];-1<$tree.eventHooks.indexOf(hookEvent)&&1==$object.isNullOrUndefined(setting[hookEvent])&&(setting[hookEvent]=function(t,e){var n=$tree.eventHooks.find(function(e){return e.toLowerCase()==t.type.replace("fancytree","")}),r=window[syn.$w.pageScript];r&&(r=r.event?r.event["{0}_{1}".format(elID,n)]:null)&&r.apply(syn.$l.get(elID),[t,e])})}var parent=el.parentNode,wrapper=document.createElement("div");wrapper.style.width=setting.width,wrapper.style.height=setting.height,wrapper.className="tree-container border",wrapper.innerHTML='<div id="'+elID+'"></div>',parent.appendChild(wrapper),$tree.treeControls.push({id:elID,element:$("#"+elID).fancytree(setting),tree:$.ui.fancytree.getTree("#"+elID),config:setting}),setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID)},getValue(e,t){var n=null,r=$tree.getControl(e).tree;if(r){for(var e=$tree.getControl(e).config,o=e.reduceMap,r=r.toDict(!0),l=syn.$l.nested2Flat(r,e.itemID,e.parentItemID,e.childrenID),i=[],a=l.length,s=0;s<a;s++){var d=l[s],u=d.data;u&&(u[o.key]=d.key,u[o.title]=d.title,u[o.parentID]=d.parentID,u[o.folder]=d.folder,i.push(u))}n=i}return n},setValue(e,t,n){var r=$tree.getControl(e).tree;if(r){for(var e=$tree.getControl(e).config,o=e.reduceMap,l=[],i=t.length,a=0;a<i;a++){var s=t[a];l.push({key:s[o.key],title:s[o.title],parentID:s[o.parentID],folder:$string.toBoolean(s[o.folder]),icon:!1,data:$object.clone(s,!1)})}e=syn.$l.flat2Nested(l,e.itemID,e.parentItemID,e.childrenID);r.reload([e])}},clear(e,t){e=$tree.getControl(e).tree;e&&e.reload([])},getControl(e){for(var t=null,n=$tree.treeControls.length,r=0;r<n;r++){var o=$tree.treeControls[r];if(o.id==e){t=o;break}}return t},getActiveNode(e){var t=null,e=$tree.getControl(e).tree;return t=e?e.getActiveNode():t},toogleEnabled(e){var t=!1,e=$tree.getControl(e).tree;return e&&(t=!e.options.disabled,e.enable(!t)),t},getRootNodeID(e){var t=null,e=$tree.getControl(e).tree;return t=e?e.rootNode.key.replace("root_",""):t},activateKey(e,t){1!=$object.isNullOrUndefined(t)&&(e=$tree.getControl(e).tree)&&e.activateKey(t)},expendLevel(e,t){1==$object.isNullOrUndefined(t)&&(t=1);e=$tree.getControl(e).tree;e&&e.visit(function(e){e.getLevel()<t&&e.setExpanded(!0)})},collapseLevel(e,t){1==$object.isNullOrUndefined(t)&&(t=1);e=$tree.getControl(e).tree;e&&e.visit(function(e){e.getLevel()<t&&e.setExpanded(!1)})},expandAll(e){e=$tree.getControl(e).tree;e&&e.expandAll()},collapseAll(e){e=$tree.getControl(e).tree;e&&e.expandAll(!1)},getSelectedNodes(e){var t=[],e=$tree.getControl(e).tree;return t=e?e.getSelectedNodes():t},filterNodes(e,t){e=$tree.getControl(e).tree;return e&&e.filterNodes(t,{autoExpand:!0}),[]},filterBranches(e,t){e=$tree.getControl(e).tree;return e&&e.filterBranches(t,{autoExpand:!0,leavesOnly:!0}),[]},clearFilter(e){var t=[],e=$tree.getControl(e).tree;return t=e?e.clearFilter():t},setSelectedAll(e,t){var n;return $tree.getControl(e).tree&&(n=t.isSelected(),t.visit(function(e){e.setSelected(n)})),[]},setLocale(e,t,n,r){}}),syn.uicontrols.$tree=$tree}(window),!function(window){"use strict";var textEditor,$grid=(window.Handsontable&&(textEditor=Handsontable.editors.TextEditor.prototype.extend(),Handsontable.validators.registerValidator("require",function(e,t){var n=!1,n=1!=$string.isNullOrEmpty(e);return t&&t(n),n}),Handsontable.cellTypes.registerCellType("codehelp",{editor:textEditor,renderer(e,t,n,r,o,l,i){var a,s;if(Handsontable.renderers.TextRenderer.apply(this,arguments),(s=document.createElement("SPAN")).textContent=l,a=document.createElement("BUTTON"),syn.$m.addCssText(a,"height: 21px;;"),syn.$m.addClass(a,"btn w:21px mt:1px float:right"),a.tag=[e,t,n,r,o,l,i],a.innerHTML='<i class="ti ti-search"></i>',Handsontable.dom.addEvent(a,"click",function(e){e.preventDefault();var e=e.currentTarget,n=e.tag[0],r=e.tag[2],o=e.tag[3],l=e.tag[4],i=n.getSettings().columns.filter(function(e){return e.data==l})[0],a=n.rootElement.id,e=syn.$w.argumentsExtend(syn.uicontrols.$codepicker.defaultSetting,i);e.elID=a,e.controlType="grid",syn.uicontrols.$codepicker.find(e,function(e){e&&i.codeColumnID&&i.textColumnID&&((t=[]).push([r,n.propToCol(i.codeColumnID),e[0].value]),t.push([r,o,e[0].text]),n.setDataAtCell(t));var t=window[syn.$w.pageScript].hook.frameEvent;t&&t.call(this,"codeReturn",{elID:a,row:r,col:o,columnName:l,result:e})})}),Handsontable.dom.empty(t),t.appendChild(a),t.appendChild(s),i&&i.className)for(var d=i.className.split(" "),u=0;u<d.length;u++){var c=d[u];""!=c&&syn.$m.addClass(t,c)}return t},validator(e,t){t(!0)},allowInvalid:!0}),Handsontable.cellTypes.registerCellType("button",{renderer(n,e,r,o,l,i,t){if(Handsontable.renderers.TextRenderer.apply(this,arguments),0==$string.isNullOrEmpty(i)){var a=n.getSettings().columns[o].columnOptions,s=document.createElement("BUTTON");if(s.classList.add("celltype"),a&&(1==a.clearBorder&&(s.style.border="0px",s.style.backgroundColor="transparent",s.style.textDecoration="underline"),a.color&&(s.style.color=a.color),1==a.bold)&&(s.style.fontWeight="900"),i.indexOf&&-1<i.indexOf("|")){var d=i.split("|"),u=d[0];if(1<u.split(" ").length){var c,g=u.split(" ");for(c in g)s.classList.add(g[c])}else s.classList.add(u);i=d[1]}if(s.tag=[n,e,r,o,l,i,t],s.setAttribute("data",i),s.textContent=a&&1==$string.toBoolean(a.toCurrency)?$string.toCurrency(i):i,syn.$l.addEvent(s,"click",function(e){e.preventDefault();var e=event.target||event.srcElement,t=window[syn.$w.pageScript].event["{0}_cellButtonClick".format(n.rootElement.id)];t&&t.apply(e,[n.rootElement.id,r,o,l,i])}),Handsontable.dom.empty(e),e.appendChild(s),t&&t.className)for(var p=t.className.split(" "),m=0;m<p.length;m++){var y=p[m];""!=y&&syn.$m.addClass(e,y)}}return e},validator(e,t){t(!0)},allowInvalid:!0}),Handsontable.cellTypes.registerCellType("safehtml",{editor:textEditor,renderer(e,t,n,r,o,l,i){var a,s,l=Handsontable.helper.stringify(l);if(a=l,s=((((s="<em><p><br><b><u><strong><a><big><img>")||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),l=a.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return-1<s.indexOf("<"+t.toLowerCase()+">")?e:""}),t.innerHTML=l,i&&i.className)for(var d=i.className.split(" "),u=0;u<d.length;u++){var c=d[u];""!=c&&syn.$m.addClass(t,c)}return t},validator(e,t){t(!0)},allowInvalid:!0}),Handsontable.cellTypes.registerCellType("image",{editor:textEditor,renderer(e,t,n,r,o,l,i){var a;if(Handsontable.renderers.TextRenderer.apply(this,arguments),0===Handsontable.helper.stringify(l).indexOf("http")?((a=document.createElement("IMG")).src=l,Handsontable.dom.addEvent(a,"click",function(e){e.preventDefault()}),Handsontable.dom.empty(t),t.appendChild(a)):Handsontable.renderers.TextRenderer.apply(this,arguments),i&&i.className)for(var s=i.className.split(" "),d=0;d<s.length;d++){var u=s[d];""!=u&&syn.$m.addClass(t,u)}return t},validator(e,t){t(!0)},allowInvalid:!0}),Handsontable.cellTypes.registerCellType("radio",{renderer(d,e,u,c,g,t,n){Handsontable.renderers.TextRenderer.apply(this,arguments);var r="rdo_{0}_{1}_{2}".format(d.rootElement.id,u,c),o=document.createElement("INPUT");if(o.id=r,o.type="radio",syn.$m.addClass(o,"form-check-input"),t&&(!0===$string.toBoolean(t)?o.checked=!0:o.checked=!1),Handsontable.dom.addEvent(o,"click",function(e){e.preventDefault();var e=e.target||e.srcElement,t=window[syn.$w.pageScript],n=d.getSettings(),r=n.columns[c].readOnly,o=d.getCellMeta(u,c);if(!1===r&&0==o.readOnly){if(n.data&&0<n.data.length)for(var l,i=n.data,a=i.length,s=0;s<a;s++)1==$string.toBoolean(i[s][g])&&("R"==i[s].Flag&&(i[s].Flag="U"),i[s][g]=0,l=syn.$l.get("rdo_{0}_{1}_{2}".format(d.rootElement.id,s,c)))&&(l.checked=!1);d.setDataAtCell(u,c,!0===e.checked?"1":"0");r=t.event["{0}_cellRadioClick".format(d.rootElement.id)];r&&r.apply(e,[d.rootElement.id,u,c,g,!0===e.checked?"1":"0"]),d.render()}}),Handsontable.dom.empty(e),e.appendChild(o),n&&n.className)for(var l=n.className.split(" "),i=0;i<l.length;i++){var a=l[i];""!=a&&syn.$m.addClass(e,a)}return e},validator(e,t){t(!0)},allowInvalid:!0}),Handsontable.cellTypes.registerCellType("checkbox2",{renderer(o,e,l,i,a,t,n){Handsontable.renderers.TextRenderer.apply(this,arguments);var r="chk_syngrid_{0}_{1}_{2}".format(o.rootElement.id,l,i),s=document.createElement("INPUT");if(s.id=r,s.type="checkbox",syn.$m.addClass(s,"form-check-input"),t&&(!0===$string.toBoolean(t)?s.checked=!0:s.checked=!1),Handsontable.dom.addEvent(s,"click",function(e){e.preventDefault();var e=e.target||e.srcElement,t=window[syn.$w.pageScript],n=o.getSettings().columns[i].readOnly,r=o.getCellMeta(l,i);(0==n||0==r.readOnly)&&(o.setDataAtCell(l,i,!0===e.checked?"1":"0"),n=t.event["{0}_cellCheckboxClick".format(o.rootElement.id)])&&n.apply(e,[o.rootElement.id,l,i,a,!0===e.checked?"1":"0"])}),Handsontable.dom.empty(e),e.appendChild(s),n&&n.className)for(var d=n.className.split(" "),u=0;u<d.length;u++){var c=d[u];""!=c&&syn.$m.addClass(e,c)}return e},validator(e,t){t(!0)},allowInvalid:!0})),syn.uicontrols=syn.uicontrols||new syn.module,syn.uicontrols.$grid||new syn.module);$grid.extend({name:"syn.uicontrols.$grid",version:"1.0.0",defaultHotSettings:{licenseKey:"non-commercial-and-evaluation",language:"ko-KR",data:[],colWidths:120,rowHeights:31,rowHeaders:!0,copyPaste:!0,beforePaste(e,t){return!1},autoColumnSize:!1,stretchH:"none",undo:!1,observeChanges:!1,observeDOMVisibility:!0,currentRowClassName:"currentRow",manualColumnResize:!0,manualRowResize:!1,manualColumnMove:!1,manualRowMove:!1,manualColumnFreeze:!1,autoInsertRow:!1,isRemoveRowHidden:!0,autoWrapRow:!0,outsideClickDeselects:!0,selectionMode:"range",sortIndicator:!1,columnSorting:!0,wordWrap:!1,dropdownMenu:!1,filters:!0,isContainFilterHeader:!1,firstShowColIndex:null,lastShowColIndex:null,fillHandle:!1,contextMenu:{items:{copy:{name:"내용복사"},hidden_columns_hide:{name:"컬럼 숨김",callback(e,t,n){if(t&&0<t.length){for(var t=t[0],r=t.start.col,o=t.end.col,l=[];r<=o;r++)l.push(r);$grid.visibleColumns(this.elID,l,!1);t=window[syn.$w.pageScript];t&&(t=t.event?t.event["{0}_{1}".format(this.elID,"afterHiddenColumns")]:null)&&t.apply(syn.$l.get(this.elID),[l])}}},hidden_columns_show:{name:"컬럼 표시",callback(e,t,n){if(t&&0<t.length){for(var t=t[0],r=t.start.col,o=t.end.col,l=[];r<=o;r++)l.push(r);$grid.visibleColumns(this.elID,l,!0);t=window[syn.$w.pageScript];t&&(t=t.event?t.event["{0}_{1}".format(this.elID,"afterUnHiddenColumns")]:null)&&t.apply(syn.$l.get(this.elID),l)}}},columns_chooser:{name:"컬럼 표시 선택",callback(e,t,n){for(var l=this.elID,r=$object.clone(syn.$w.dialogOptions),o=(r.minWidth=240,r.minHeight=240,syn.$l.get("columnChooserHtml")),i=(o||((a=syn.$m.create({tag:"div",id:"columnChooserHtml"})).style.display="none",a.innerHTML='<h3 class="mt-0 mb-0">컬럼 표시 선택</h3><div class="btn-area"><input type="button" id="btnColumnApply" class="btn btn-primary" value="컬럼 표시 적용"></div><ul class="row" id="lstChooseColumns" style = "overflow: auto; height: 150px; width:360px; padding-top:10px; padding-left:10px;" > <li><input type="checkbox" id="a"><label for="a">컬럼명</label></li></ul>',document.body.appendChild(a),o=syn.$l.get("columnChooserHtml")),Handsontable.dom.addEvent(o.querySelector("#btnColumnApply"),"click",function(){for(var e=[],t=syn.$l.get("lstChooseColumns").children,n=0;n<t.length;n++){var r=t[n],o=r.children[0].id.split("_")[2],r=!r.children[0].checked;e.push({col:n,colID:o,isHidden:r})}syn.$w.closeDialog(e)}),o.querySelector("ul")),a=(i.innerHTML="",this.getSettings()),s=this.getSettings().colHeaders,d=a.columns,u=1;u<d.length;u++){var c=s[u],g=d[u],p=(document.createElement("li"),syn.$m.create({tag:"li",className:"col-12"})),m=(syn.$m.setStyle(p,"padding-top","10px"),"{0}_checkbox_{1}".format(l,g.data)),y=$grid.isColumnHidden(l,u),f=syn.$m.create({tag:"input",id:m,attributes:{type:"checkbox"}}),y=(f.checked=!y,syn.$m.create({tag:"label",id:"{0}_label_{1}".format(l,g.data),attributes:{for:m}}));syn.$m.setStyle(y,"padding-left","10px"),y.textContent=c,syn.$m.appendChild(p,f),syn.$m.appendChild(p,y),syn.$m.appendChild(i,p)}syn.$w.showDialog(syn.$l.get("columnChooserHtml"),r,function(e){if(e){for(var t=[],n=[],r=1;r<d.length;r++){var o=e[r-1];o&&(0==o.isHidden?t:n).push(r)}$grid.visibleColumns(l,t,!0),$grid.visibleColumns(l,n,!1)}})}}}},hiddenColumns:{columns:[0],indicators:!1},deleteKeyColumns:[],keyLockedColumns:[],summarys:[],exportColumns:[],transactConfig:null,triggerConfig:null},gridControls:[],handsontableHooks:null,gridHooks:[],gridCodeDatas:[],addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(elID,setting){for(var el=syn.$l.get(elID),moduleHotSettings,mod=(setting=syn.$w.argumentsExtend($grid.defaultHotSettings,setting),setting.columns&&(moduleHotSettings=$grid.getInitializeColumns(setting,elID),setting=syn.$w.argumentsExtend(setting,moduleHotSettings)),window[syn.$w.pageScript]),moduleHotSettings,isFlagColumn=(mod&&mod.hook.controlInit&&(moduleHotSettings=mod.hook.controlInit(elID,setting),setting=syn.$w.argumentsExtend(setting,moduleHotSettings)),setting.elementID=elID,setting.colHeaders=setting.colHeaders||["Flag","A","B","C"],-1==setting.colHeaders.indexOf("Flag")&&(setting.colHeaders.unshift("Flag"),setting.colWidths.unshift(10)),setting.columns=setting.columns||[{data:0},{data:1},{data:2},{data:3}],!1),columnCount=setting.columns.length,i=0;i<columnCount;i++){var column=setting.columns[i];if("Flag"==column.data){isFlagColumn=!0;break}}0==isFlagColumn&&setting.columns.unshift({data:"Flag",type:"text",readOnly:!0}),!0===setting.dropdownMenu?setting.dropdownMenu=["filter_by_condition","filter_operators","filter_by_condition2","filter_action_bar"]:setting.dropdownMenu=!1;var debounceFn=Handsontable.helper.debounce(function(e,t){var n=t.target||t.srcElement;e=$grid.getActiveColIndex(n.gridID);n=$grid.getGridControl(n.gridID).getPlugin("filters");0==n.isEnabled()&&n.enablePlugin(),n.clearConditions(e),0<t.target.value.length&&n.addCondition(e,"contains",[t.target.value]),n.filter()},100),isSummary=!1,parent=(setting.summarys&&0<setting.summarys.length?(isSummary=!0,setting.fixedRowsBottom=1,setting.cells=function(e,t,n){var r=this.instance;if(1==$grid.getGridValue(r.elID).applyCells){var o=r.getSettings();if(o.summarys&&0<o.summarys.length)if(e===o.data.length-1)return l={type:"text",readOnly:!0,className:"summaryRow"},(o=o.columns.find(function(e){return e.data==n}))&&o.className&&-1==o.className.indexOf(l.className)&&(l.className+=" "+o.className),l}o=window[syn.$w.pageScript];if(o){var l,o=o.event["{0}_applyCells".format(r.elID)];if(o)if(l=o.apply(r,[r.elID,e,t,n]))return l}}):setting.cells=function(e,t,n){var r=window[syn.$w.pageScript];if(r){var o=this.instance,r=r.event["{0}_applyCells".format(o.elID)];if(r){r=r.apply(o,[o.elID,e,t,n]);if(r)return r}}},setting.beforeColumnSort=function(e,t){var n,r=this.getSettings();r.summarys&&0<r.summarys.length&&($grid.getGridValue(this.elID).applyCells=!1,n=(r=this.getSettings()).data.find(function(e){return"S"==e.Flag}))&&-1<(n=r.data.indexOf(n))&&r.data.splice(n,1)},setting.afterColumnSort=function(e,t){var n=this.getSettings();n.summarys&&0<n.summarys.length&&$grid.renderSummary(this)},setting.afterGetColHeader=function(u,e){if("number"!=typeof u)return u;0<=u&&1==setting.isContainFilterHeader&&e.childElementCount<2&&(t=document.createElement("div"),c=document.createElement("input"),t.className="filterHeader",c.gridID=elID,Handsontable.dom.addEvent(c,"contextmenu",function(e){return Handsontable.dom.stopImmediatePropagation(e),e.preventDefault&&e.preventDefault(),!1}),Handsontable.dom.addEvent(c,"keydown",function(e){debounceFn(u,e)}),Handsontable.dom.addEvent(c,"focus",function(e){var t=window[syn.$w.pageScript];t&&(t.prop.focusControl=syn.$l.get(c.gridID))}),t.appendChild(c),e.appendChild(t));var c,t=1==$object.isArray(setting.dropdownMenu)?3:2,g=setting.columns[u];g&&!0===g.isSelectAll&&(t+=2),0<=u&&g&&("checkbox"==g.type||"checkbox2"==g.type)&&!0===g.isSelectAll&&e.firstElementChild.childElementCount<t?3!=e.firstElementChild.childElementCount&&0==syn.$m.hasClass(e,"hiddenHeader")&&(t="chk_syngrid_All_{0}_{1}".format(elID,u),null!=syn.$l.get(t)&&(syn.$m.remove(syn.$l.get(t)),syn.$m.remove(syn.$l.querySelector('label[for="'+t+'"]'))),(c=document.createElement("input")).id=t,c.type="checkbox",c.setAttribute("columnSelectAll","1"),c.gridID=elID,c.checked=1==g.toogleChecked,syn.$m.addClass(c,"form-check-input"),Handsontable.dom.addEvent(c,"click",function(e){var t=e.target||e.srcElement,n=t.checked?"1":"0";g.toogleChecked=n;var r=window[syn.$w.pageScript].event["{0}_selectAllCheck".format(c.gridID)];if(r)r.apply(t,[c.gridID,u,$string.toBoolean(g.toogleChecked.toString())]),(o=$grid.getGridControl(t.gridID)).render();else{var o=$grid.getGridControl(t.gridID),r=$grid.getSettings(t.gridID);if(r.data&&0<r.data.length)for(var l=r.data,i=l.length,a=o.colToProp(u),s=0;s<i;s++){var d=l[s].Flag;"R"==d&&(l[s].Flag="U"),"S"!=d&&(l[s][a]=n)}o.render()}e.stopImmediatePropagation()}),syn.$m.prepend(c,e.firstElementChild)):(t=e.querySelector('input[type="checkbox"]'),0<=u&&g&&("checkbox"==g.type||"checkbox2"==g.type)&&null!=t&&(e.firstElementChild.removeChild(t),t=e.querySelector("label[for]"),e.firstElementChild.removeChild(t)))},1==setting.isContainFilterHeader&&(setting.className="contain-filter-header"),setting.width=setting.width||"100%",setting.height=setting.height||240,el.setAttribute("id",el.id+"_hidden"),el.setAttribute("syn-options",JSON.stringify(setting)),el.style.display="none",el.parentNode),wrapper=document.createElement("div"),fileEL=(1==isSummary&&syn.$m.addClass(wrapper,"summaryRow"),wrapper.id=elID,parent.appendChild(wrapper),document.createElement("input")),gridHookEvents=(fileEL.id="{0}_ImportFile".format(elID),fileEL.type="file",fileEL.style.display="none",fileEL.accept=".csv, .xls, .xlsx",Handsontable.dom.addEvent(fileEL,"change",$grid.importFileLoad),parent.appendChild(fileEL),el=syn.$l.get(elID),$grid.handsontableHooks||($grid.handsontableHooks=Handsontable.hooks.getRegistered()),$grid.gridHooks=["afterChange","afterCreateRow","afterRemoveRow","beforeOnCellMouseDown","afterSelectionEnd","beforeKeyDown"],syn.$l.get(el.id+"_hidden").getAttribute("syn-events"));try{gridHookEvents=gridHookEvents&&eval(gridHookEvents)}catch(error){syn.$l.eventLog("WebGrid_controlLoad",error.toString(),"Debug")}if(gridHookEvents)for(var i=0;i<gridHookEvents.length;i++){var hook=gridHookEvents[i];-1==$grid.gridHooks.indexOf(hook)&&$grid.gridHooks.push(hook)}$grid.gridHooks.forEach(function(hook){setting[hook]=function(){var elID=this.rootElement.id,$grid=syn.uicontrols.$grid,mod=window[syn.$w.pageScript],hot=$grid.getGridControl(elID);if(null!=hot){var defaultGridHooks=["afterChange","afterCreateRow","afterRemoveRow","beforeOnCellMouseDown","afterSelectionEnd","beforeKeyDown"],gridValue=$grid.getGridValue(elID),eventHandler,rowIndex,method_index,method_amount,method_rows,event,coords,td,gridValue,now,gridValue;if(-1==defaultGridHooks.indexOf(hook))1!=gridValue.passSelectCellEvent&&mod&&(eventHandler=mod.event?mod.event["{0}_{1}".format(elID,hook)]:null,eventHandler)&&eventHandler.apply(syn.$l.get(elID),arguments);else if(!gridValue||"afterChange"!=hook||"insertRow"!=gridValue.eventName&&"removeRow"!=gridValue.eventName){if("beforeKeyDown"==hook){var evt=arguments[0],selected,currentRow,currentCol,firstCol,lastCol,lastRow,selected,currentRow,currentCol,firstCol,lastCol,lastRow;1==evt.altKey&&13==evt.keyCode?Handsontable.dom.stopImmediatePropagation(evt):1==evt.shiftKey&&9==evt.keyCode?(selected=hot.getSelected()[0],currentRow=selected[0],currentCol=selected[1],firstCol=$grid.getFirstShowColIndex(elID),lastCol=$grid.getLastShowColIndex(elID),0<currentRow&&currentCol==firstCol?(Handsontable.dom.stopImmediatePropagation(evt),evt.preventDefault&&evt.preventDefault(),hot.selectCell(currentRow-1,lastCol)):0==currentRow&&currentCol==firstCol&&(Handsontable.dom.stopImmediatePropagation(evt),evt.preventDefault&&evt.preventDefault(),lastRow=hot.countRows()-1,-1<lastRow)&&hot.selectCell(lastRow,lastCol)):9==evt.keyCode&&(selected=hot.getSelected()[0],currentRow=selected[0],currentCol=selected[1],firstCol=$grid.getFirstShowColIndex(elID),lastCol=$grid.getLastShowColIndex(elID),lastRow=hot.countRows()-1,currentRow<lastRow&&currentCol==lastCol?(Handsontable.dom.stopImmediatePropagation(evt),evt.preventDefault&&evt.preventDefault(),hot.selectCell(currentRow+1,firstCol)):currentRow==lastRow&&currentCol==lastCol&&(Handsontable.dom.stopImmediatePropagation(evt),evt.preventDefault&&evt.preventDefault(),1==setting.autoInsertRow?($grid.insertRow(elID,{amount:1},function(e){hot.selectCell(e,firstCol)}),Handsontable.dom.stopImmediatePropagation(evt),evt.preventDefault&&evt.preventDefault()):hot.selectCell(0,firstCol)))}else if("afterChange"==hook||"afterCreateRow"==hook||"afterRemoveRow"==hook||"hiddenRow"==hook){if("afterChange"==hook&&"loadData"==arguments[1])return;if("afterChange"==hook&&"edit"==arguments[1]&&"Flag"==arguments[0][0][1])return;if("afterCreateRow"==hook)var method_index=arguments[0],method_amount=arguments[1],method_source=arguments[2],rowIndex=method_index;else if("afterChange"==hook){var method_changes=arguments[0],method_source=arguments[1];if(1==$object.isNullOrUndefined(method_changes))return;rowIndex=method_changes[0][0];var columnName=method_changes[0][1],changeValue=method_changes[0][3],columnInfos=hot.getSettings().columns,columnInfo=columnInfos.filter(function(e){return e.data==columnName})[0],oldValue;if("dropdown"==columnInfo.type){var dataSource=columnInfo.dataSource;if(dataSource)if(0==columnInfo.required&&""==changeValue)method_changes[0][4]="",hot.setDataAtCell(rowIndex,hot.propToCol(columnInfo.codeColumnID),"");else for(var j=0;j<dataSource.DataSource.length;j++){var item=dataSource.DataSource[j];if(item[dataSource.ValueColumnID]==changeValue){var code=item[dataSource.CodeColumnID];method_changes[0][4]=code,hot.setDataAtCell(rowIndex,hot.propToCol(columnInfo.codeColumnID),code);break}}}else{"codehelp"==columnInfo.type&&(oldValue=method_changes[0][2],""==changeValue?(method_changes[0][4]="",hot.setDataAtCell(rowIndex,hot.propToCol(columnInfo.codeColumnID),"")):oldValue!=changeValue&&hot.setDataAtCell(rowIndex,hot.propToCol(columnInfo.codeColumnID),""))}}else{"afterRemoveRow"==hook?(method_index=arguments[0],method_amount=arguments[1],rowIndex=method_index):"hiddenRow"==hook&&(method_rows=arguments[0],rowIndex=method_rows[0])}if(!rowIndex&&0!=rowIndex)return;var physicalRowIndex=hot.toPhysicalRow(rowIndex),rowData=hot.getSourceDataAtRow(physicalRowIndex),rowFlag=rowData&&rowData.Flag?rowData.Flag:"C",cellRowFlag;"afterCreateRow"==hook?rowFlag="C":"afterChange"==hook?"R"==rowFlag&&method_changes[0][2]!=method_changes[0][3]&&(rowFlag="U"):"hiddenRow"!=hook||"R"!=rowFlag&&"U"!=rowFlag||(rowFlag="D"),"afterRemoveRow"!=hook&&(cellRowFlag=hot.getDataAtCell(rowIndex,0),cellRowFlag!=rowFlag)&&hot.setDataAtCell(rowIndex,0,rowFlag)}else{"beforeOnCellMouseDown"==hook&&(event=arguments[0],coords=arguments[1],td=arguments[2],-1===coords.row&&"INPUT"===event.target.nodeName&&(event.stopImmediatePropagation(),this.deselectCell()),-1==coords.row&&(gridValue=$grid.getGridValue(elID),gridValue.colHeaderClick=!0,gridValue.previousRow=coords.row,gridValue.previousCol=coords.col),now=(new Date).getTime(),td.lastClick&&now-td.lastClick<200?hook="afterOnCellDoubleClick":td.lastClick=now)}if(mod){var el=syn.$l.get(elID),elHidden=syn.$l.get(elID+"_hidden"),gridHookEvents=elHidden.getAttribute("syn-events"),eventHandler;try{gridHookEvents=gridHookEvents&&eval(gridHookEvents)}catch(error){syn.$l.eventLog("WebGrid_gridHookEvents",error.toString(),"Debug")}gridHookEvents&&-1<gridHookEvents.indexOf(hook)&&1!=gridValue.passSelectCellEvent&&mod&&(eventHandler=mod.event?mod.event["{0}_{1}".format(elID,hook)]:null,eventHandler)&&eventHandler.apply(el,arguments)}"afterOnCellDoubleClick"==hook&&(hook="beforeOnCellMouseDown"),"afterSelectionEnd"==hook&&(gridValue=$grid.getGridValue(elID),gridValue.colHeaderClick=!1,gridValue.previousRow=arguments[0],gridValue.previousCol=arguments[1],mod)&&(mod.prop.focusControl=syn.$l.get(elID))}else gridValue.eventName}}});var controlSetting=$object.clone(setting),wtHolder=($grid.gridControls.push({id:elID,hot:new Handsontable(el,controlSetting),setting:controlSetting,value:{eventName:"",colHeaderClick:!1,applyCells:!1,previousRow:-1,previousCol:-1}}),syn.$l.get(elID).querySelector(".wtHolder"));if(wtHolder.gridID=elID,Handsontable.dom.addEvent(wtHolder,"click",function(e){var t=window[syn.$w.pageScript];t&&(t.prop.focusControl=syn.$l.get(wtHolder.gridID))}),0<$grid.gridCodeDatas.length)for(var length=$grid.gridCodeDatas.length,i=0;i<length;i++){syn.$w.addReadyCount();var codeData=$grid.gridCodeDatas[i];$grid.dataRefresh(codeData.elID,codeData.type)}setting.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(elID,setting.bindingID),1==$object.isNullOrUndefined($grid.remainingReadyIntervalID)&&($grid.remainingReadyIntervalID=setInterval(function(){if(1==syn.$w.isPageLoad){clearInterval($grid.remainingReadyIntervalID),$grid.remainingReadyIntervalID=null;for(var e=0,t=$grid.gridControls.length;e<t;e++)$grid.gridControls[e].hot.render()}},25))},dataRefresh(c,t,n){var r,e,g,p,o,m,l,i;(t=syn.$w.argumentsExtend({columnName:null,codeColumnID:null,required:!0,local:!0,dataSourceID:null,storeSourceID:null,dataSource:null,parameters:null,selectedValue:null},t)).elID=c,t.storeSourceID=t.storeSourceID||t.dataSourceID,t.columnName&&t.storeSourceID&&((r=window[syn.$w.pageScript]).config&&r.config.dataSource&&r.config.dataSource[t.storeSourceID]&&delete r.config.dataSource[t.storeSourceID],r&&r.hook.controlInit&&(e=r.hook.controlInit(c,t),t=syn.$w.argumentsExtend(t,e)),e=null,r.config&&r.config.dataSource&&r.config.dataSource[t.dataSourceID]&&(e=r.config.dataSource[t.storeSourceID]),g=$grid.getGridControl(c),o=(p=g.getSettings()).columns,m=g.propToCol(t.columnName),"dropdown"==(l=o[m]).type)&&(i=function(e,t,n){e.dataSource=t,e.storeSourceID=n.storeSourceID,e.local=n.local,e.required=n.required,e.codeColumnID=n.codeColumnID||e.codeColumnID;var r=[];0==e.required&&r.push("");for(var o=0;o<t.DataSource.length;o++){var l=t.DataSource[o];r.push(l[t.ValueColumnID])}if(e.source=r,e.visibleRows=10,e.trimDropdown=!0,e.trimWhitespace=!0,e.wordWrap=!1,e.allowInvalid=!1,$grid.updateSettings(n.elID,p),n.selectedValue){var i=$grid.getActiveRowIndex(c);if(-1<i){for(var a=g.propToCol(e.codeColumnID),s="",d=e.dataSource.DataSource.length,u=0;u<d;u++)if((l=e.dataSource.DataSource[u]).CodeID==n.selectedValue){s=l.CodeValue;break}a=[[i,a,n.selectedValue],[i,m,s]];g.setDataAtCell(a)}}},e?(i(l,e,t),n&&n(),syn.$w.removeReadyCount()):1==t.local?syn.$w.loadJson(syn.Config.SharedAssetUrl+"code/{0}.json".format(t.storeSourceID),t,function(e,t){t&&(r.config.dataSource[e.storeSourceID]=t,i(l,t,e),n)&&n(),syn.$w.removeReadyCount()},!1):syn.$w.getDataSource(t.dataSourceID,t.parameters,function(e){e&&(r.config.dataSource[t.storeSourceID]=e,i(l,e,t),n)&&n(),syn.$w.removeReadyCount()}))},getInitializeColumns(e,t){for(var n=e.columns,r={colHeaders:[],columns:[],colWidths:[],hiddenColumns:{columns:[0],indicators:!1}},o=n.length,l=0;l<o;l++){var i,a,s=n[l],d={data:s[0],type:"text",filter:!0,isHidden:s[3],readOnly:1==$string.toBoolean(e.readOnly)||s[5],className:1==$object.isNullOrUndefined(s[6])?"":"ht"+$string.capitalize(s[6]),belongID:1==$object.isNullOrUndefined(s[7])?"":s[7],validators:null},u=(8<s.length&&s[8]&&(d.validators=s[8],-1<d.validators.indexOf("require"))&&(d.className=d.className+" required"),9<s.length&&s[9]&&(c=s[9],0==$string.isNullOrEmpty(c.placeholder)&&(d.placeholder=c.placeholder),1!=c.sorting&&(d.columnSorting={indicator:!1,headerAction:!1,compareFunctionFactorycompareFunctionFactory(){return function(){return 0}}}),"checkbox"!=d.type&&"checkbox2"!=d.type||1!=c.isRadioTheme||(d.className=d.className+" required"),d.columnOptions=c),10!=s.length&&0==e.columnSorting&&(d.columnSorting={indicator:!1,headerAction:!1,compareFunctionFactorycompareFunctionFactory(){return function(){return 0}}}),null),c=s[4];if(1==$object.isString(c)?(d.type=c,"dropdown"==d.type||"codehelp"==d.type?syn.$l.eventLog("getInitializeColumns",'"{0}" 컬럼 타입은 객체로 선언 필요'.format(c),"Warning"):"checkbox"==d.type||"checkbox2"==d.type?(d.isSelectAll=!1,d.checkedTemplate="1",d.uncheckedTemplate="0",d.allowInvalid=!1):"numeric"!=d.type&&"date"!=d.type&&"time"!=d.type&&"autocomplete"!=d.type||(d.allowInvalid=!1,"numeric"==d.type?c.numericFormat?d.numericFormat=c.numericFormat:0!=c.numericFormat&&(d.numericFormat={pattern:"0,00",culture:"ko-KR"}):"date"==d.type?(d.dateFormat=c.timeFormat,d.correctFormat=c.correctFormat,d.defaultDate=c.defaultDate,d.datePickerConfig=c.datePickerConfig):"time"==d.type&&(d.timeFormat=c.timeFormat,d.correctFormat=c.correctFormat))):(d.type=c.columnType,"dropdown"==d.type||"codehelp"==d.type?(i=c.storeSourceID||c.dataSourceID)&&(a=window[syn.$w.pageScript]).config&&a.config.dataSource&&a.config.dataSource[i]&&(u=a.config.dataSource[i]):"checkbox"==d.type||"checkbox2"==d.type?(d.isSelectAll=0==$object.isNullOrUndefined(c.isSelectAll)&&!0===c.isSelectAll,d.checkedTemplate=0==$object.isNullOrUndefined(c.checkedTemplate)?c.checkedTemplate:"1",d.uncheckedTemplate=0==$object.isNullOrUndefined(c.uncheckedTemplate)?c.uncheckedTemplate:"1",d.allowInvalid=0==$object.isNullOrUndefined(c.allowInvalid)&&!0===c.allowInvalid):"numeric"!=d.type&&"date"!=d.type&&"time"!=d.type&&"autocomplete"!=d.type||(d.allowInvalid=!1,"numeric"==d.type?c.numericFormat?d.numericFormat=c.numericFormat:0!=c.numericFormat&&(d.numericFormat={pattern:"0,00",culture:"ko-KR"}):"date"==d.type?(d.dateFormat=c.timeFormat,d.correctFormat=c.correctFormat,d.defaultDate=c.defaultDate,d.datePickerConfig=c.datePickerConfig):"time"==d.type&&(d.timeFormat=c.timeFormat,d.correctFormat=c.correctFormat))),"dropdown"==d.type){var g=[];if(u)for(var p=0;p<u.DataSource.length;p++){var m=u.DataSource[p];g.push(m[u.ValueColumnID])}else t&&(c.columnName=s[0],!0===c.local?$grid.dataRefresh(t,c):$grid.gridCodeDatas.push({elID:t,type:c}));d.dataSource=u,d.dataSourceID=c.dataSourceID,d.storeSourceID=c.storeSourceID||c.dataSourceID,d.local=!0===c.local,d.codeBelongID=c.codeBelongID,d.codeColumnID=c.codeColumnID,d.codeColumnType=c.codeColumnType||"text",d.codeColumnHidden=null==c.codeColumnHidden||c.codeColumnHidden,d.source=g,d.strict=!0,d.visibleRows=1==$object.isNullOrUndefined(g)?0:g.length+1,d.trimDropdown=!0,d.trimWhitespace=!0,d.wordWrap=!1,d.allowInvalid=!1}else"codehelp"==d.type?(d.dataSource=u,d.dataSourceID=c.dataSourceID,d.storeSourceID=c.storeSourceID||c.dataSourceID,d.local=c.local,d.controlText=c.controlText,d.codeColumnID=c.codeColumnID||s[0],d.textColumnID=c.textColumnID||s[0],d.parameters=c.parameters||""):"date"==d.type&&(d.dateFormat=c.dateFormat||"YYYY-MM-DD",d.correctFormat=!0,d.datePickerConfig={format:d.dateFormat,ariaLabel:"날짜를 선택하세요",i18n:{previousMonth:"이전 달",nextMonth:"다음 달",months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],weekdays:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekdaysShort:["일","월","화","수","목","금","토"]},showWeekNumber:!1,showMonthAfterYear:!0,yearSuffix:"년",firstDay:0,numberOfMonths:1});"dropdown"==d.type&&(a={data:d.codeColumnID,type:d.codeColumnType,filter:!0,readOnly:!0,className:"htLeft",belongID:d.codeBelongID||$object.clone(s[7])},1==d.codeColumnHidden?(r.colHeaders.push(s[1]+"_$HIDDEN"),d.columnText=s[1]+"_$HIDDEN"):(r.colHeaders.push(s[1]+"_코드"),d.columnText=s[1]+"_코드"),r.columns.push(a),r.colWidths.push(s[2])),r.colHeaders.push(s[1]),d.columnText=s[1],r.columns.push(d),r.colWidths.push(s[2])}for(var y=r.colHeaders.length,l=0;l<y;l++)-1<r.colHeaders[l].indexOf("_$HIDDEN")&&r.hiddenColumns.columns.push(l+1);for(l=0;l<y;l++)1==(d=r.columns[l]).isHidden&&r.hiddenColumns.columns.push(l+1);return r},merge(e,t,n,r,o){var e=$grid.getGridControl(e);e&&(0==(e=e.getPlugin("mergeCells")).isEnabled()&&e.enablePlugin(),e.merge(t,n,r,o))},unmerge(e,t,n,r,o){var e=$grid.getGridControl(e);e&&(0==(e=e.getPlugin("mergeCells")).isEnabled()&&e.enablePlugin(),e.unmerge(t,n,r,o))},addCondition(e,t,n,r){var o,e=$grid.getGridControl(e);e&&(0==(o=e.getPlugin("filters")).isEnabled()&&o.enablePlugin(),1==$object.isString(t)&&(t=e.propToCol(t)),1==$object.isString(r)&&(r=[r]),o.addCondition(t,n,r),o.filter())},removeCondition(e,t){var n,e=$grid.getGridControl(e);e&&(0==(n=e.getPlugin("filters")).isEnabled()&&n.enablePlugin(),1==$object.isString(t)&&(t=e.propToCol(t)),n.removeConditions(t),n.filter())},clearConditions(e){var e=$grid.getGridControl(e);e&&(0==(e=e.getPlugin("filters")).isEnabled()&&e.enablePlugin(),e.clearConditions(),e.filter())},countRows(e,t){var n,r=0,e=$grid.getGridControl(e);return e&&(!(n=0)===t&&(0==(t=e.getPlugin("hiddenRows")).isEnabled()&&t.enablePlugin(),n=t?t.getHiddenRows().length:0),r=e.countSourceRows()-n),r},countRenderedRows(e){var t=-1,e=$grid.getGridControl(e);return t=e?e.countRenderedRows():t},countRenderedCols(e){var t=-1,e=$grid.getGridControl(e);return t=e?e.countRenderedCols():t},render(e){e=$grid.getGridControl(e);e&&e.render()},insertRow(e,t,n){var r=$grid.getGridControl(e),o=(t=syn.$w.argumentsExtend({index:r.countRows(),amount:1},t),r.alter("insert_row_below",t.index,t.amount),r.render(),r.suspendRender(),$grid.getGridValue(e)),l=(o.eventName="insertRow",t&&t.index?t.index:0),i=t&&t.amount?t.amount:1,a=r.getSettings();if(a){for(var s=[],d=a.columns,u=d.length,c=0;c<u;c++){var g=d[c];if(0<=c&&("checkbox"==g.type||"checkbox2"==g.type)){var p=!1;if(null==g.uncheckedTemplate&&null==g.uncheckedTemplate||(p=g.uncheckedTemplate),1==i)s.push([l,c,p]);else if(1<i)for(var m=0;m<i;m++){var y=l+m;s.push([y,c,p])}}}0<s.length&&r.setDataAtCell(s)}var f=syn.$w.getTriggerOptions(e);if(f){if(f.sourceValueID&&f.targetColumnID){a=window[syn.$w.pageScript];if(a){var $=a.context.synControls;if($&&0<$.length)if(1==$object.isString(f.sourceValueID)&&1==$object.isString(f.targetColumnID)){var h=(k=f.sourceValueID.split("@"))[0],v=k[1],b=$.filter(function(e){return e.field==h});if(1==b.length)if("grid"==(E=b[0]).type){var D=r.propToCol(f.targetColumnID),I=E.id,C=$grid.getActiveRowIndex(I),w=$grid.propToCol(I,v),x=$grid.getDataAtCell(I,C,w);if(1==i)r.setDataAtCell(l,D,x);else if(1<i)for(m=0;m<i;m++){y=l+m;r.setDataAtCell(y,D,x)}}else{var c=r.propToCol(f.targetColumnID),S=syn.$l.querySelector('[syn-datafield="{0}"] #{1}'.format(h,v));if(0==$object.isNullOrUndefined(S))if(1==i)r.setDataAtCell(l,c,S.value);else if(1<i)for(m=0;m<i;m++){y=l+m;r.setDataAtCell(y,c,S.value)}}else syn.$l.eventLog("insertRow","{0} 컬럼 ID 중복 또는 존재여부 확인 필요".format(h),"Debug")}else if(1==$object.isArray(f.sourceValueID)&&1==$object.isArray(f.targetColumnID))for(u=f.sourceValueID.length,m=0;m<u;m++){var k,E,h=(k=f.sourceValueID[m].split("@"))[0],v=k[1],b=$.filter(function(e){return e.field==h});if(1==b.length)if("grid"==(E=b[0]).type){D=r.propToCol(f.targetColumnID[m]),I=E.id,C=$grid.getActiveRowIndex(I),w=$grid.propToCol(I,v),x=$grid.getDataAtCell(I,C,w);if(1==i)r.setDataAtCell(l,D,x);else if(1<i)for(m=0;m<i;m++){y=l+m;r.setDataAtCell(y,D,x)}}else{var c=r.propToCol(f.targetColumnID[m]),S=syn.$l.querySelector('[syn-datafield="{0}"] #{1}'.format(h,v));if(0==$object.isNullOrUndefined(S))if(1==i)r.setDataAtCell(l,c,S.value);else if(1<i)for(m=0;m<i;m++){y=l+m;r.setDataAtCell(y,c,S.value)}}else syn.$l.eventLog("insertRow","{0} 컬럼 ID 중복 또는 존재여부 확인 필요".format(h),"Debug")}}}f.focusColumnID&&(c=r.propToCol(f.focusColumnID),r.selectCell(l+(i-1),c))}else{var N=[];if(1==i)for(var T in t.values){c=$grid.propToCol(e,T);1==$object.isNumber(c)&&N.push([l,c,t.values[T]])}else if(1<i)for(m=0;m<i;m++){y=l+m;for(T in t.values){c=$grid.propToCol(e,T);1==$object.isNumber(c)&&N.push([y,c,t.values[T]])}}$grid.setDataAtRow(e,N)}r.resumeRender(),n&&n(l,i),t.focusColumnID&&(c=r.propToCol(t.focusColumnID),r.selectCell(l+(i-1),c)),o.eventName=""},removeRow(e,t,n,r){var o=$grid.getGridControl(e);if(o&&(o.suspendRender(),1==$object.isNullOrUndefined(n)&&((i=o.getSelected())?n=i[0][0]:(n=$grid.getActiveRowIndex(e))&&-1<n&&((l=$grid.getGridValue(e)).colHeaderClick=!1,l.previousRow=-1,l.previousCol=-1)),1==$object.isNullOrUndefined(n)&&(n=$grid.countRows(e,!0)-1),1!=$grid.isRowHidden(e,n))){if(-1<n){(l=$grid.getGridValue(e)).eventName="removeRow";var l,i=o.toPhysicalRow(n),i=o.getSourceDataAtRow(i),i=i&&i.Flag?i.Flag:"C";if("D"==i){o.setDataAtCell(n,0,i="U");for(var a=0;a<o.countCols();a++){var s=(s=o.getCellMeta(n,a).className).replace(" removeRow","");o.setCellMeta(n,a,"className",s)}}else if("C"!=(i="R"!=i&&"U"!=i?i:"D")&&"S"!=i&&o.setDataAtCell(n,0,i),"C"==i){o.alter("remove_row",n);var d=o.countSourceRows(),u=syn.$w.getTriggerOptions(e);u&&u.focusColumnID&&(u=o.propToCol(u.focusColumnID),0<n&&d<=n?o.selectCell(n=d-1,u):o.selectCell(n-1,u))}else if("S"!=i)if(!0===o.getSettings().isRemoveRowHidden)$grid.visibleRows(e,n,!1);else for(a=0;a<o.countCols();a++)o.setCellMeta(n,a,"className",o.getCellMeta(n,a).className+" removeRow");r?r(n):(1==$string.isNullOrEmpty(t)&&(t=1),0<=n-1&&$grid.selectCell(e,n-1,t)),l.eventName=""}o.resumeRender()}},loadData(e,t,n){var r=$grid.getGridControl(e);if(r){for(var o=$grid.getGridValue(e),l=(o.applyCells=!1,r.deselectCell(),$grid.clearConditions(e),$grid.unHiddenRows(e),syn.$l.querySelectorAll("div.handsontable > div table input[type=checkbox][columnSelectAll]")),i=0;i<l.length;i++)l[i].checked=!1;for(var a=t.length,i=0;i<a;i++)t[i].Flag="R";r.loadData(t);for(var s=r.getSettings(),i=0;i<s.columns.length;i++){var d=s.columns[i];d.toogleChecked&&(d.toogleChecked=0)}o.colHeaderClick=!1,o.previousRow=-1,o.previousCol=-1,0!=s.columnSorting&&(0==(e=r.getPlugin("columnSorting")).isEnabled()&&e.enablePlugin(),1==e.isSorted())&&e.sort(e.sortColumn,e.sortOrder),o.applyCells=!0}n&&n()},getFirstShowColIndex(e){var t=0,e=$grid.getGridControl(e);if(e){var n=e.getSettings();if(n.firstShowColIndex)t=n.firstShowColIndex;else{for(var r=e.countCols()-1,o=[],l=0;l<=r;l++)o.push(l);if(n.hiddenColumns&&n.hiddenColumns.columns&&0<n.hiddenColumns.columns.length){for(var i=n.hiddenColumns.columns.length,l=0;l<i;l++)for(var a=n.hiddenColumns.columns[l],s=o.length-1;-1<s;s--)if(a==o[s]){$array.removeAt(o,s);break}t=o[0]}}}return t},getLastShowColIndex(e){var t=0,e=$grid.getGridControl(e);if(e){var n=e.getSettings();if(n.lastShowColIndex)t=n.lastShowColIndex;else{for(var t=e.countCols()-1,r=[],o=0;o<=t;o++)r.push(o);if(n.hiddenColumns&&n.hiddenColumns.columns&&0<n.hiddenColumns.columns.length){for(var l=n.hiddenColumns.columns.length,o=0;o<l;o++)for(var i=n.hiddenColumns.columns[o],a=r.length-1;-1<a;a--)if(i==r[a]){$array.removeAt(r,o);break}t=r[r.length-1]}}}return t},updateSettings(e,t,n){var r=$grid.getGridControl(e);r&&(n&&1==n&&$grid.clear(e),r.updateSettings(t),r.render())},getSettings(e){var t=null,e=$grid.getGridControl(e);return t=e?e.getSettings():t},isUpdateData(e){var t=!1,n=$grid.getSettings(e);if(n&&n.data&&0<n.data.length)for(var r=n.data.length,o=0;o<r;o++){var l=n.data[o].Flag;if(1!=$string.isNullOrEmpty(l)&&"R"!=l&&"S"!=l){t=!0;break}}return t},getFlag(e,t){e=$grid.getGridControl(e);if(e)return e.getDataAtCell(t,"Flag")},setFlag(e,t,n){var r,e=$grid.getGridControl(e);e&&(r=e.propToCol("Flag"),"S"!=e.getDataAtCell(t,r))&&e.setDataAtCell(t,r,n)},getDataAtCell(e,t,n){e=$grid.getGridControl(e);if(e)return e.getDataAtCell(t,n)},scrollViewportTo(e,t,n,r,o){var l=null,e=$grid.getGridControl(e);return l=e?e.scrollViewportTo(t,n,r,o):l},isEmptyRow(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.isEmptyRow(t):n},isEmptyCol(e,t){var n=null,e=$grid.getGridControl(e);return e&&(1==$object.isString(t)&&(t=e.propToCol(t)),n=e.isEmptyCol(t)),n},getDataAtRow(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.getDataAtRow(t):n},getSourceDataAtRow(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.getSourceDataAtRow(t):n},getDataAtCol(e,t){var n=null,e=$grid.getGridControl(e);return e&&(1==$object.isString(t)&&(t=e.propToCol(t)),n=e.getDataAtCol(t)),n},getSourceDataAtCol(e,t){var n=null,e=$grid.getGridControl(e);return e&&(1==$object.isString(t)&&(t=e.propToCol(t)),n=e.getSourceDataAtCol(t)),n},getRowHeader(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.getRowHeader(t):n},setDataAtCell(e,t,n,r,o){e=$grid.getGridControl(e);e&&(1==$object.isString(n)&&(n=e.propToCol(n)),e.setDataAtCell(t,n,r,o))},setDataAtRow(e,t){e=$grid.getGridControl(e);e&&e.setDataAtCell(t)},isCellClassName(e,t,n,r){var o=!1,e=$grid.getGridControl(e);return e&&(1==$object.isString(n)&&(n=e.propToCol(n)),o=null!=(e=e.getCellMeta(t,n).className)&&-1<e.indexOf(r)),o},setCellClassName(e,t,n,r,o){if(1==$object.isNullOrUndefined(r))syn.$l.eventLog("$grid.setCellClassName","className 확인 필요","Warning");else{var l=$grid.getGridControl(e);if(l){1==$object.isString(n)&&(n=l.propToCol(n)),1==$object.isNullOrUndefined(o)&&(o=!1);var i=function(e,t,n,r){var o=l.getCellMeta(e,t).className;o?!0===r?-1==o.indexOf(n)&&l.setCellMeta(e,t,"className",l.getCellMeta(e,t).className+" "+n):-1<o.indexOf(n)&&(o=o.replace(" "+n,""),l.setCellMeta(e,t,"className",o)):l.setCellMeta(e,t,"className",n)};if(-1==t&&-1==n)for(var a=l.countRows(),s=l.countCols(),d=0;d<a;d++)for(var u=0;u<s;u++)i(d,u,r,o);else if(-1==t&&-1<n)for(a=l.countRows(),d=0;d<a;d++)i(d,n,r,o);else if(-1<t&&-1==n)for(s=l.countCols(),d=0;d<s;d++)i(t,d,r,o);else i(t,n,r,o);l.render()}}},setCellMeta(e,t,n,r,o){e=$grid.getGridControl(e);e&&(1==$object.isString(n)&&(n=e.propToCol(n)),e.setCellMeta(t,n,r,o))},setDataAtRowProp(e,t,n,r,o){e=$grid.getGridControl(e);e&&(1==$object.isString(n)&&(n=e.propToCol(n)),e.setDataAtRowProp(t,n,r,o))},getCellMeta(e,t,n){var r=null,e=$grid.getGridControl(e);return e&&(1==$object.isString(n)&&(n=e.propToCol(n)),r=e.getCellMeta(t,n)),r},getCellMetaAtRow(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.getCellMetaAtRow(t):n},getUpdateData(e,t,n){var r=[],o=$grid.getGridControl(e);if(n){if("Row"==t){if(null!=(u=o.toPhysicalRow($grid.getActiveRowIndex(e)))&&-1<u){var l=(c=o.getSourceDataAtRow(u)).Flag||"C";o.getCellMetaAtRow(u);if(l&&"S"!=l){for(p in c=$object.clone(c),(g={}).Flag=l,n){var i=n[p],a=c[p];g[i.fieldID]=a,g[i.fieldID]=void 0===a?"number"==i.dataType?null:$object.defaultValue(i.dataType):a}r.push(g)}}}else if("List"==t)for(var s=o.countSourceRows(),d=0;d<s;d++){var u=o.toPhysicalRow(d);if(null!=u){var c,g,p,l=(c=o.getSourceDataAtRow(u)).Flag||"C";o.getCellMetaAtRow(u);if(l&&"S"!=l&&"R"!=l){for(p in c=$object.clone(c),(g={}).Flag=l,n){i=n[p],a=c[p];g[i.fieldID]=a,g[i.fieldID]=void 0===a?"number"==i.dataType?null:$object.defaultValue(i.dataType):a}r.push(g)}}}}else syn.$l.eventLog("getUpdateData","Input Mapping 설정 없음","Debug");return r},validateColumns(e,t,n){var r=!1,e=$grid.getGridControl(e);return r=e?e.validateColumns(t,n):r},validateRows(e,t,n){var r=!1,e=$grid.getGridControl(e);return r=e?e.validateRows(t,n):r},getPhysicalRowIndex(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.toPhysicalRow(t):n},getPhysicalColIndex(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.toPhysicalColumn(t):n},getLogicalRowIndex(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.toVisualRow(t):n},getLogicalColIndex(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.toVisualColumn(t):n},unHiddenColumns(e){var t=$grid.getGridControl(e);if(t){for(var n=t.getPlugin("hiddenColumns"),r=(0==n.isEnabled()&&n.enablePlugin(),t.countCols()),o=[],l=0;l<r;l++)"Flag"!=t.colToProp(l)&&1==n.isHidden(l)&&o.push(l);$grid.visibleColumns(e,o,!0)}},isColumnHidden(e,t,n){var r=!1,e=$grid.getGridControl(e);return e&&(0==(e=e.getPlugin("hiddenColumns")).isEnabled()&&e.enablePlugin(),r=e.isHidden(t,n)),r},visibleColumns(e,t,n){e=$grid.getGridControl(e);if(e){var r=e.getPlugin("hiddenColumns");0==r.isEnabled()&&r.enablePlugin();var o=e.getSettings().columns;if(1==n)if(1==$object.isNumber(t))o[t].isHidden=!1,r.showColumn(t);else{for(var l=0;l<t.length;l++)o[t[l]].isHidden=!1;r.showColumns(t)}else if(1==$object.isNumber(t))o[t].isHidden=!0,r.hideColumn(t);else{for(l=0;l<t.length;l++)o[t[l]].isHidden=!0;r.hideColumns(t)}e.render()}},unHiddenRows(e){var t=$grid.getGridControl(e);if(t){for(var n=t.getPlugin("hiddenRows"),r=(0==n.isEnabled()&&n.enablePlugin(),t.countRows()),o=[],l=0;l<r;l++)1==n.isHidden(l)&&o.push(l);$grid.visibleRows(e,o,!0)}},isRowHidden(e,t,n){var r=!1,e=$grid.getGridControl(e);return e&&(0==(e=e.getPlugin("hiddenRows")).isEnabled()&&e.enablePlugin(),r=e.isHidden(t,n)),r},visibleRows(e,t,n){var r,e=$grid.getGridControl(e);e&&(0==(r=e.getPlugin("hiddenRows")).isEnabled()&&r.enablePlugin(),1==n?1==$object.isNumber(t)?r.showRow(t):r.showRows(t):1==$object.isNumber(t)?r.hideRow(t):r.hideRows(t),e.render())},propToCol(e,t){var n=-1,e=$grid.getGridControl(e);return n=e?e.propToCol(t):n},getColHeader(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.getColHeader(t):n},colToProp(e,t){var n=null,e=$grid.getGridControl(e);return n=e?e.colToProp(t):n},countCols(e){var t=null,e=$grid.getGridControl(e);return t=e?e.countCols():t},getSelected(e){var t=null,e=$grid.getGridControl(e);return t=e?e.getSelected():t},getActiveRowIndex(e){var t,n=-1,r=$grid.getGridControl(e);return n=r?(t=r.getSelected())&&0<t.length?r.getSelected()[0][0]:$grid.getGridValue(e).previousRow:n},getActiveColIndex(e){var t,n=-1,r=$grid.getGridControl(e);return n=r?(t=r.getSelected())&&0<t.length?r.getSelected()[0][1]:$grid.getGridValue(e).previousCol:n},selectCell(e,t,n,r,o,l,i){var a,s,e=$grid.getGridControl(e);e&&(-1===t&&((a=0)==(s=e.getPlugin("hiddenRows")).isEnabled()&&s.enablePlugin(),a=s?s.hiddenRows.length:0,t=e.countSourceRows()-a-1),e.selectCell(t,n,r,o,l,i))},getExportPlugin(e,t){var n=null,e=$grid.getGridControl(e);return e&&0==(n=e.getPlugin("exportFile")).isEnabled()&&n.enablePlugin(),n},exportAsString(e,t){var n=null,r=$grid.getExportPlugin(e,t);if(r){1==$object.isNullOrUndefined(t)&&(t={});for(var o=$grid.getGridControl(e),l=((t=syn.$w.argumentsExtend({exportHiddenRows:!1,exportHiddenColumns:!1,rowHeaders:!1,bom:!1,columnDelimiter:",",range:t.range||[0,1,o.countRows(),o.countCols()-1],filename:"{0}_{1}_{2}".format(syn.$w.pageScript,e,$date.toTicks(new Date))},t)).columnHeaders=!1,o.getSettings().columns),i=[],e=t.range?t.range[1]:1,a=t.range?t.range[3]:o.countCols()-1,s=e;s<=a;s++)i.push(l[s]);o=i.filter(function(e){return 1==t.exportHiddenColumns||0==e.isHidden}).map(function(e){return e.columnText}),e=r.exportAsString("csv",t),n=o.join(",")+"\r\n"+e}return n},exportFile(e,t){var n=$grid.getExportPlugin(e,t);if(n)if(1==$object.isNullOrUndefined(t)&&(t={}),"excel"==(t=syn.$w.argumentsExtend({fileType:"excel",exportHiddenRows:!1,exportHiddenColumns:!1,columnHeaders:!0,rowHeaders:!1,bom:!1,columnDelimiter:","},t)).fileType){for(var r,o=(r=$grid.getGridControl(e)).getSettings(),l=o.columns,i=[],a=t.range?t.range[1]:1,s=t.range?t.range[3]:r.countCols()-1,d=a;d<=s;d++)i.push(l[d]);for(var u=i.filter(function(e){return 1==t.exportHiddenColumns||0==e.isHidden}).map(function(e,t){return{index:r.propToCol(e.data),type:e.type}}),a=o.exportColumns.map(function(e,t){return{index:r.propToCol(e.columnID),type:e.type}}),c=(u=$object.extend(u,a)).length,g=o.colWidths,p=[],d=0;d<c;d++){var m=u[d].index;p.push({wpx:g[m]})}for(var a=$grid.exportAsString(e,t),y=Papa.parse(a).data,f=y.length,$=document.createElement("DIV"),d=0;d<c;d++)if("numeric"==u[d].type)for(var h=1;h<f;h++)y[h][d]=$string.toParseType(y[h][d],"number");else if(-1<u[d].type.indexOf("html"))for(h=1;h<f;h++)$.innerHTML=y[h][d],y[h][d]=$.textContent||$.innerText||"";$=null,o=XLSX.utils.book_new(),a=XLSX.utils.aoa_to_sheet(y),a=(a["!cols"]=p,XLSX.utils.book_append_sheet(o,a,"Sheet1"),XLSX.write(o,{bookType:"xlsx",type:"binary"}));syn.$l.blobToDownload(new Blob([$l.stringToArrayBuffer(a)],{type:"application/octet-stream"}),t.filename+".xlsx")}else"csv"==t.fileType&&(r=$grid.getGridControl(e),t=syn.$w.argumentsExtend({range:t.range||[0,1,r.countRows(),r.countCols()],filename:"{0}_{1}_{2}".format(syn.$w.pageScript,e,$date.toTicks(new Date))},t),n.downloadFile("csv",t))},importFile(e,t){$grid.getGridControl(e)&&((e=syn.$l.get("{0}_ImportFile".format(e))).callback=t,e.click())},importFileLoad(e){var T=e.srcElement||e.target,A=T.id.split("_")[0],_=$grid.getSettings(A),e=[".csv",".xls",".xlsx"],O=T.files[0].name,F=O.substring(-1==O.lastIndexOf(".")?O.length:O.lastIndexOf("."));if(F&&e.indexOf(F)<0)return syn.$w.alert("{0} 확장자를 가진 파일만 가능합니다".format(e.toString())),!1;e=new FileReader;e.onload=function(e){T.value="";var e=e.target.result,t=$grid.getGridControl(A);if(".csv"==F){var n=e.split(/\r\n|\n/);if(0==n.length)$grid.clear(A);else if(0<n.length){for(var r=[],o=n[0].split(","),l=[],i=_.columns.map(function(e){return e.data}),a=_.columns.map(function(e){return e.type}),s=0;s<o.length;s++){if(f=(f=(f=o[s]).replace(/^["]/,"")).replace(/["]$/,""),o[s]=f,-1==(D=_.colHeaders.indexOf(f)))return syn.$w.alert("올바른 형식의 파일이 아닙니다.\n파일을 확인해주세요.".format(_.controlText)),!1;var d=t.propToCol(i[D]);l.push({headerIndex:s,columnID:i[D],columnIndex:d,columnType:a[D]})}for(var u=n[1],c=u.split(","),s=0;s<l.length;s++){var g=l[s],p=(f=(f=(f=c[s]).replace(/^["]/,"")).replace(/["]$/,""),!0);switch(g.columnType){case"checkbox":case"checkbox2":p=$string.toBoolean(f);break;case"numeric":null==f&&(f=0),p=1==$object.isNumber(f)||$string.isNumber(f);break;case"date":p=null==f||$object.isDate(f);break;default:null==f&&(f=""),p=$object.isString(f)}if(0==p)return syn.$w.alert("올바른 형식의 파일이 아닙니다.\n파일을 확인해주세요."),!1}for(s=1;s<n.length;s++)if(u=n[s],0==$string.isNullOrEmpty(u)){for(var m={},c=n[s].split(","),y=0;y<l.length;y++){var g=l[y],f=c[y];f=1==$object.isNullOrUndefined(f)?"":(f=f.replace(/^["]/,"")).replace(/["]$/,""),"numeric"==g.columnType&&null!=f&&(f=1==$object.isNumber(f)?f:Number(f)),m[g.columnID]=f}r.push(m)}}}else{for(var i=_.columns.map(function(e){return e.data}),e=XLSX.read(e,{type:"binary"}),$=e.Sheets[e.SheetNames[0]],h=XLSX.utils.decode_range($["!ref"]),v=h.s.c;v<=h.e.c;++v){var b=$[XLSX.utils.encode_cell({c:v,r:0})];if(null==b)break;var D,I=b.v;if(-1==(D=_.colHeaders.indexOf(I)))return syn.$w.alert("올바른 형식의 파일이 아닙니다.\n파일을 확인해주세요.".format(_.controlText)),!1;I=i[D];b.v=I,b.h=I,b.w=I}r=XLSX.utils.sheet_to_json($)}for(var C={},w=0;w<_.columns.length;w++){var x=_.columns[w],S="string";switch(x.type){case"radio":case"checkbox":case"checkbox2":S="bool";break;case"numeric":S="int";break;case"date":S="string"}C[x.data]={fieldID:x.data,dataType:S}}$grid.clear(A),$grid.setValue(A,r,C);for(var k=t.propToCol("Flag"),E=t.countRows(A),N=[],s=0;s<E;s++)N.push([s,k,"C"]);t.setDataAtCell(N),T.callback&&T.callback(O)},".csv"==F?e.readAsText(T.files[0]):e.readAsBinaryString(T.files[0])},getGridControl(e){for(var t=null,n=$grid.gridControls.length,r=0;r<n;r++){var o=$grid.gridControls[r];if(o.id==e){t=o.hot;break}}return t},getGridValue(e){for(var t=null,n=$grid.gridControls.length,r=0;r<n;r++){var o=$grid.gridControls[r];if(o.id==e){t=o.value;break}}return t},getGridSetting(e){for(var t=null,n=$grid.gridControls.length,r=0;r<n;r++){var o=$grid.gridControls[r];if(o.id==e){t=o.setting;break}}return t},getColumnWidths(e){var t=[],n=$grid.getGridControl(e);if(n)for(var r=n.countCols(),o=0;o<r;o++)t.push(n.getColWidth(o));return t},setColumnWidth(e,t,n){var r,e=$grid.getGridControl(e);e&&(0==(r=e.getPlugin("manualColumnResize")).isEnabled()&&r.enablePlugin(),1==$object.isString(t)&&(t=e.propToCol(t)),1==$object.isNumber(n))&&r.setManualSize(t,n)},setControlSize(e,t){var n=syn.$l.get(e);n&&t&&(t.width&&(n.style.width=t.width),t.height&&(n.style.height=t.height),$grid.getGridControl(e).render())},getValue(e,t,n){for(var r=[],o=$grid.getUpdateData(e,t,n),l=o.length,i=0;i<l;i++){var a,s=o[i],d=[];for(a in s){var u={prop:a,val:s[a]};d.push(u)}r.push(d)}return r},setValue(e,t,n){var r="",o=$grid.getGridControl(e);if(o){var l,i=o.getSettings();if(i&&t&&0<t.length){for(l in y=t[0]){var a=!1,s=n[l];if(s){switch(s.dataType.toLowerCase()){case"string":a=null==y[l]||$object.isString(y[l])||$string.isNumber(y[l]);break;case"bool":a=1==$string.isNullOrEmpty(y[l])||$object.isBoolean(y[l]);break;case"number":case"int":a=1==$string.isNullOrEmpty(y[l])||$string.isNumber(y[l])||$object.isNumber(y[l]);break;case"date":a=1==$string.isNullOrEmpty(y[l])||$object.isDate(y[l]);break;default:a=!1}if(0==a){r='바인딩 데이터 타입과 매핑 정의가 다름, 바인딩 ID - "{0}", 타입 - "{1}"'.format(l,s.dataType);break}}}if(""==r){for(var d=i.columns,u=[],c=0;c<d.length;c++)"dropdown"==(g=d[c]).type&&u.push(g);if(0<u.length)for(c=0;c<u.length;c++){var g,p=(g=u[c]).dataSource;if(p)for(var m=0;m<t.length;m++)for(var y,f=t[m][g.codeColumnID],$=0;$<p.DataSource.length;$++)if((y=p.DataSource[$])[p.CodeColumnID]==f){t[m][g.data]=y[p.ValueColumnID];break}}$grid.loadData(e,t),$grid.renderSummary(o)}else syn.$l.eventLog("syn.uicontrols.$grid",r,"Debug")}else $grid.loadData(e,[]),$grid.renderSummary(o)}},renderSummary(e){var t=e.getSettings();t.summarys&&0<t.summarys.length&&(t={index:e.countRows(),amount:1},e.alter("insert_row_below",t.index,t.amount),e.render(),$grid.getGridValue(e.elID).applyCells=!0,$grid.refreshSummary(e.elID))},refreshSummary(e){var t=$grid.getGridControl(e),n=t.getSettings();if(n.summarys&&0<n.summarys.length){for(var r=n.data.length-1,o=[],l=n.summarys.length,i=function(e){return 1==$string.isNullOrEmpty(e)||0==$string.isNumber(e)?0:parseFloat($object.isNumber(e)?e:$string.toNumber(e))},a=0;a<l;a++){var s=0,d=n.summarys[a],u=t.propToCol(d.columnID),c=n.data.map(function(e){return e.Flag&&"S"!=e.Flag&&e[d.columnID]});if(0<c.length){var g=JSON.parse(JSON.stringify(c));switch(d.type){case"min":$array.sort(g,!0);s=i(g[0]);break;case"max":$array.sort(g,!1),s=i(g[0]);break;case"avg":for(var p=0;p<g.length;p++)s+=i(g[p]);s/=g.length;break;case"sum":for(p=0;p<g.length;p++)s+=i(g[p]);break;case"count":s=g.length-1;break;case"custom":var m=window[syn.$w.pageScript];m&&(m=m.event["{0}_customSummary".format(t.elID)])&&(s=m.apply(t,[t.elID,d.columnID,u,g]))}"custom"!=d.type&&(s=1==$object.isNullOrUndefined(d.fixed)?s.toFixed("avg"==d.type?"1":"0"):s.toFixed(d.fixed),s=1==$object.isNullOrUndefined(d.format)||!0===d.format?$string.toCurrency(s):s.toString()),o.push([r,u,s])}}o.push([r,0,"S"]),t.setDataAtCell(o)}},clear(e,t){$grid.loadData(e,[])},checkEditValue(e){return 0<$grid.getDataAtCol(e,"Flag").filter(e=>0==$string.isNullOrEmpty(e)&&"R"!=e).length},checkUniqueValueCol(e,t){var n=$grid.getSourceDataAtCol(e,t);return 0<!n.filter(function(e,t){return n.indexOf(e)!==t}).length},checkValueCountCol(e,t,n){return $grid.getDataAtCol(e,t).filter(e=>e===n).length},checkEmptyValueCol(e,t,n){return 1==$object.isNullOrUndefined(n)?0<$grid.getDataAtCol(e,t).filter(e=>1==$string.isNullOrEmpty(e)).length:0<$grid.getDataAtCol(e,t).filter(e=>1==$string.isNullOrEmpty(e)||e===n).length},checkEmptyValueCols(e,t,n){for(var r=$grid.getSettings(e).data,o=0,l=r.length;o<l;o++){for(var i=r[o],a=!1,s=0;s<t.length;s++){var d=t[s];if(1==$object.isNullOrUndefined(n)){if(1!=$string.isNullOrEmpty(i[d])){a=!1;break}}else if(1!=$string.isNullOrEmpty(i[d])&&i[d]!==n){a=!1;break}a=!0}if(1==a)return a}return!1},setLocale(e,t,n,r){syn.$l.get(e),$resource.getBindSource(n)}}),syn.uicontrols.$grid=$grid}(window),!function(o){"use strict";syn.uicontrols=syn.uicontrols||new syn.module;var l=syn.uicontrols.$element||new syn.module;l.extend({name:"syn.uicontrols.$element",version:"1.0.0",defaultSetting:{contents:"",disabled:!1,dataType:"string",belongID:null,controlText:null,content:"value",validators:null,transactConfig:null,triggerConfig:null},addModuleList(e,t,n,r){var o=e.getAttribute("id"),l=e.getAttribute("syn-datafield"),e=e.closest("form")?e.closest("form").getAttribute("syn-datafield"):"";t.push({id:o,formDataFieldID:e,field:l,module:this.name,type:r})},controlLoad(e,t){var n=syn.$l.get(e),r=(t=syn.$w.argumentsExtend(l.defaultSetting,t),o[syn.$w.pageScript]);r&&r.hook.controlInit&&(r=r.hook.controlInit(e,t),t=syn.$w.argumentsExtend(t,r)),n.setAttribute("syn-options",JSON.stringify(t)),t.bindingID&&syn.uicontrols.$data&&syn.uicontrols.$data.bindingSource(e,t.bindingID)},getValue(e,t){var n=null,r=syn.$l.get(e);if(0==$object.isNullOrUndefined(r)){e=r.getAttribute("syn-options");if(e)switch(JSON.parse(e).content){case"value":n=r.value;break;case"text":n=r.innerText;break;case"html":n=r.innerHTML;break;default:n=r.value}else n=r.value}else n="";return n},setValue(e,t,n){var r=syn.$l.get(e);if(t&&0==$object.isNullOrUndefined(r)){e=r.getAttribute("syn-options");if(e)switch(JSON.parse(e).content){case"value":r.value=t;break;case"text":"innerText"in r&&(r.innerText=t);break;case"html":"innerHTML"in r&&(r.innerHTML=t);break;default:r.value=t}else r.value=t}},clear(e,t){var n=syn.$l.get(e);if(0==$object.isNullOrUndefined(n)){e=n.getAttribute("syn-options");if(e)switch(JSON.parse(e).content){case"value":n.value="";break;case"text":"innerText"in n&&(n.innerText="");break;case"html":"innerHTML"in n&&(n.innerHTML="");break;default:n.value=""}else n.value=""}},setLocale(e,t,n,r){var o,l;0==$object.isNullOrUndefined(n)&&(o=null,o=0==$string.isNullOrEmpty(n.elID)?syn.$l.get(n.elID):syn.$l.querySelector('{0}[i18n-key="{1}"]'.format(n.tag,n.key)),l=$resource.getBindSource(n),0==$string.isNullOrEmpty(l))&&(o[l]=$resource.translateText(n,r))}}),syn.uicontrols.$element=l}(window);