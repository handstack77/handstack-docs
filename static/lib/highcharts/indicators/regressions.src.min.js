!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var e=r?r._modules:{};function t(e,t,s,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,s),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:f,extend:n,merge:r}=t;class i extends s{getRegressionLineParameters(e,t){function s(e,t){return f(e)?e[t]:e}const n=this.options.params.index,r=e.reduce(function(e,t){return t+e},0),i=t.reduce(function(e,t){return s(t,n)+e},0),o=r/e.length,a=i/t.length;let l,c,p,u=0,g=0;for(p=0;p<e.length;p++)l=e[p]-o,c=s(t[p],n)-a,u+=l*c,g+=Math.pow(l,2);var d=g?u/g:0;return{slope:d,intercept:a-d*o}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){const s=e[0];return e.map(function(e){return(e-s)/t})}findClosestDistance(e){let t,s,n;for(n=1;n<e.length-1;n++)0<(t=e[n]-e[n-1])&&(void 0===s||t<s)&&(s=t);return s}getValues(e,t){const s=e.xData,n=e.yData,r=t.period,i={xData:[],yData:[],values:[]},o=this.options.params.xAxisUnit||this.findClosestDistance(s);let a,l,c,p,u,g,d,f,h;for(l=r-1;l<=s.length-1;l++)c=l-r+1,p=l+1,u=s[l],d=s.slice(c,p),f=n.slice(c,p),h=this.transformXData(d,o),a=this.getRegressionLineParameters(h,f),g=this.getEndPointY(a,h[h.length-1]),i.values.push({regressionLineParameters:a,x:u,y:g}),i.xData.push(u),i.yData.push(g);return i}}return i.defaultOptions=r(s.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),n(i.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",i),i}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:n,merge:r}=t;class i extends s{getEndPointY(e){return e.slope}}return i.defaultOptions=r(s.defaultOptions),n(i.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",i),i}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:n,merge:r}=t;class i extends s{getEndPointY(e){return e.intercept}}return i.defaultOptions=r(s.defaultOptions),n(i.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",i),i}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:n,merge:r}=t;class i extends s{slopeToAngle(e){return Math.atan(e)*(180/Math.PI)}getEndPointY(e){return this.slopeToAngle(e.slope)}}return i.defaultOptions=r(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),n(i.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",i),i}),t(e,"masters/indicators/regressions.src.js",[e["Core/Globals.js"]],function(e){return e})});