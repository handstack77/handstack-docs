!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(o){"use strict";var e=o?o._modules:{};function t(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&o.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],function(d,e){const{addEvent:s,find:i,fireEvent:f,isArray:o,isNumber:u,pick:g}=e;var t;{function r(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function n(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function a(){const e=this,t=e.brokenAxis;if(t?.hasBreaks){const i=e.tickPositions,s=e.tickPositions.info,o=[];for(let e=0;e<i.length;e++)t.isInAnyBreak(i[e])||o.push(i[e]);e.tickPositions=o,e.tickPositions.info=s}}function l(){var e=this;e.brokenAxis||(e.brokenAxis=new m(e))}function c(){const{isDirty:e,options:{connectNulls:t},points:i,xAxis:s,yAxis:o}=this;if(e){let e=i.length;for(;e--;){const n=i[e];var r=!(null===n.y&&!1===t)&&(s?.brokenAxis?.isInAnyBreak(n.x,!0)||o?.brokenAxis?.isInAnyBreak(n.y,!0));n.visible=!r&&!1!==n.options.visible}}}function h(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function p(s,e){const i=this,o=i.points;let r,n,a;if(s?.brokenAxis?.hasBreaks){const l=s.brokenAxis;e.forEach(function(e){r=l?.breakArray||[],n=s.isXAxis?s.min:g(i.options.threshold,s.min);const t=s?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<r.length;e++){var s=r[e];if(s.from===t.from&&s.to===t.to){i=!1;break}}return i});o.forEach(function(i){a=g(i["stack"+e.toUpperCase()],i[e]),r.forEach(function(t){if(u(n)&&u(a)){let e="";n<t.from&&a>t.to||n>t.from&&a<t.from?e="pointBreak":(n<t.from&&a>t.from&&a<t.to||n>t.from&&a>t.to&&a<t.from)&&(e="pointInBreak"),e&&f(s,e,{point:i,brk:t})}}),t?.forEach(function(e){f(s,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function k(){const e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),o=this.yAxis;let r=this.options.gapSize,n=s.length-1,a;if(r&&0<n){"value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);let e,t;for(;n--;){var l;t&&!1!==t.visible||(t=s[n+1]),e=s[n],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>r&&(l=(e.x+t.x)/2,s.splice(n+1,0,{isNull:!0,x:l}),o.stacking&&this.options.stacking&&((a=o.stacking.stacks[this.stackKey][l]=new d(o,o.options.stackLabels,!1,l,this.stack)).total=0)),t=e)}}return this.getGraphPath(s)}(e=t=t||{}).compose=function(e,t){if(!e.keepProps.includes("brokenAxis")){e.keepProps.push("brokenAxis"),s(e,"init",l),s(e,"afterInit",r),s(e,"afterSetTickPositions",a),s(e,"afterSetOptions",n);const i=t.prototype;i.drawBreaks=p,i.gappedPath=k,s(t,"afterGeneratePoints",c),s(t,"afterRender",h)}return e};class m{static isInBreak(e,t){var i=e.repeat||1/0,s=e.from,o=e.to-e.from,s=s<=t?(t-s)%i:i-(s-t)%i;let r;return r=e.inclusive?s<=o:s<o&&0!=s}static lin2Val(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!u(e))return e;let s=e,o,r;for(r=0;r<i.length&&!((o=i[r]).from>=s);r++)(o.to<s||m.isInBreak(o,s))&&(s+=o.len);return s}static val2Lin(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!u(e))return e;let s=e,o,r;for(r=0;r<i.length;r++)if((o=i[r]).to<=e)s-=o.len;else{if(o.from>=e)break;if(m.isInBreak(o,e)){s-=e-o.from;break}}return s}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return i(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){var i=this.axis,s=i.options.breaks||[];let o=s.length,r,n,a;if(o&&u(e)){for(;o--;)m.isInBreak(s[o],e)&&(r=!0,n=n||g(s[o].showPoints,!i.isXAxis));a=r&&t?r&&!n:r}return a}setBreaks(e,t){const h=this,p=h.axis;var i=o(e)&&!!e.length&&!!Object.keys(e[0]).length;p.isDirty=h.hasBreaks!==i,h.hasBreaks=i,e!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=e),p.forceRedraw=!0,p.series.forEach(function(e){e.isDirty=!0}),i||p.val2lin!==m.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=m.lin2Val,p.val2lin=m.val2Lin,p.setExtremes=function(t,i,e,s,o){if(h.hasBreaks){var r=this.options.breaks||[];let e;for(;e=h.findBreakAt(t,r);)t=e.to;for(;e=h.findBreakAt(i,r);)i=e.from;i<t&&(i=t)}p.constructor.prototype.setExtremes.call(this,t,i,e,s,o)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks){const e=p.options.breaks||[],l=[],d=[],c=g(p.pointRangePadding,0);let t=0,i,s,o=p.userMin||p.min,r=p.userMax||p.max,n,a;e.forEach(function(e){s=e.repeat||1/0,u(o)&&u(r)&&(m.isInBreak(e,o)&&(o+=e.to%s-o%s),m.isInBreak(e,r)&&(r-=r%s-e.from%s))}),e.forEach(function(e){if(n=e.from,s=e.repeat||1/0,u(o)&&u(r)){for(;n-s>o;)n-=s;for(;n<o;)n+=s;for(a=n;a<r;a+=s)l.push({value:a,move:"in"}),l.push({value:a+e.to-e.from,move:"out",size:e.breakSize})}}),l.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),i=0,n=o,l.forEach(function(e){1===(i+="in"===e.move?1:-1)&&"in"===e.move&&(n=e.value),0===i&&u(n)&&(d.push({from:n,to:e.value,len:e.value-n-(e.size||0)}),t+=e.value-n-(e.size||0))}),h.breakArray=d,u(o)&&u(r)&&u(p.min)&&(h.unitLength=r-o-t+c,f(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:h.unitLength&&(p.transA*=(r-p.min+c)/h.unitLength),c&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=o,p.max=r)}}),g(t,!0)&&p.chart.redraw()}}e.Additions=m}return t}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(d,l,t){const e=l["dateFormats"],{addEvent:s,defined:r,erase:c,find:h,isArray:n,isNumber:b,merge:p,pick:m,timeUnits:f,wrap:o}=t;var v,i;function a(e){return t.isObject(e,!0)}function u(o,e){const r={width:0,height:0};return e.forEach(function(e){e=o[e];let t,i=0,s;a(e)&&(t=(s=a(e.label)?e.label:{}).getBBox?s.getBBox().height:0,s.textStr&&!b(s.textPxLength)&&(s.textPxLength=s.getBBox().width),i=b(s.textPxLength)?Math.round(s.textPxLength):0,s.textStr&&(i=Math.round(s.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(i,r.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(e-1)),r}function g(e){var t=this["grid"],i=3===this.side;if(i||e.apply(this),!t?.isColumn){let e=t?.columns||[];(e=i?e.slice().reverse():e).forEach(e=>{e.getOffset()})}i&&e.apply(this)}function k(e){var t=this;const i=t.options;if(!0===(i.grid||{}).enabled){const{axisTitle:d,height:c,horiz:h,left:p,offset:f,opposite:u,options:i,top:g,width:k}=t;var s=t.tickSize(),o=d&&d.getBBox().width,r=i.title.x,n=i.title.y,a=m(i.title.margin,h?5:10),l=d?t.chart.renderer.fontMetrics(d).f:0,s=(h?g+c:p)+(h?1:-1)*(u?-1:1)*(s?s[0]/2:0)+(t.side===v.bottom?l:0);e.titlePosition.x=h?p-(o||0)/2-a+r:s+(u?k:0)+f+r,e.titlePosition.y=h?s-(u?c:0)+(u?l:-l)/2+f+n:g-a+n}}function x(){var t=this,{chart:i,options:{grid:s={}},userOptions:o}=t;if(s.enabled){var e=t;const n=e.options;n.labels.align=m(n.labels.align,"center"),e.categories||(n.showLastLabel=!1),e.labelRotation=0,n.labels.rotation=0,n.minTickInterval=1}if(s.columns){const a=t.grid.columns=[];let e=t.grid.columnIndex=0;for(;++e<s.columns.length;){var r=p(o,s.columns[e],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}});const l=new d(t.chart,r,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=e,c(i.axes,l),c(i[t.coll]||[],l),a.push(l)}}}function y(){const i=this,{axisTitle:e,grid:t,options:s}=i,o=s.grid||{};if(!0===o.enabled){var r=i.min||0,n=i.max||0,a=i.ticks[i.tickPositions[0]];if(e&&!i.chart.styledMode&&a?.slotWidth&&!i.options.title.style.width&&e.css({width:a.slotWidth+"px"}),i.maxLabelDimensions=i.getMaxLabelDimensions(i.ticks,i.tickPositions),i.rightWall&&i.rightWall.destroy(),i.grid&&i.grid.isOuterAxis()&&i.axisLine){var a=s.lineWidth;if(a){const c=i.getLinePath(a),h=c[0],p=c[1],f=(i.tickSize("tick")||[1])[0],u=f*(i.side===v.top||i.side===v.left?-1:1);"M"===h[0]&&"L"===p[0]&&(i.horiz?(h[2]+=u,p[2]+=u):(h[1]+=u,p[1]+=u)),!i.horiz&&i.chart.marginRight&&(a=[h,["L",i.left,h[2]||0]],l=["L",i.chart.chartWidth-i.chart.marginRight,i.toPixels(n+i.tickmarkOffset)],l=[["M",p[1]||0,i.toPixels(n+i.tickmarkOffset)],l],i.grid.upperBorder||r%1==0||(i.grid.upperBorder=i.grid.renderBorder(a)),i.grid.upperBorder&&(i.grid.upperBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.upperBorder.animate({d:a})),i.grid.lowerBorder||n%1==0||(i.grid.lowerBorder=i.grid.renderBorder(l)),i.grid.lowerBorder&&(i.grid.lowerBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.lowerBorder.animate({d:l}))),i.grid.axisLineExtra?(i.grid.axisLineExtra.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),i.grid.axisLineExtra.animate({d:c})):i.grid.axisLineExtra=i.grid.renderBorder(c),i.axisLine[i.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach(e=>e.render()),!i.horiz&&i.chart.hasRendered&&(i.scrollbar||i.linkedParent&&i.linkedParent.scrollbar)&&i.tickPositions.length){var a=i.tickmarkOffset,l=i.tickPositions[i.tickPositions.length-1],d=i.tickPositions[0];let e,t;for(;(e=i.hiddenLabels.pop())&&e.element;)e.show();for(;(t=i.hiddenMarks.pop())&&t.element;)t.show();(e=i.ticks[d].label)&&(a<r-d?i.hiddenLabels.push(e.hide()):e.show()),(e=i.ticks[l].label)&&(a<l-n?i.hiddenLabels.push(e.hide()):e.show());const g=i.ticks[l].mark;g&&l-n<a&&0<l-n&&i.ticks[l].isLast&&i.hiddenMarks.push(g.hide())}}}function G(){var e=this,t=e.tickPositions&&e.tickPositions.info;const i=e.options;var s=i.grid||{},o=e.userOptions.labels||{};s.enabled&&(e.horiz?(e.series.forEach(e=>{e.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!r(o.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",r(o.x)||(i.labels.x=3))):"treegrid"!==this.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function P(e){const t=this.options,i=e.userOptions,s=t&&a(t.grid)?t.grid:{};let d;!0===s.enabled&&(d=p(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(r(i.linkedTo)&&!r(i.tickPixelInterval)&&(d.tickPixelInterval=350),r(i.tickPixelInterval)||!r(i.linkedTo)||r(i.tickPositioner)||r(i.tickInterval)||r(i.units)||(d.tickPositioner=function(s,o){var r=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(r){var n=d.units||[];let t,e=1,i="year";for(let e=0;e<n.length;e++){var a=n[e];if(a&&a[0]===r.unitName){t=e;break}}var l=b(t)&&n[t+1],l=(l?(i=l[0]||"year",l=l[1],e=l&&l[0]||1):"year"===r.unitName&&(e=10*r.count),f[i]);return this.tickInterval=l*e,this.chart.time.getTimeTicks({unitRange:l,count:e,unitName:i},s,o,this.options.startOfWeek)}})),p(!0,this.options,d),this.horiz&&(t.minPadding=m(i.minPadding,0),t.maxPadding=m(i.maxPadding,0)),b(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=s.borderWidth))}function A(e){var e=e.userOptions,e=e&&e.grid||{},t=e.columns;e.enabled&&t&&p(!0,this.options,t[0])}function T(){(this.grid.columns||[]).forEach(e=>e.setScale())}function C(e){var t,{horiz:i,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(t=2*this.options.labels.distance,i=i?o.cellHeight||t+s.height:t+s.width,n(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function O(){this.axes.forEach(e=>{(e.grid&&e.grid.columns||[]).forEach(e=>{e.setAxisSize(),e.setAxisTranslation()})})}function B(t){const e=this["grid"];(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function I(e){var t=this;const i=e.userOptions||{};e=i.grid||{};e.enabled&&r(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),t.grid||(t.grid=new S(t)),t.hiddenLabels=[],t.hiddenMarks=[]}function N(o){const r=this.label,n=this.axis,a=n.reversed,l=n.chart,e=n.options,t=e.grid||{},d=n.options.labels,c=d.align,h=v[n.side],i=o.tickmarkOffset,s=n.tickPositions,p=this.pos-i,f=b(s[o.index+1])?s[o.index+1]-i:(n.max||0)+i,u=n.tickSize("tick"),g=u?u[0]:0,k=u?u[1]/2:0;if(!0===t.enabled){let e,t,i,s;var m,x;"top"===h?(e=n.top+n.offset,t=e-g):"bottom"===h?(t=l.chartHeight-n.bottom+n.offset,e=t+g):(e=n.top+n.len-(n.translate(a?f:p)||0),t=n.top+n.len-(n.translate(a?p:f)||0)),"right"===h?(i=l.chartWidth-n.right+n.offset,s=i+g):"left"===h?(s=n.left+n.offset,i=s-g):(i=Math.round(n.left+(n.translate(a?f:p)||0))-k,s=Math.min(Math.round(n.left+(n.translate(a?p:f)||0))-k,n.left+n.len)),this.slotWidth=s-i,o.pos.x="left"===c?i:"right"===c?s:i+(s-i)/2,o.pos.y=t+(e-t)/2,r&&(m=l.renderer.fontMetrics(r),x=r.getBBox().height,d.useHTML?o.pos.y+=m.b+-x/2:(x=Math.round(x/m.h),o.pos.y+=(m.b-(m.h-m.f))/2+-((x-1)*m.h)/2)),o.pos.x+=n.horiz&&d.x||0}}function w(t){const{axis:i,value:s}=t;if(i.options.grid&&i.options.grid.enabled){var o=i.tickPositions;const a=(i.linkedParent||i).series[0];var r=s===o[0],o=s===o[o.length-1],n=a&&h(a.options.data,function(e){return e[i.isXAxis?"x":"y"]===s});let e;n&&a.is("gantt")&&(e=p(n),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(e)),t.isFirst=r,t.isLast=o,t.point=e}}function E(){const e=this,t=e.options,i=t.grid||{},s=e.categories,o=e.tickPositions,r=o[0],n=o[1],a=o[o.length-1],l=o[o.length-2],d=e.linkedParent&&e.linkedParent.min,c=e.linkedParent&&e.linkedParent.max,h=d||e.min,p=c||e.max,f=e.tickInterval,u=b(h)&&r+f<=h&&h<n,g=b(h)&&r<h&&h<r+f,k=b(p)&&p<a&&a-f<p,m=b(p)&&p<=a-f&&l<p;!0!==i.enabled||s||!e.isXAxis&&!e.isLinked||(!g&&!u||t.startOnTick||(o[0]=h),!k&&!m||t.endOnTick||(o[o.length-1]=p))}function L(e){var{options:{grid:t={}}}=this;return!0===t.enabled&&this.categories?this.tickInterval:e.apply(this,(t=arguments,Array.prototype.slice.call(t,1)))}(i=v=v||{})[i.top=0]="top",i[i.right=1]="right",i[i.bottom=2]="bottom",i[i.left=3]="left";class S{constructor(e){this.axis=e}isOuterAxis(){const i=this.axis,e=i.chart;var t=i.grid.columnIndex,s=i.linkedParent?.grid.columns||i.grid.columns||[];const o=t?i.linkedParent:i;let r=-1,n=0;return 3===i.side&&!e.inverted&&s.length?!i.linkedParent:((e[i.coll]||[]).forEach((e,t)=>{e.side!==i.side||e.options.isInternal||(n=t,e===o&&(r=t))}),n===r&&(!b(t)||s.length===t))}renderBorder(e){const t=this.axis,i=t.chart.renderer,s=t.options,o=i.path(e).addClass("highcharts-axis-line").add(t.axisGroup);return i.styledMode||o.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),o}}return e.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},e.W=function(e){const t=this,i=new this.Date(e);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(e){t.set(e,i,0)});e=(this.get("Day",i)+6)%7;const s=new this.Date(i.valueOf()),o=(this.set("Date",s,this.get("Date",i)-e+3),new this.Date(this.get("FullYear",s),0,1));return 4!==this.get("Day",o)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",o))%7)),(1+Math.floor((s.valueOf()-o.valueOf())/6048e5)).toString()},{compose:function(e,t,i){return e.keepProps.includes("grid")||(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=u,o(e.prototype,"unsquish",L),o(e.prototype,"getOffset",g),s(e,"init",I),s(e,"afterGetTitlePosition",k),s(e,"afterInit",x),s(e,"afterRender",y),s(e,"afterSetAxisTranslation",G),s(e,"afterSetOptions",P),s(e,"afterSetOptions",A),s(e,"afterSetScale",T),s(e,"afterTickSize",C),s(e,"trimTicks",E),s(e,"destroy",B),s(t,"afterSetChartSize",O),s(i,"afterGetLabelPosition",N),s(i,"labelFormat",w)),e}}}),t(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){const{extend:f,isNumber:u,pick:g}=e;function k(s,e,o,t,r,n){const i=n&&n.after,a=n&&n.before,l={data:t,depth:o-1,id:s,level:o,parent:e||""};let d=0,c=0,h,p;"function"==typeof a&&a(l,n);e=(r[s]||[]).map(e=>{var t=k(e.id,s,o+1,e,r,n),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return h=!u(h)||i<h?i:h,p=!u(p)||e>p?e:p,d=d+1+t.descendants,c=Math.max(t.height+1,c),t});return t&&(t.start=g(t.start,h),t.end=g(t.end,p)),f(l,{children:e,descendants:d,height:c}),"function"==typeof i&&i(l,n),l}return{getNode:k,getTree:function(e,t){return k("",null,1,null,function(e){const o=[],i=e.reduce((e,t)=>{var{parent:i="",id:s}=t;return void 0===e[i]&&(e[i]=[]),e[i].push(t),s&&o.push(s),e},{});return Object.keys(i).forEach(e=>{var t;""!==e&&-1===o.indexOf(e)&&(t=i[e].map(function(e){const{...t}=e;return t}),i[""].push(...t),delete i[e])}),i}(e),t)}}}),t(e,"Core/Axis/TreeGrid/TreeGridTick.js",[e["Core/Utilities.js"]],function(e){const{addEvent:D,removeEvent:z,isObject:R,isNumber:U,pick:H,wrap:i}=e;function s(){this.treeGrid||(this.treeGrid=new t(this))}function o(e,t,i,s,o,r,n,a,l){const d=this,c=H(d.options&&d.options.labels,r),h=d.pos,p=d.axis,f="treegrid"===p.type,u=e.apply(d,[t,i,s,o,c,n,a,l]);return f&&({width:r=0,padding:e=p.linkedParent?0:5}=c&&R(c.symbol,!0)?c.symbol:{},t=c&&U(c.indentation)?c.indentation:0,o=(s=(i=p.treeGrid.mapOfPosToGridNode)&&i[h])&&s.depth||1,u.x+=r+2*e+(o-1)*t),u}function r(t){const{pos:e,axis:i,label:s,treeGrid:o,options:r}=this,n=o?.labelIcon,a=s?.element,{treeGrid:l,options:d,chart:c,tickPositions:h}=i,p=l.mapOfPosToGridNode,f=H(r?.labels,d?.labels),u=f&&R(f.symbol,!0)?f.symbol:{},g=p&&p[e],{descendants:k,depth:m}=g||{},M=g&&k&&0<k,j=m,x="treegrid"===i.type&&a,W=-1<h.indexOf(e),b="highcharts-treegrid-node-",v=b+"level-",y=c.styledMode;if(x&&g&&s.removeClass(new RegExp(v+".*")).addClass(v+j),t.apply(this,Array.prototype.slice.call(arguments,1)),x&&M){t=l.isCollapsed(g);{var G=this;var P={color:!y&&s.styles.color||"",collapsed:t,group:s.parentGroup,options:u,renderer:s.renderer,show:W,xy:s.xy};const A=G.treeGrid,T=!A.labelIcon,C=P.renderer,O=P.xy,B=P.options,I=B.width||0,N=B.height||0,w=B.padding??G.axis.linkedParent?0:5,E={x:O.x-I/2-w,y:O.y-N/2},L=P.collapsed?90:180,S=P.show&&U(E.y);let e=A.labelIcon;e||(A.labelIcon=e=C.path(C.symbols[B.type](B.x||0,B.y||0,I,N)).addClass("highcharts-label-icon").add(P.group)),e[S?"show":"hide"](),C.styledMode||e.attr({cursor:"pointer",fill:H(P.color,"#666666"),"stroke-width":1,stroke:B.lineColor,strokeWidth:B.lineWidth||0}),e[T?"attr":"animate"]({translateX:E.x,translateY:E.y,rotation:L})}G=b+(t?"expanded":"collapsed"),s.addClass(b+(t?"collapsed":"expanded")).removeClass(G),y||s.css({cursor:"pointer"}),[s,n].forEach(e=>{e&&!e.attachedTreeGridEvents&&(D(e.element,"mouseover",function(){var e;(e=s).addClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:"underline"})}),D(e.element,"mouseout",function(){var e,t;e=s,t=f,t=R(t.style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration||"none"})}),D(e.element,"click",function(){o.toggleCollapse()}),e.attachedTreeGridEvents=!0)})}else n&&(z(a),s?.css({cursor:"default"}),n.destroy())}class t{static compose(e){const t=e.prototype;t.toggleCollapse||(D(e,"init",s),i(t,"getLabelPosition",o),i(t,"renderLabel",r),t.collapse=function(e){this.treeGrid.collapse(e)},t.expand=function(e){this.treeGrid.expand(e)},t.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,H(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const{pos:t,axis:i}=this.tick,{treeGrid:s,brokenAxis:o}=i,r=s.mapOfPosToGridNode;var n;o&&r&&(n=r[t],n=s.expand(n),o.setBreaks(n,H(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,H(e,!0)))}}return class{static compose(e){const t=e.prototype;t.toggleCollapse||(D(e,"init",s),i(t,"getLabelPosition",o),i(t,"renderLabel",r),t.collapse=function(e){this.treeGrid.collapse(e)},t.expand=function(e){this.treeGrid.expand(e)},t.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.collapse(o),s.setBreaks(o,H(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const{pos:t,axis:i}=this.tick,{treeGrid:s,brokenAxis:o}=i,r=s.mapOfPosToGridNode;var n;o&&r&&(n=r[t],n=s.expand(n),o.setBreaks(n,H(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,s=i.brokenAxis;var o;s&&i.treeGrid.mapOfPosToGridNode&&(o=t.pos,o=i.treeGrid.mapOfPosToGridNode[o],o=i.treeGrid.toggleCollapse(o),s.setBreaks(o,H(e,!0)))}}}),t(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(x,e){const{extend:u,isArray:l,isNumber:d,isObject:c,merge:h,pick:b,relativeLength:o}=e;return{getColor:function(e,t){const i=t.index,s=t.mapOptionsToLevel,o=t.parentColor,r=t.parentColorIndex,n=t.series,a=t.colors,l=t.siblings,d=n.points,c=n.chart.options.chart;let h,p,f,u,g,k;var m;return e&&(h=d[e.i],p=s[e.level]||{},h&&p.colorByPoint&&(u=h.index%(a?a.length:c.colorCount),f=a&&a[u]),n.chart.styledMode||(g=b(h&&h.options.color,p&&p.color,f,o&&(e=o,(m=p&&p.colorVariation)&&"brightness"===m.key&&i&&l?x.parse(e).brighten(m.to*(i/l)).get():e),n.color)),k=b(h&&h.options.colorIndex,p&&p.colorIndex,u,r,t.colorIndex)),{color:g,colorIndex:k}},getLevelOptions:function(e){const t={};let r,i,s,n,o,a;if(c(e))for(n=d(e.from)?e.from:1,a=e.levels,i={},r=c(e.defaults)?e.defaults:{},l(a)&&(i=a.reduce((e,t)=>{let i,s,o;return c(t)&&d(t.level)&&(o=h({},t),s=b(o.levelIsConstant,r.levelIsConstant),delete o.levelIsConstant,delete o.level,i=t.level+(s?0:n-1),c(e[i])?h(!0,e[i],o):e[i]=o),e},{})),o=d(e.to)?e.to:1,s=0;s<=o;s++)t[s]=h({},r,c(i[s])?i[s]:{});return t},getNodeWidth:function(e,t){var{chart:e,options:i}=e,{nodeDistance:i=0,nodeWidth:s=0}=i,{plotSizeX:e=1}=e;return"auto"!==s?o(s,e):"string"==typeof i&&/%$/.test(i)?e/(t+parseFloat(i)/100*(t-1)):(s=Number(i),(e+s)/(t||1)-s)},setTreeValues:function s(o,r){const e=r.before,t=r.idRoot,i=r.mapIdToNode,n=i[t],a=!1!==r.levelIsConstant,l=r.points,d=l[o.i],c=d&&d.options||{},h=[];let p=0;o.levelDynamic=o.level-(a?0:n.level),o.name=b(d&&d.name,""),o.visible=t===o.id||!0===r.visible,(o="function"==typeof e?e(o,r):o).children.forEach((e,t)=>{var i=u({},r);u(i,{index:t,siblings:o.children.length,visible:o.visible}),e=s(e,i),h.push(e),e.visible&&(p+=e.val)});var f=b(c.value,p);return o.visible=0<=f&&(0<p||o.visible),o.children=h,o.childrenTotal=p,o.isLeaf=o.visible&&!p,o.val=f,o},updateRootId:function(e){let t,i;return c(e)&&(i=c(e.options)?e.options:{},t=b(e.rootNode,i.rootId,""),c(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/TreeGrid/TreeGridAxis.js",[e["Core/Axis/BrokenAxis.js"],e["Core/Axis/GridAxis.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGrid/TreeGridTick.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(r,n,u,a,e,t){const c=e["getLevelOptions"],{addEvent:l,find:g,fireEvent:d,isArray:h,isObject:k,isString:m,merge:p,pick:f,removeEvent:s,wrap:x}=t;let b;function o(e,t){var i=e.collapseEnd||0;let s=e.collapseStart||0;return t<=i&&(s-=.5),{from:s,to:i,showPoints:!1}}function v(e,t,i){const a=[],o=[],l={},d=t||!1;let c={},h=-1;var p,t=u.getTree(e,{after:function(e){const t=c[e.pos];let i=0,s=0;t.children.forEach(function(e){s+=(e.descendants||0)+1,i=Math.max((e.height||0)+1,i)}),t.descendants=s,t.height=i,t.collapsed&&o.push(t)},before:function(e){const t=k(e.data,!0)?e.data:{},i=m(t.name)?t.name:"",s=l[e.parent],o=k(s,!0)?c[s.pos]:null;let r,n;d&&k(o,!0)&&(r=g(o.children,function(e){return e.name===i}))?(n=r.pos,r.nodes.push(e)):n=h++,c[n]||(c[n]=r={depth:o?o.depth+1:0,name:i,id:t.id,nodes:[e],children:[],pos:n},-1!==n&&a.push(i),k(o,!0)&&o.children.push(r)),m(e.id)&&(l[e.id]=e),r&&!0===t.collapsed&&(r.collapsed=!0),e.pos=n}});function f(e,i,t){const s=e.nodes;let o=i+(-1===i?0:p-1);const r=(o-i)/2,n=i+r;return s.forEach(function(e){const t=e.data;k(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=n}),(t[n]=e).pos=n,e.tickmarkOffset=.5+r,e.collapseStart=o+.5,e.children.forEach(function(e){f(e,o+1,t),o=(e.collapseEnd||0)-.5}),e.collapseEnd=o+.5,t}return c=(e=c,p=i,f(e[-1],-1,{})),{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:c,collapsedNodes:o,tree:t}}function y(d){const e=d.target,t=e.axes;t.filter(e=>"treegrid"===e.type).forEach(function(e){const t=e.options||{},i=t.labels,s=e.uniqueNames,o=t.max,r=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty});let n=0,a,l;if(r){if(a=e.series.reduce(function(t,i){return i.visible&&((i.options.data||[]).forEach(function(e){i.options.keys&&i.options.keys.length&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e)),k(e,!0)&&(e.seriesIndex=n,t.push(e))}),!0===s&&n++),t},[]),o&&a.length<o)for(let e=a.length;e<=o;e++)a.push({name:e+"​"});l=v(a,s||!1,!0===s?n:1),e.categories=l.categories,e.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=l.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(t){return h(t)&&e.options.keys&&e.options.keys.length&&a.forEach(function(e){0<=t.indexOf(e.x)&&0<=t.indexOf(e.x2)&&(t=e)}),k(t,!0)?p(t):t});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=c({defaults:i,from:1,levels:i&&i.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===d.type&&(e.treeGrid.collapsedNodes=l.collapsedNodes)}})}function G(e,t){const i=this,s=i.treeGrid.mapOptionsToLevel||{},o="treegrid"===i.type,r=i.ticks;let n=r[t],a,l,d;o&&i.treeGrid.mapOfPosToGridNode?((a=s[(d=i.treeGrid.mapOfPosToGridNode[t]).depth])&&(l={labels:a}),!n&&b?r[t]=n=new b(i,t,void 0,void 0,{category:d.name,tickmarkOffset:d.tickmarkOffset,options:l}):(n.parameters.category=d.name,n.options=l,n.addLabel())):e.apply(i,Array.prototype.slice.call(arguments,1))}function P(e,t,i,s){const o=this,r="treegrid"===i.type;o.treeGrid||(o.treeGrid=new C(o)),r&&(l(t,"beforeRender",y),l(t,"beforeRedraw",y),l(t,"addSeries",function(e){e.options.data&&(e=v(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),l(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),l(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=p({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),e.apply(o,[t,i,s]),r&&(o.hasNames=!0,o.options.showLastLabel=!0)}function A(e){const t=this,i=t.options,s="number"==typeof i.linkedTo?this.chart[t.coll]?.[i.linkedTo]:void 0,o="treegrid"===t.type;var r;o?(t.min=f(t.userMin,i.min,t.dataMin),t.max=f(t.userMax,i.max,t.dataMax),d(t,"foundExtremes"),t.setAxisTranslation(),t.tickInterval=1,t.tickmarkOffset=.5,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[],s&&(r=s.getExtremes(),t.min=f(r.min,r.dataMin),t.max=f(r.max,r.dataMax),t.tickPositions=s.tickPositions),t.linkedParent=s):e.apply(t,Array.prototype.slice.call(arguments,1))}function T(e){const i=this,t="treegrid"===this.type;t&&i.visible&&i.tickPositions.forEach(function(e){const t=i.ticks[e];t.label&&t.label.attachedTreeGridEvents&&(s(t.label.element),t.label.attachedTreeGridEvents=!1)}),e.apply(i,Array.prototype.slice.call(arguments,1))}class C{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){const o=e.prototype;e.keepProps.push("treeGrid"),x(o,"generateTick",G),x(o,"init",P),x(o,"setTickInterval",A),x(o,"redraw",T),o.utils={getNode:u.getNode},b=b||s}return n.compose(e,t,s),r.compose(e,i),a.compose(s),e}constructor(e){this.axis=e}setCollapsedStatus(o){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(o.id&&t){const i=r.get(o.id),s=t[e.data.indexOf(i)];i&&s&&(i.collapsed=o.collapsed,s.collapsed=o.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return!(t>=s&&t<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}return class{static compose(e,t,i,s){if(!e.keepProps.includes("treeGrid")){const o=e.prototype;e.keepProps.push("treeGrid"),x(o,"generateTick",G),x(o,"init",P),x(o,"setTickInterval",A),x(o,"redraw",T),o.utils={getNode:u.getNode},b=b||s}return n.compose(e,t,s),r.compose(e,i),a.compose(s),e}constructor(e){this.axis=e}setCollapsedStatus(o){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(o.id&&t){const i=r.get(o.id),s=t[e.data.indexOf(i)];i&&s&&(i.collapsed=o.collapsed,s.collapsed=o.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return i.push(s),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===s.to&&t.from===s.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,s=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){return!((t=+t)>=s&&t<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],s=o(e,t.max);return i.some(function(e){return e.from===s.from&&e.to===s.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}}),t(e,"masters/modules/treegrid.src.js",[e["Core/Globals.js"],e["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(e,t){return t.compose(e.Axis,e.Chart,e.Series,e.Tick),e})});