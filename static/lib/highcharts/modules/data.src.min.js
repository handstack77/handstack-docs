!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(n){"use strict";var e=n?n._modules:{};function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&n.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){const o=e["win"],{discardElement:r,objectEach:l}=t;const s={ajax:function(s){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;function t(e,t){s.error&&s.error(e,t)}if(!s.url)return!1;i.open((s.type||"get").toUpperCase(),s.url,!0),s.headers&&s.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[s.dataType||"json"]||e.text),l(s.headers,function(e,t){i.setRequestHeader(t,e)}),s.responseType&&(i.responseType=s.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==s.responseType&&(e=i.responseText,"json"===s.dataType))try{e=JSON.parse(e)}catch(e){if(e instanceof Error)return t(i,e)}return s.success&&s.success(e,i)}t(i,i.responseText)}},s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),i.send(s.data)},getJSON:function(e,t){s.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,s){const i=new o.FormData,{filename:n,type:a}=(l(t,function(e,t){i.append(t,e)}),i.append("b64","true"),t);return o.fetch(e,{method:"POST",body:i,...s}).then(e=>{e.ok&&e.text().then(e=>{const t=document.createElement("a");t.href=`data:${a};base64,`+e,t.download=n,t.click(),r(t)})})}};return s}),t(e,"Extensions/Data.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s,i,n,o,a,r){const l=s["getOptions"],u=i["doc"],p=n["ajax"],m=a["seriesTypes"],{addEvent:d,defined:T,extend:h,fireEvent:c,isNumber:N,merge:g,objectEach:f,pick:x,splat:R}=r;function y(e){return Boolean(e&&(e.rowsURL||e.csvURL||e.columnsURL))}class C{static data(e,t={},s){return new C(e,t,s)}static rowsToColumns(e){let t,s,i,n,a;if(e)for(a=[],s=e.length,t=0;t<s;t++)for(n=e[t].length,i=0;i<n;i++)a[i]||(a[i]=[]),a[i][t]=e[t][i];return a}constructor(e,t={},s){this.rowsToColumns=C.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})[\-\/\.](\d{1,2})[\-\/\.](\d{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],+e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(e){return e?Date.UTC(+e[3],+e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(e){return e?Date.UTC(+e[3],+e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(e){if(!e)return NaN;const t=new Date;let s=+e[3];return s>t.getFullYear()-2e3?s+=1900:s+=2e3,Date.UTC(s,+e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,+e[1]-1,+e[2]):NaN}}},this.chart=s,this.chartOptions=t,this.options=e,this.rawColumns=[],this.init(e,t,s)}init(e,t,s){let i=e.decimalPoint,n;t&&(this.chartOptions=t),s&&(this.chart=s),"."!==i&&","!==i&&(i=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=x(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=i&&new RegExp("^(-?[0-9]+)"+i+"([0-9]+)$"),void 0!==this.liveDataTimeout&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),n=!y(e)),!(n=(n=(n=(n=n||this.fetchLiveData())||Boolean(this.parseCSV().length))||Boolean(this.parseTable().length))||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete(this)}getColumnDistribution(){function r(e="line"){return(m[e].prototype.pointArrayMap||[0]).length}function l(e="line"){return m[e].prototype.pointArrayMap}const u=this.chartOptions,e=this.options,t=[],d=u?.chart?.type,h=[],c=[],s=e?.seriesMapping||u?.series?.map(function(){return{x:0}})||[];let p=0,i=((u?.series||[]).forEach(e=>{h.push(r(e.type||d))}),s.forEach(e=>{t.push(e.x||0)}),0===t.length&&t.push(0),s.forEach(e=>{const s=new v,t=h[p]||r(d),i=u?.series??[],n=i[p]??{},a=l(n.type||d),o=a??["y"];!T(e.x)&&!n.isCartesian&&a||s.addColumnReader(e.x,"x"),f(e,function(e,t){"x"!==t&&s.addColumnReader(e,t)});for(let e=0;e<t;e++)s.hasReader(o[e])||s.addColumnReader(void 0,o[e]);c.push(s),p++}),l(d));void 0===i&&(i=["y"]),this.valueCount={global:r(d),xColumns:t,individual:h,seriesBuilders:c,globalPointArrayMap:i}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()}parseCSV(e){const h=this,m=this.columns=[],f=e||this.options,g=f.startColumn||0,x=f.endColumn||Number.MAX_VALUE,y=[],u={",":0,";":0,"\t":0};let t=f.csv,s=f.startRow||0,i=f.endRow||Number.MAX_VALUE,C,n,a=0;if(t=t&&f.beforeParse?f.beforeParse.call(this,t):t){n=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(f.lineDelimiter||"\n"),(!s||s<0)&&(s=0),(!i||i>=n.length)&&(i=n.length-1),C=f.itemDelimiter||function(e){let r=0,l=0,t=!1;return e.some(function(t,e){let s=!1,i,n,a,o="";if(13<e)return!0;for(let e=0;e<t.length;e++){if(i=t[e],n=t[e+1],a=t[e-1],"#"===i)return;if('"'===i)if(s){if('"'!==a&&'"'!==n){for(;" "===n&&e<t.length;)n=t[++e];void 0!==u[n]&&u[n]++,s=!1}}else s=!0;else void 0!==u[i]?(o=o.trim(),isNaN(Date.parse(o))&&!isNaN(o)&&isFinite(o)||u[i]++,o=""):o+=i;","===i&&l++,"."===i&&r++}}),t=u[";"]>u[","]?";":(u[","],u[";"],","),f.decimalPoint||(r>l?f.decimalPoint=".":f.decimalPoint=",",h.decimalRegex=new RegExp("^(-?[0-9]+)"+f.decimalPoint+"([0-9]+)$")),t}(n);let e=0;for(a=s;a<=i;a++)"#"===n[a][0]?e++:function(t,e,s,i){let n=0,a="",o="",r="",l="",u=0,d=0;function h(e){a=t[e],o=t[e-1],r=t[e+1]}function c(e){y.length<d+1&&y.push([e]),y[d][y[d].length-1]!==e&&y[d].push(e)}function p(){if(g>u||u>x)return++u,void(l="");f.columnTypes||(!isNaN(parseFloat(l))&&isFinite(l)?(l=parseFloat(l),c("number")):isNaN(Date.parse(l))?c("string"):(l=l.replace(/\//g,"-"),c("date"))),m.length<d+1&&m.push([]),s||(m[d][e]=l),l="",++d,++u}if(t.trim().length&&"#"!==t.trim()[0]){for(;n<t.length;n++)if(h(n),'"'===a)for(h(++n);n<t.length&&('"'!==a||'"'===o||'"'===r);)('"'!==a||'"'===a&&'"'!==o)&&(l+=a),h(++n);else i?.[a]?i[a](a,l)&&p():a===C?p():l+=a;p()}}(n[a],a-s-e);f.columnTypes&&0!==f.columnTypes.length||!y.length||!y[0].length||"date"!==y[0][1]||f.dateFormat||(f.dateFormat=function(e,t){const s="YYYY/mm/dd",i=[],n=[];let a,o=[],r,l=0,u=!1,d;for((!t||t>e.length)&&(t=e.length);l<t;l++)if(void 0!==e[l]&&e[l]?.length)for(a=e[l].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),o=["","",""],d=0;d<a.length;d++)d<o.length&&(a[d]=parseInt(a[d],10),a[d]&&(n[d]=(!n[d]||n[d]<a[d]?a:n)[d],void 0!==i[d]?i[d]!==a[d]&&(i[d]=!1):i[d]=a[d],31<a[d]?a[d]<100?o[d]="YY":o[d]="YYYY":12<a[d]&&a[d]<=31?(o[d]="dd",u=!0):o[d].length||(o[d]="mm")));if(u){for(d=0;d<i.length;d++)!1!==i[d]?12<n[d]&&"YY"!==o[d]&&"YYYY"!==o[d]&&(o[d]="YY"):12<n[d]&&"mm"===o[d]&&(o[d]="dd");return(3===o.length&&"dd"===o[1]&&"dd"===o[2]&&(o[2]="YY"),r=o.join("/"),(f.dateFormats||h.dateFormats)[r])?r:(c(h,"deduceDateFailed"),s)}return s}(m[0])),this.dataFound()}return m}parseTable(){const t=this.options,a=this.columns||[],o=t.startRow||0,s=t.endRow||Number.MAX_VALUE,r=t.startColumn||0,l=t.endColumn||Number.MAX_VALUE;if(t.table){let e=t.table;"string"==typeof e&&(e=u.getElementById(e)),[].forEach.call(e.getElementsByTagName("tr"),(e,n)=>{n>=o&&n<=s&&[].forEach.call(e.children,(e,t)=>{const s=a[t-r];let i=1;if(("TD"===e.tagName||"TH"===e.tagName)&&t>=r&&t<=l)for(a[t-r]||(a[t-r]=[]),a[t-r][n-o]=e.innerHTML;n-o>=i&&void 0===s[n-o-i];)s[n-o-i]=null,i++})}),this.dataFound()}return a}fetchLiveData(){const o=this,r=this.chart,l=this.options,u=3,d=l.enablePolling,t=g(l);let h=0,c=1e3*(l.dataRefreshRate||2);return!!y(l)&&(c<1e3&&(c=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function n(a){function e(e,t,s){if(e&&/^(http|\/|\.\/|\.\.\/)/.test(e))return a&&(clearTimeout(o.liveDataTimeout),r.liveDataURL=e),p({url:e,dataType:s||"json",success:function(e){r?.series&&t(e),i()},error:function(e,t){return++h<u&&i(),l.error?.(t,e)}}),1;function i(){d&&r.liveDataURL===e&&(o.liveDataTimeout=setTimeout(n,c))}e&&l.error&&l.error("Invalid URL")}e(t.csvURL,function(e){r.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){r.update({data:{rows:e}})})||e(t.columnsURL,function(e){r.update({data:{columns:e}})})}(!0),y(l))}parseGoogleSpreadsheet(){const i=this,n=this.options,a=n.googleSpreadsheetKey,o=this.chart,r=Math.max(1e3*(n.dataRefreshRate||2),4e3),l=()=>{if(n.googleSpreadsheetRange)return n.googleSpreadsheetRange;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=(e.charAt(n.startColumn||0)||"A")+((n.startRow||0)+1);let s=e.charAt(x(n.endColumn,-1))||"ZZ";return T(n.endRow)&&(s+=n.endRow+1),t+":"+s};return a&&(delete n.googleSpreadsheetKey,function t(s){var e=["https://sheets.googleapis.com/v4/spreadsheets",a,"values",l(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+n.googleAPIKey].join("/");p({url:e,dataType:"json",success:function(e){s(e),n.enablePolling&&(i.liveDataTimeout=setTimeout(function(){t(s)},r))},error:function(e,t){return n.error?.(t,e)}})}(function(e){const t=e.values;if(!t||0===t.length)return!1;const s=t.reduce((e,t)=>Math.max(e,t.length),0);t.forEach(t=>{for(let e=0;e<s;e++)void 0===t[e]&&(t[e]=null)}),o?.series?o.update({data:{columns:t}}):(i.columns=t,i.dataFound())})),!1}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/[\d\s]+/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e}parseTypes(){var e=this.columns||[];let t=e.length;for(;t--;)this.parseColumn(e[t],t)}parseColumn(e,t){const s=this.rawColumns,i=this.columns=this.columns||[],n=this.firstRowAsNames,a=-1!==this.valueCount?.xColumns.indexOf(t),o=[],r=this.chartOptions,l=this.options.columnTypes||[],u=l[t],d=a&&r?.xAxis&&"category"===R(r.xAxis)[0].type||"string"===u,h=T(e.name);let c=e.length,p,m,f,g,x,y,C;for(s[t]||(s[t]=[]);c--;)p=o[c]||e[c],f=this.trim(p),g=this.trim(p,!0),m=parseFloat(g),void 0===s[t][c]&&(s[t][c]=f),d||0===c&&n&&!h?e[c]=""+f:+g===m?(31536e6<(e[c]=m)&&"float"!==u?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[c+1]&&(C=m>e[c+1])):(f?.length&&(x=this.parseDate(p)),a&&N(x)&&"float"!==u?(o[c]=p,e[c]=x,e.isDatetime=!0,void 0!==e[c+1]&&((y=x>e[c+1])!==C&&void 0!==C&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,c=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),C=y)):(e[c]=""===f?null:f,0!==c&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)));if(a&&e.mixed&&(i[t]=s[t]),a&&C&&this.options.sort)for(t=0;t<i.length;t++){var v;i[t].reverse(),!n||(v=i[t].pop())&&i[t].unshift(v)}}parseDate(e){const t=this.options.parseDate;let s,i,n,a=this.options.dateFormat||this.dateFormat,o;if(t)s=t(e);else if("string"==typeof e){if(a)n=(n=this.dateFormats[a])||this.dateFormats["YYYY/mm/dd"],(o=e.match(n.regex))&&(s=n.parser(o));else for(i in this.dateFormats)if(n=this.dateFormats[i],o=e.match(n.regex)){this.dateFormat=a=i,this.alternativeFormat=n.alternative,s=n.parser(o);break}o||(e.match(/:.+(GMT|UTC|[Z+\-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+\-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+\-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(o=Date.parse(e))&&null!==o&&o.getTime?s=o.getTime()-6e4*o.getTimezoneOffset():N(o)&&(s=o-6e4*new Date(o).getTimezoneOffset()))}return s}getData(){if(this.columns)return this.rowsToColumns(this.columns)?.slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){const e=this.columns=this.columns||[],t=this.options,s=[];let i="linear",n,a,o,r,l,u,d,h,c,p,m;if(e.length,t.complete||t.afterComplete){if(this.firstRowAsNames)for(o=0;o<e.length;o++){const f=e[o];T(f.name)||(f.name=x(f.shift(),"").toString())}for(n=[],c=function(e,t){const s=[],i=[];let n,a,o;for(a=0;a<e;a+=1)s.push(!0);for(n=0;n<t.length;n+=1)for(o=t[n].getReferencedColumnIndexes(),a=0;a<o.length;a+=1)s[o[a]]=!1;for(a=0;a<s.length;a+=1)s[a]&&i.push(a);return i}(e?.length||0,this.valueCount.seriesBuilders),u=0;u<this.valueCount.seriesBuilders.length;u++)(h=this.valueCount.seriesBuilders[u]).populateColumns(c)&&s.push(h);for(;0<c.length;){for((h=new v).addColumnReader(0,"x"),-1!==(m=c.indexOf(0))&&c.splice(m,1),o=0;o<this.valueCount.global;o++)h.addColumnReader(void 0,this.valueCount.globalPointArrayMap[o]);h.populateColumns(c)&&s.push(h)}if(0<s.length&&0<s[0].readers.length&&void 0!==(p=e?.[s[0].readers[0].columnIndex??-1])&&(p.isDatetime?i="datetime":p.isNumeric||(i="category")),"category"===i)for(u=0;u<s.length;u++)for(h=s[u],l=0;l<h.readers.length;l++)"x"===h.readers[l].configName&&(h.readers[l].configName="name");for(u=0;u<s.length;u++){for(h=s[u],a=[],r=0;r<e[0].length;r++)a[r]=h.read(e,r);n[u]={data:a,pointStart:a[0]&&(h.pointIsArray?a[0]?.[0]:a[0]?.x)||void 0},h.name&&(n[u].name=h.name),"category"===i&&(n[u].turboThreshold=0,n[u].pointStart=0)}d={series:n},"linear"!==i||this.xAxisOptions&&this.xAxisOptions.type!==i?(this.xAxisOptions={type:i},"category"===i&&(this.xAxisOptions.uniqueNames=!1)):i=this.xAxisOptions=void 0,this.chart||g(!0,d,{xAxis:this.xAxisOptions||{}}),t.complete?.(d),t.afterComplete?.(this,d)}}xAxisUpdateHandler(e){var t=this.xAxisOptions;t&&(!e.options.type&&t.type&&(e.type=t.type),e.options.uniqueNames||!1!==t.uniqueNames||(e.uniqueNames=t.uniqueNames))}update(e,n){const a=this.chart,t=a.options;e&&(e.afterComplete=function(e,t){if(t){const s=a.xAxis[0],i=e.xAxisOptions;i&&s&&(s.type!==i.type&&!s.options.type||s.uniqueNames&&!1===i.uniqueNames&&void 0===s.options.uniqueNames)?s.update({},!1):(t?.series||[]).forEach(function(e){delete e.pointStart}),a.update(t,n,!0)}},g(!0,t.data,e),t.data?.googleSpreadsheetKey&&!e.columns&&delete t.data.columns,this.init(t.data||{},t))}}d(e,"afterSetOptions",function(){!this.isXAxis||this.chart.xAxis.length&&this.chart.xAxis[0]!==this||this.chart.data?.xAxisUpdateHandler(this)}),d(t,"init",function(e){const n=this,a=e.args[1],t=l().data;let o=e.args[0]||{};var s;(t||o&&o.data)&&!n.hasDataDef&&(n.hasDataDef=!0,s=g(t,o.data),n.data=new C(h(s,{afterComplete:function(e,t){let s,i;if(Object.hasOwnProperty.call(o,"series"))if("object"==typeof o.series)for(s=Math.max(o.series.length,t?.series?.length??0);s--;)i=o.series[s]||{},o.series[s]=g(i,t?.series?.[s]??{});else delete o.series;o=g(t,o),n.data=e,n.init(o,a)}}),o,n),e.preventDefault())});class v{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(t){let s=!0;return this.readers.forEach(e=>{void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(e=>{void 0===e.columnIndex&&(s=!1)}),s}read(s,i){const n=this.pointIsArray,a=n?[]:{};if(this.readers.forEach(e=>{var t=s[e.columnIndex][i];n?a.push(t):0<e.configName.indexOf(".")?o.prototype.setNestedProperty(a,t,e.configName):a[e.configName]=t}),void 0===this.name&&2<=this.readers.length){const t=[];this.readers.forEach(function(e){"x"!==e.configName&&"name"!==e.configName&&"y"!==e.configName||void 0!==e.columnIndex&&t.push(e.columnIndex)}),2<=t.length&&(t.shift(),t.sort(function(e,t){return e-t})),this.name=s[x(t.shift(),0)].name}return a}addColumnReader(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)}getReferencedColumnIndexes(){const e=[];let t,s;for(t=0;t<this.readers.length;t+=1)void 0!==(s=this.readers[t]).columnIndex&&e.push(s.columnIndex);return e}hasReader(e){let t;for(t=0;t<this.readers.length;t+=1)if(this.readers[t].configName===e)return!0}}return C}),t(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],function(e,t,s){const i=e;return i.Data=i.Data||s,i.HttpUtilities=i.HttpUtilities||t,i.ajax=i.HttpUtilities.ajax,i.data=i.Data.data,i.getJSON=i.HttpUtilities.getJSON,i.post=i.HttpUtilities.post,e})});