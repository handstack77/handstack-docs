!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var t=r?r._modules:{};function e(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){const{isSafari:a,win:l,win:{document:s}}=t,r=l.URL||l.webkitURL||l;function c(t){t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(t&&3<t.length&&l.atob&&l.ArrayBuffer&&l.Uint8Array&&l.Blob&&r.createObjectURL){const e=l.atob(t[3]),o=new l.ArrayBuffer(e.length),n=new l.Uint8Array(o);for(let t=0;t<n.length;++t)n[t]=e.charCodeAt(t);return r.createObjectURL(new l.Blob([n],{type:t[1]}))}}return{dataURLtoBlob:c,downloadURL:function(t,e){const o=l.navigator,n=s.createElement("a");if("string"==typeof t||t instanceof String||!o.msSaveOrOpenBlob){if(t=""+t,1e3<o.userAgent.length)throw new Error("Input too long");var r=/Edge\/\d+/.test(o.userAgent),i=a&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((i||r||2e6<t.length)&&!(t=c(t)||""))throw new Error("Failed to convert to blob");if(void 0!==n.download)n.href=t,n.download=e,s.body.appendChild(n),n.click(),s.body.removeChild(n);else try{if(!l.open(t,"chart"))throw new Error("Failed to open window")}catch{l.location.href=t}}else o.msSaveOrOpenBlob(t,e)}}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.4.8/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(r,t,e,o,i,a,n,l,s){const x=e["defaultOptions"],w=o["downloadURL"],{doc:v,win:b}=a,E=n["ajax"],{addEvent:u,error:c,extend:d,fireEvent:f,merge:g}=s;var h,L;function p(t,e){const o=this,n=g(o.options.exporting,t),r=function(t){!1===n.fallbackToExportServer?n.error?n.error(n,t):c(28,!0):o.exportChart(n)};a.isMS&&o.styledMode&&!i.inlineAllowlist.length&&i.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===n.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==n.type)||"application/pdf"===n.type&&[].some.call(o.container.getElementsByTagName("image"),function(t){const e=t.getAttribute("href");return""!==e&&"string"==typeof e&&0!==e.indexOf("data:")})?r(new Error("Image type not supported for this chart/browser.")):o.getSVGForLocalExport(n,e||{},r,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==n.type&&(a.isMS||"application/pdf"===n.type)?r(new Error("Image type not supported for charts with embedded HTML")):L.downloadSVGLocal(t,d({filename:o.getFilename()},n),r,()=>f(o,"exportChartLocalSuccess"))})}function C(t,e){const o=v.getElementsByTagName("head")[0],n=v.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,n.onerror=function(){c("Error loading script "+t)},o.appendChild(n)}function m(e,t,o,n){const r=this,i=t=>r.sanitizeSVG(t,d),a=()=>{g&&p===h&&n(i(c.innerHTML))},l=(t,e,o)=>{++p,o.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),a()};let s,c,d,f,g,h=0,p=0;r.unbindGetSVG=u(r,"getSVG",t=>{d=t.chartCopy.options,c=t.chartCopy.container.cloneNode(!0),g=c&&c.getElementsByTagName("image")||[],h=g.length}),r.getSVGForExport(e,t);try{if(!g||!g.length)return void n(i(c.innerHTML));for(let t=0;t<g.length;t++)s=g[t],(f=s.getAttributeNS("http://www.w3.org/1999/xlink","href"))?L.imageToDataUrl(f,"image/png",{imageElement:s},e.scale,l,o,o,o):(p++,s.parentNode.removeChild(s),t--,a())}catch(t){o(t)}r.unbindGetSVG()}function S(n,r,i,a,l,t,s,e,c){let d=new b.Image,f;const o=()=>{setTimeout(function(){const t=v.createElement("canvas"),e=t.getContext&&t.getContext("2d");var o;try{if(e){t.height=d.height*a,t.width=d.width*a,e.drawImage(d,0,0,t.width,t.height);try{o=t.toDataURL(r),l(o,r,i,a)}catch(t){f(n,r,i,a)}}else s(n,r,i,a)}finally{c&&c(n,r,i,a)}},L.loadEventDeferDelay)},g=()=>{e(n,r,i,a),c&&c(n,r,i,a)};f=()=>{d=new b.Image,f=t,d.crossOrigin="Anonymous",d.onload=o,d.onerror=g,d.src=n},d.onload=o,d.onerror=g,d.src=n}function j(t){const e=b.navigator.userAgent;var o=-1<e.indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!o&&-1===t.indexOf("<foreignObject"))return L.domurl.createObjectURL(new b.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,o,n){const r=(Number(t.getAttribute("width"))+2*e)*o,i=(Number(t.getAttribute("height"))+2*e)*o,a=new b.jspdf.jsPDF(r<i?"p":"l","pt",[r,i]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});var l=t.querySelectorAll("linearGradient");for(let e=0;e<l.length;e++){const s=l[e],c=s.querySelectorAll("stop");let t=0;for(;t<c.length&&"0"===c[t].getAttribute("offset")&&"0"===c[t+1].getAttribute("offset");)c[t].remove(),t++}[].forEach.call(t.querySelectorAll("tspan"),t=>{"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),a.svg(t,{x:0,y:0,width:r,height:i,removeInvalid:!0}).then(()=>n(a.output("datauristring")))}return r.allowedAttributes.push("data-z-index","fill-opacity","filter","rx","ry","stroke-dasharray","stroke-linejoin","stroke-opacity","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),r.allowedTags.push("desc","clippath","g"),(L=h=h||{}).CanVGRenderer={},L.domurl=b.URL||b.webkitURL||b,L.loadEventDeferDelay=a.isMS?150:0,L.compose=function(t){const e=t.prototype;return e.exportChartLocal||(e.getSVGForLocalExport=m,e.exportChartLocal=p,g(!0,x.exporting,l)),t},L.downloadSVGLocal=function(d,t,f,g){const h=v.createElement("div"),l=t.type||"image/png",p=(t.filename||"chart")+"."+("image/svg+xml"===l?"svg":l.split("/")[1]),u=t.scale||1;let e,o,s,c=t.libURL||x.exporting.libURL,m=!0,y=t.pdfFont;c="/"!==c.slice(-1)?c+"/":c;const n=()=>{r.setElementHTML(h,d);const t=h.getElementsByTagName("text");let e,o;[].forEach.call(t,function(r){for(["fontFamily","fontSize"].forEach(t=>{{var o=r,n=t;let e=o;for(;e&&e!==h;){if(e.style[n]){let t=e.style[n];"fontSize"===n&&/em$/.test(t)&&(t=Math.round(16*parseFloat(t))+"px"),o.style[n]=t;break}e=e.parentNode}return}}),r.style.fontFamily=y&&y.normal?"HighchartsFont":String(r.style.fontFamily&&r.style.fontFamily.split(" ").splice(-1)),e=r.getElementsByTagName("title"),[].forEach.call(e,function(t){r.removeChild(t)}),o=r.getElementsByClassName("highcharts-text-outline");0<o.length;){const t=o[0];t.parentNode&&t.parentNode.removeChild(t)}});const n=h.querySelector("svg");if(n){var i=n;var a=()=>{U(n,0,u,t=>{try{w(t,p),g&&g()}catch(t){f(t)}})};const l=(t,e)=>{b.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])},s=(y&&!/[^\u0000-\u007F\u200B]+/.test(i.textContent||"")&&(y=void 0),["normal","italic","bold","bolditalic"]);let r;const c=()=>{const n=s.shift();if(!n)return a();var t=y&&y[n];t?E({url:t,responseType:"blob",success:(t,e)=>{const o=new FileReader;o.onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],l(n,t),"normal"===n&&(r=t)),c()},o.readAsDataURL(e.response)},error:c}):(r&&l(n,r),c())};c()}};if("image/svg+xml"===l)try{e=void 0!==b.MSBlobBuilder?((o=new b.MSBlobBuilder).append(d),o.getBlob("image/svg+xml")):j(d),w(e,p),g&&g()}catch(t){f(t)}else"application/pdf"===l?b.jspdf&&b.jspdf.jsPDF?n():(m=!0,C(c+"jspdf.js",function(){C(c+"svg2pdf.js",n)})):(e=j(d),s=function(){try{L.domurl.revokeObjectURL(e)}catch(t){}},S(e,l,{},u,function(t){try{w(t,p),g&&g()}catch(t){f(t)}},function(){if(1e8<d.length)throw new Error("Input too long");const e=v.createElement("canvas"),o=e.getContext("2d"),t=d.match(/^<svg[^>]*\s{,1000}width\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/),n=d.match(/^<svg[^>]*\s{0,1000}height\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/);var r,i,a;o&&t&&n&&(r=+t[1]*u,i=+n[1]*u,a=()=>{const t=b.canvg.Canvg.fromString(o,d);t.start();try{w(b.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(l),p),g&&g()}catch(t){f(t)}finally{s()}},e.width=r,e.height=i,b.canvg?a():(m=!0,C(c+"canvg.js",a)))},f,f,function(){m&&s()}))},L.getScript=C,L.imageToDataUrl=S,L.svgToDataUrl=j,L.svgToPdf=U,h}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/DownloadURL.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e,o){const n=t;return n.dataURLtoBlob=n.dataURLtoBlob||e.dataURLtoBlob,n.downloadSVGLocal=o.downloadSVGLocal,n.downloadURL=n.downloadURL||e.downloadURL,o.compose(n.Chart),t})});