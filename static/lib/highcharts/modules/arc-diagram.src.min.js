!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("modules/arc-diagram",["highcharts/modules/sankey"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(r){"use strict";var t=r?r._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&r.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/ArcDiagram/ArcDiagramPoint.js",[t["Series/NodesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var{prototype:{pointClass:e}}=e["seriesTypes"]["sankey"];const s=i["extend"];class r extends e{isValid(){return!0}}return s(r.prototype,{setState:t.setNodeState}),r}),e(t,"Series/ArcDiagram/ArcDiagramSeriesDefaults.js",[],function(){return{centeredLinks:!1,equalNodes:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{fillOpacity:1,lineWidth:0,states:{},symbol:"circle"},offset:"100%",reversed:!1}}),e(t,"Core/Foundation.js",[t["Core/Utilities.js"]],function(t){const{addEvent:s,isFunction:r,objectEach:e,removeEvent:o}=t;var i;return(i||(i={})).registerEventOptions=function(i,t){i.eventOptions=i.eventOptions||{},e(t.events,function(t,e){i.eventOptions[e]!==t&&(i.eventOptions[e]&&(o(i,e,i.eventOptions[e]),delete i.eventOptions[e]),r(t)&&(i.eventOptions[e]=t,s(i,e,t,{order:0})))})},i}),e(t,"Core/Legend/LegendSymbol.js",[t["Core/Utilities.js"]],function(t){const{extend:x,merge:b,pick:v}=t;var e;function i(t,e,i){const s=this.legendItem=this.legendItem||{},{chart:r,options:o}=this,{baseline:a=0,symbolWidth:n,symbolHeight:h}=t,l=this.symbol||"circle",d=h/2,c=r.renderer,p=s.group,g=a-Math.round((t.fontMetrics?.b||h)*(i?.4:.3)),u={};let m,f=o.marker,y=0;if(r.styledMode||(u["stroke-width"]=Math.min(o.lineWidth||0,24),o.dashStyle?u.dashstyle=o.dashStyle:"square"!==o.linecap&&(u["stroke-linecap"]="round")),s.line=c.path().addClass("highcharts-graph").attr(u).add(p),i&&(s.area=c.path().addClass("highcharts-area").add(p)),u["stroke-linecap"]&&(y=Math.min(s.line.strokeWidth(),n)/2),n&&(t=[["M",y,g],["L",n-y,g]],s.line.attr({d:t}),s.area?.attr({d:[...t,["L",n-y,a],["L",y,a]]})),f&&!1!==f.enabled&&n){let t=Math.min(v(f.radius,d),d);0===l.indexOf("url")&&(f=b(f,{width:h,height:h}),t=0),s.symbol=m=c.symbol(l,n/2-t,g-t,2*t,2*t,x({context:"legend"},f)).addClass("highcharts-point").add(p),m.isMarker=!0}}return(t=e=e||{}).areaMarker=function(t,e){i.call(this,t,e,!0)},t.lineMarker=i,t.rectangle=function(t,e){const i=e.legendItem||{},s=t.options,r=t.symbolHeight,o=s.squareSymbol,a=o?r:t.symbolWidth;i.symbol=this.chart.renderer.rect(o?(t.symbolWidth-r)/2:0,t.baseline-r+1,a,r,v(t.options.symbolRadius,r/2)).addClass("highcharts-point").attr({zIndex:3}).add(i.group)},e}),e(t,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const t=this.series.chart["numberFormatter"];return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),e(t,"Core/Series/Series.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,e,i,s,r,l,o,a,d,c){const{animObject:p,setAnimation:g}=t,u=e["defaultOptions"],n=i["registerEventOptions"],{svg:m,win:f}=s,x=a["seriesTypes"],{arrayMax:k,arrayMin:A,clamp:w,correctFloat:D,crisp:y,defined:M,destroyObjectProperties:N,diffObjects:I,erase:b,error:O,extend:v,find:W,fireEvent:L,getClosestDistance:G,getNestedProperty:h,insertItem:S,isArray:E,isNumber:T,isString:X,merge:P,objectEach:C,pick:j,removeEvent:z,splat:V,syncTimeout:B}=c;class R{constructor(){this.zoneAxis="y"}init(t,e){L(this,"init",{options:e});const i=this,s=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e);var e=i.options,r=!1!==e.visible,r=(i.linkedSeries=[],i.bindAxes(),v(i,{name:e.name,state:"",visible:r,selected:!0===e.selected}),n(this,e),e.events);(r&&r.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach(function(t){i[t+"Data"]||(i[t+"Data"]=[])}),i.isCartesian&&(t.hasCartesianSeries=!0);let o;s.length&&(o=s[s.length-1]),i._i=j(o&&o._i,-1)+1,i.opacity=i.options.opacity,t.orderItems("series",S(this,s)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),L(this,"afterInit")}is(t){return x[t]&&this instanceof x[t]}bindAxes(){const i=this,s=i.options,t=i.chart;let r;L(this,"bindAxes",null,function(){(i.axisTypes||[]).forEach(function(e){(t[e]||[]).forEach(function(t){r=t.options,(j(s[e],0)===t.index||void 0!==s[e]&&s[e]===r.id)&&(S(i,t.series),(i[e]=t).isDirty=!0)}),i[e]||i.optionalAxis===e||O(18,!0,t)})}),L(this,"afterBindAxes")}updateParallelArrays(i,s,e){const r=i.series,t=T(s)?function(t){var e="y"===t&&r.toYData?r.toYData(i):i[t];r[t+"Data"][s]=e}:function(t){Array.prototype[s].apply(r[t+"Data"],e)};r.parallelArrays.forEach(t)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length}hasMarkerChanged(t,e){t=t.marker,e=e.marker||{};return t&&(e.enabled&&!t.enabled||e.symbol!==t.symbol||e.height!==t.height||e.width!==t.width)}autoIncrement(t){const e=this.options,i=e.pointIntervalUnit,s=e.relativeXValue,r=this.chart.time;let o=this.xIncrement,a,n;return o=j(o,e.pointStart,0),this.pointInterval=n=j(this.pointInterval,e.pointInterval,1),s&&T(t)&&(n*=t),i&&(a=new r.Date(o),"day"===i?r.set("Date",a,r.get("Date",a)+n):"month"===i?r.set("Month",a,r.get("Month",a)+n):"year"===i&&r.set("FullYear",a,r.get("FullYear",a)+n),n=a.getTime()-o),s&&T(t)?o+n:(this.xIncrement=o+n,o)}setDataSortingOptions(){const t=this.options;v(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),M(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,i=e.options.plotOptions,s=e.userOptions||{},t=P(t),r=e.styledMode,o={plotOptions:i,userOptions:t};let a;L(this,"setOptions",o);var n=o.plotOptions[this.type],s=s.plotOptions||{},h=s.series||{},l=u.plotOptions[this.type]||{},d=s[this.type]||{};this.userOptions=o.userOptions;const c=P(n,i.series,d,t),p=(this.tooltipOptions=P(u.tooltip,u.plotOptions.series?.tooltip,l?.tooltip,e.userOptions.tooltip,s.series?.tooltip,d.tooltip,t.tooltip),this.stickyTracking=j(t.stickyTracking,d.stickyTracking,h.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||c.stickyTracking),null===n.marker&&delete c.marker,this.zoneAxis=c.zoneAxis||"y",this.zones=(c.zones||[]).map(t=>({...t})));return!c.negativeColor&&!c.negativeFillColor||c.zones||(a={value:c[this.zoneAxis+"Threshold"]||c.threshold||0,className:"highcharts-negative"},r||(a.color=c.negativeColor,a.fillColor=c.negativeFillColor),p.push(a)),p.length&&M(p[p.length-1].value)&&p.push(r?{}:{color:this.color,fillColor:this.fillColor}),L(this,"afterSetOptions",{options:c}),c}getName(){return j(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){const s=this.chart,r=t+"Index",o=t+"Counter",a=i?.length||s.options.chart.colorCount;let n,h;e||(h=j("color"===t?this.options.colorIndex:void 0,this[r]),M(h)?n=h:(s.series.length||(s[o]=0),n=s[o]%a,s[o]+=1),i&&(e=i[n])),void 0!==n&&(this[r]=n),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}findPointIndex(e,t){var i=e.id,s=e.x,r=this.points,o=this.options.dataSorting;let a,n,h;if(i){i=this.chart.get(i);i instanceof l&&(a=i)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let t=t=>!t.touched&&t.index===e.index;if(o&&o.matchByName?t=t=>!t.touched&&t.name===e.name:this.options.relativeXValue&&(t=t=>!t.touched&&t.options.x===e.x),!(a=W(r,t)))return}return a&&void 0!==(h=a&&a.index)&&(n=!0),-1!==(h=void 0===h&&T(s)?this.xData.indexOf(s,t):h)&&void 0!==h&&this.cropped&&(h=h>=this.cropStart?h-this.cropStart:h),h=!n&&T(h)&&r[h]&&r[h].touched?void 0:h}updateData(t,e){const r=this.options,o=r.dataSorting,a=this.points,n=[],h=this.requireSorting,l=t.length===a.length;let d,i,s,c,p=!0;if(this.xIncrement=null,t.forEach(function(t,e){var i=M(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},s=i.x;i.id||T(s)?(-1===(s=this.findPointIndex(i,c))||void 0===s?n.push(t):a[s]&&t!==r.data[s]?(a[s].update(t,!1,null,!1),a[s].touched=!0,h&&(c=s+1)):a[s]&&(a[s].touched=!0),(!l||e!==s||o&&o.enabled||this.hasDerivedData)&&(d=!0)):n.push(t)},this),d)for(i=a.length;i--;)(s=a[i])&&!s.touched&&s.remove&&s.remove(!1,e);else!l||o&&o.enabled?p=!1:(t.forEach(function(t,e){t===a[e].y||a[e].destroyed||a[e].update(t,!1,null,!1)}),n.length=0);return a.forEach(function(t){t&&(t.touched=!1)}),!!p&&(n.forEach(function(t){this.addPoint(t,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=k(this.xData),this.autoIncrement()),!0)}setData(e,t=!0,i,s){const r=this,o=r.points,a=o&&o.length||0,n=r.options,h=r.chart,l=n.dataSorting,d=r.xAxis,c=n.turboThreshold,p=this.xData,g=this.yData,u=r.pointArrayMap,m=u&&u.length,f=n.keys;let y,x,b,v=0,S=1,C;h.options.chart.allowMutatingData||(n.data&&delete r.options.data,r.userOptions.data&&delete r.userOptions.data,C=P(!0,e));var k=(e=C||e||[]).length;if(l&&l.enabled&&(e=this.sortData(e)),!(b=h.options.chart.allowMutatingData&&!1!==s&&k&&a&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.boosted?this.updateData(e,i):b)){r.xIncrement=null,r.colorCounter=0,this.parallelArrays.forEach(function(t){r[t+"Data"].length=0});let t=c&&c<k;if(t){var s=r.getFirstValidPoint(e),A=r.getFirstValidPoint(e,k-1,-1),w=t=>Boolean(E(t)&&(f||T(t[0])));if(T(s)&&T(A))for(y=0;y<k;y++)p[y]=this.autoIncrement(),g[y]=e[y];else if(w(s)&&w(A))if(m)if(s.length===m)for(y=0;y<k;y++)p[y]=this.autoIncrement(),g[y]=e[y];else for(y=0;y<k;y++)x=e[y],p[y]=x[0],g[y]=x.slice(1,m+1);else if(f&&(v=f.indexOf("x"),S=f.indexOf("y"),v=0<=v?v:0,S=0<=S?S:1),1===s.length&&(S=0),v===S)for(y=0;y<k;y++)p[y]=this.autoIncrement(),g[y]=e[y][S];else for(y=0;y<k;y++)x=e[y],p[y]=x[v],g[y]=x[S];else t=!1}if(!t)for(y=0;y<k;y++)x={series:r},r.pointClass.prototype.applyOptions.apply(x,[e[y]]),r.updateParallelArrays(x,y);for(g&&X(g[0])&&O(14,!0,h),r.data=[],r.options.data=r.userOptions.data=e,y=a;y--;)o[y]?.destroy();d&&(d.minRange=d.userMinRange),r.isDirty=h.isDirtyBox=!0,r.isDirtyData=!!o,i=!1}"point"===n.legendType&&(this.processData(),this.generatePoints()),t&&h.redraw(i)}sortData(r){function o(t,e){return M(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}}const i=this,t=i.options,e=t.dataSorting,s=e.sortKey||"y",a=(r.forEach(function(t,e){r[e]=o(i,t),r[e].index=e},this),r.concat().sort((t,e)=>{t=h(s,t),e=h(s,e);return e<t?-1:t<e?1:0}));return a.forEach(function(t,e){t.x=e},this),i.linkedSeries&&i.linkedSeries.forEach(function(i){const t=i.options,s=t.data;t.dataSorting&&t.dataSorting.enabled||!s||(s.forEach(function(t,e){s[e]=o(i,t),r[e]&&(s[e].x=r[e].x,s[e].index=e)}),i.setData(s,!1))}),r}getProcessedData(t){const e=this,i=e.xAxis,s=e.options,r=s.cropThreshold,o=i?.logarithmic,a=e.isCartesian;let n,h,l=0,d,c,p,g=e.xData,u=e.yData,m=!1;var f=g.length,t=(i&&(d=i.getExtremes(),c=d.min,p=d.max,m=!(!i.categories||i.names.length)),a&&e.sorted&&!t&&(!r||r<f||e.forceCrop)&&(g[f-1]<c||g[0]>p?(g=[],u=[]):e.yData&&(g[0]<c||g[f-1]>p)&&(n=this.cropData(e.xData,e.yData,c,p),g=n.xData,u=n.yData,l=n.start,h=!0)),G([o?g.map(o.log2lin):g],()=>e.requireSorting&&!m&&O(15,!1,e.chart)));return{xData:g,yData:u,cropped:h,cropStart:l,closestPointRange:t}}processData(t){var e=this,i=e.xAxis;if(e.isCartesian&&!e.isDirty&&!i.isDirty&&!e.yAxis.isDirty&&!t)return!1;i=e.getProcessedData();e.cropped=i.cropped,e.cropStart=i.cropStart,e.processedXData=i.xData,e.processedYData=i.yData,e.closestPointRange=e.basePointRange=i.closestPointRange,L(e,"afterProcessData")}cropData(t,e,i,s){var r=t.length;let o,a,n=0,h=r;for(o=0;o<r;o++)if(t[o]>=i){n=Math.max(0,o-1);break}for(a=o;a<r;a++)if(t[a]>s){h=a+1;break}return{xData:t.slice(n,h),yData:e.slice(n,h),start:n,end:h}}generatePoints(){const t=this,e=t.options,i=t.processedData||e.data,s=t.processedXData,r=t.processedYData,o=t.pointClass,a=s.length,n=t.cropStart||0,h=t.hasGroupedData,l=e.keys,d=[],c=e.dataGrouping&&e.dataGrouping.groupAll?n:0;let p,g,u,m,f=t.data;if(!f&&!h){const y=[];y.length=i.length,f=t.data=y}for(l&&h&&(t.options.keys=!1),m=0;m<a;m++)g=n+m,h?((u=new o(t,[s[m]].concat(V(r[m])))).dataGroup=t.groupMap[c+m],u.dataGroup.options&&(u.options=u.dataGroup.options,v(u,u.dataGroup.options),delete u.dataLabels)):(u=f[g])||void 0===i[g]||(f[g]=u=new o(t,i[g],s[m])),u&&(u.index=h?c+m:g,d[m]=u);if(t.options.keys=l,f&&(a!==(p=f.length)||h))for(m=0;m<p;m++)m!==n||h||(m+=a),f[m]&&(f[m].destroyElements(),f[m].plotX=void 0);t.data=f,t.points=d,L(this,"afterGeneratePoints")}getXExtremes(t){return{min:A(t),max:k(t)}}getExtremes(t,e){const i=this.xAxis,s=this.yAxis,r=[],o=this.requireSorting&&!this.is("column")?1:0,a=!!s&&s.positiveValuesOnly,n=e||this.getExtremesFromAll||this.options.getExtremesFromAll;let{processedXData:h,processedYData:l}=this,d,c,p,g,u,m,f,y=0,x=0,b=0;this.cropped&&n&&(C=this.getProcessedData(!0),h=C.xData,l=C.yData);var v=(t=t||this.stackedYData||l||[]).length,S=h||this.xData;for(i&&(d=i.getExtremes(),y=d.min,x=d.max),m=0;m<v;m++)if(g=S[m],u=t[m],c=(T(u)||E(u))&&((T(u)?0<u:u.length)||!a),p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(S[m+o]||g)>=y&&(S[m-o]||g)<=x,c&&p)if(f=u.length)for(;f--;)T(u[f])&&(r[b++]=u[f]);else r[b++]=u;var C={activeYData:r,dataMin:A(r),dataMax:k(r)};return L(this,"afterGetExtremes",{dataExtremes:C}),C}applyExtremes(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){var s=t.length;let r=e;for(;0<=r&&r<s;){if(M(t[r]))return t[r];r+=i}}translate(){this.processedXData||this.processData(),this.generatePoints();const o=this,t=o.options,a=t.stacking,n=o.xAxis,h=n.categories,l=o.enabledDataSorting,d=o.yAxis,c=o.points,e=c.length,p=o.pointPlacementToXValue(),g=Boolean(p),u=t.threshold,m=t.startFromThreshold?u:0;let f,y,x,b,v=Number.MAX_VALUE;function S(t){return w(t,-1e9,1e9)}for(f=0;f<e;f++){const k=c[f],A=k.x;let t,e,i=k.y,s=k.low;var C=a&&d.stacking?.stacks[(o.negStacks&&i<(m?0:u)?"-":"")+o.stackKey];y=n.translate(A,!1,!1,!1,!0,p),k.plotX=T(y)?D(S(y)):void 0,a&&o.visible&&C&&C[A]&&(b=o.getStackIndicator(b,A,o.index),!k.isNull&&b.key&&(t=C[A],e=t.points[b.key]),t&&E(e)&&(s=e[0],i=e[1],s===m&&b.key===C[A].base&&(s=j(T(u)?u:d.min)),d.positiveValuesOnly&&M(s)&&s<=0&&(s=void 0),k.total=k.stackTotal=j(t.total),k.percentage=M(k.y)&&t.total?k.y/t.total*100:void 0,k.stackY=i,o.irregularWidths||t.setOffset(o.pointXOffset||0,o.barW||0,void 0,void 0,void 0,o.xAxis))),k.yBottom=M(s)?S(d.translate(s,!1,!0,!1,!0)):void 0,o.dataModify&&(i=o.dataModify.modifyValue(i,f));let r;T(i)&&void 0!==k.plotX&&(r=d.translate(i,!1,!0,!1,!0),r=T(r)?S(r):void 0),k.plotY=r,k.isInside=this.isPointInside(k),k.clientX=g?D(n.translate(A,!1,!1,!1,!0,p)):y,k.negative=(k.y||0)<(u||0),k.category=j(h&&h[k.x],k.x),k.isNull||!1===k.visible||(void 0!==x&&(v=Math.min(v,Math.abs(y-x))),x=y),k.zone=this.zones.length?k.getZone():void 0,!k.graphic&&o.group&&l&&(k.isNew=!0)}o.closestPointRangePx=v,L(this,"afterTranslate")}getValidPoints(t,s,r){const o=this.chart;return(t||this.points||[]).filter(function(t){var{plotX:e,plotY:i}=t;return!(!(r||!t.isNull&&T(i))||s&&!o.isInsidePlot(e,i,{inverted:o.inverted}))&&!1!==t.visible})}getClipBox(){var{chart:t,xAxis:e,yAxis:i}=this;let{x:s,y:r,width:o,height:a}=P(t.clipBox);return e&&e.len!==t.plotSizeX&&(o=e.len),i&&i.len!==t.plotSizeY&&(a=i.len),t.inverted&&!this.invertible&&([o,a]=[a,o]),{x:s,y:r,width:o,height:a}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){const{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,r=t.renderer,o=this.getClipBox(),a=this.getSharedClipKey();let n=s[a];n?n.animate(o):s[a]=n=r.clipRect(o),e&&e.clip(!1===this.options.clip?void 0:n),i&&i.clip()}animate(t){const{chart:e,group:i,markerGroup:s}=this,r=e.inverted,o=p(this.options.animation),a=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join(",");let n=e.sharedClips[a],h=e.sharedClips[a+"m"];if(t&&i){const l=this.getClipBox();n?n.attr("height",l.height):(l.width=0,r&&(l.x=e.plotHeight),n=e.renderer.clipRect(l),e.sharedClips[a]=n,t={x:(r,-99),y:(r,-99),width:r?e.plotWidth+199:99,height:r?99:e.plotHeight+199},h=e.renderer.clipRect(t),e.sharedClips[a+"m"]=h),i.clip(n),s?.clip(h)}else if(n&&!n.hasClass("highcharts-animating")){const d=this.getClipBox(),c=o.step;(s?.element.childNodes.length||1<e.series.length)&&(o.step=function(t,e){c&&c.apply(e,arguments),"width"===e.prop&&h?.element&&h.attr(r?"height":"width",t+99)}),n.addClass("highcharts-animating").animate(d,o)}}afterAnimate(){this.setClip(),C(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,L(this,"afterAnimate")}drawPoints(t=this.points){const e=this,i=e.chart,s=i.styledMode,{colorAxis:r,options:o}=e,a=o.marker,n=e[e.specialGroup||"markerGroup"],h=e.xAxis,l=j(a.enabled,!(h&&!h.isRadial)||null,e.closestPointRangePx>=a.enabledThreshold*a.radius);let d,c,p,g,u,m,f;if(!1!==a.enabled||e._hasPointMarkers)for(d=0;d<t.length;d++){var y,x;c=t[d],p=c.graphic,g=p?"animate":"attr",u=c.marker||{},m=!!c.marker,(l&&void 0===u.enabled||u.enabled)&&!c.isNull&&!1!==c.visible?(x=j(u.symbol,e.symbol,"rect"),f=e.markerAttribs(c,c.selected&&"select"),e.enabledDataSorting&&(c.startXPos=h.reversed?-(f.width||0):h.width),y=!1!==c.isInside,!p&&y&&(0<(f.width||0)||c.hasImage)&&(c.graphic=p=i.renderer.symbol(x,f.x,f.y,f.width,f.height,m?u:a).add(n),e.enabledDataSorting&&i.hasRendered&&(p.attr({x:c.startXPos}),g="animate")),p&&"animate"===g&&p[y?"show":"hide"](y).animate(f),p&&(x=e.pointAttribs(c,s||!c.selected?void 0:"select"),s?r&&p.css({fill:x.fill}):p[g](x)),p&&p.addClass(c.getClassName(),!0)):p&&(c.graphic=p.destroy())}}markerAttribs(t,e){const i=this.options,s=i.marker,r=t.marker||{},o=r.symbol||s.symbol,a={};let n,h,l=j(r.radius,s&&s.radius);e&&(n=s.states[e],h=r.states&&r.states[e],l=j(h&&h.radius,n&&n.radius,l&&l+(n&&n.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(l=0);const d=t.pos();return T(l)&&d&&(i.crisp&&(d[0]=y(d[0],t.hasImage?0:"rect"===o?s?.lineWidth||0:1)),a.x=d[0]-l,a.y=d[1]-l),l&&(a.width=a.height=2*l),a}pointAttribs(t,e){var i=this.options.marker,s=t&&t.options,r=s&&s.marker||{},s=s&&s.color,o=t&&t.color,t=t&&t.zone&&t.zone.color;let a,n,h=this.color,l,d,c=j(r.lineWidth,i.lineWidth),p=1;return h=s||t||o||h,l=r.fillColor||i.fillColor||h,d=r.lineColor||i.lineColor||h,(e=e||"normal")&&(a=i.states[e]||{},n=r.states&&r.states[e]||{},c=j(n.lineWidth,a.lineWidth,c+j(n.lineWidthPlus,a.lineWidthPlus,0)),l=n.fillColor||a.fillColor||l,d=n.lineColor||a.lineColor||d,p=j(n.opacity,a.opacity,p)),{stroke:d,"stroke-width":c,fill:l,opacity:p}}destroy(i){const s=this,t=s.chart,r=/AppleWebKit\/533/.test(f.navigator.userAgent),e=s.data||[];let o,a,n,h;for(L(s,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(s.axisTypes||[]).forEach(function(t){(h=s[t])&&h.series&&(b(h.series,s),h.isDirty=h.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),a=e.length;a--;)(n=e[a])&&n.destroy&&n.destroy();for(const l of s.zones)N(l,void 0,!0);c.clearTimeout(s.animationTimeout),C(s,function(t,e){t instanceof d&&!t.survive&&t[o=r&&"group"===e?"hide":"destroy"]()}),t.hoverSeries===s&&(t.hoverSeries=void 0),b(t.series,s),t.orderItems("series"),C(s,function(t,e){i&&"hcEvents"===e||delete s[e]})}applyZones(){const{area:g,chart:t,graph:u,zones:e,points:i,xAxis:m,yAxis:f,zoneAxis:s}=this,{inverted:y,renderer:x}=t,r=this[s+"Axis"],{isXAxis:b,len:a=0}=r||{},n=(u?.strokeWidth()||0)/2+1,o=(t,e=0,i=0)=>{const{translated:s=0,lineClip:r}=t,o=(i=y?a-i:i)-s;r?.push(["L",e,Math.abs(o)<n?i-n*(o<=0?-1:1):s])};if(e.length&&(u||g)&&r&&T(r.min)){const S=r.getExtremes().max,C=i=>{i.forEach((t,e)=>{"M"!==t[0]&&"L"!==t[0]||(i[e]=[t[0],b?a-t[1]:t[1],b?t[2]:a-t[2]])})};if(e.forEach(t=>{t.lineClip=[],t.translated=w(r.toPixels(j(t.value,S),!0)||0,0,a)}),u&&!this.showLine&&u.hide(),g&&g.hide(),"y"===s&&i.length<m.len)for(const k of i){var{plotX:h,plotY:l,zone:d}=k,v=d&&e[e.indexOf(d)-1];d&&o(d,h,l),v&&o(v,h,l)}let c=[],p=r.toPixels(r.getExtremes().min,!0);e.forEach(t=>{const e=t.lineClip||[],i=Math.round(t.translated||0);m.reversed&&e.reverse();let{clip:s,simpleClip:r}=t,o=0,a=0,n=m.len,h=f.len;b?(o=i,n=p):(a=i,h=p);var l=[["M",o,a],["L",n,a],["L",n,h],["L",o,h],["Z"]],d=[l[0],...e,l[1],l[2],...c,l[3],l[4]];c=e.reverse(),p=i,y&&(C(d),g&&C(l)),s?(s.animate({d:d}),r?.animate({d:l})):(s=t.clip=x.path(d),g&&(r=t.simpleClip=x.path(l))),u&&t.graph?.clip(s),g&&t.area?.clip(r)})}else this.visible&&(u&&u.show(),g&&g.show())}plotGroup(t,e,i,s,r){let o=this[t];const a=!o,n={visibility:i,zIndex:s||.1};return M(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(n.opacity=this.opacity),o||(this[t]=o=this.chart.renderer.g().add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(M(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(n)[a?"attr":"animate"](this.getPlotBox(e)),o}getPlotBox(t){let e=this.xAxis,i=this.yAxis;var s=this.chart,t=s.inverted&&!s.polar&&e&&this.invertible&&"series"===t;return s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-i.len)/2:0,rotationOriginY:t?(e.len+i.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){const e=this["eventsToUnbind"];t||z(this),e.length&&(e.forEach(t=>{t()}),e.length=0)}render(){const t=this,{chart:e,options:i,hasRendered:s}=t,r=p(i.animation),o=t.visible?"inherit":"hidden",a=i.zIndex,n=e.seriesGroup;let h=t.finishedAnimating?0:r.duration;L(this,"render"),t.plotGroup("group","series",o,a,n),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,n),!1!==i.clip&&t.setClip(),h&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),h&&t.animate?.(),s||(h&&r.defer&&(h+=r.defer),t.animationTimeout=B(()=>{t.afterAnimate()},h||0)),t.isDirty=!1,t.hasRendered=!0,L(t,"afterRender")}redraw(){var t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){var{xAxis:i,yAxis:s}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;const n=this,e=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree,B(function(){n.kdTree=function t(e,i,s){var r=e?.length;let o,a;if(r)return o=n.kdAxisArray[i%s],e.sort((t,e)=>(t[o]||0)-(e[o]||0)),{point:e[a=Math.floor(r/2)],left:t(e.slice(0,a),i+1,s),right:t(e.slice(a+1),i+1,s)}}(n.getValidPoints(void 0,!n.directTouch),e,e),n.buildingKdTree=!1},n.options.kdNow||"touchstart"===t?.type?0:1)}searchKDTree(t,e,i){const g=this,[u,m]=this.kdAxisArray,f=e?"distX":"dist",s=-1<(g.options.findNearestPointBy||"").indexOf("y")?2:1,y=!!g.isBubble;function x(t,e,i,s){var r,o=e.point,a=g.kdAxisArray[i%s];let n,h,l=o;c=o,p=(r=t)[u],d=c[u],p=M(p)&&M(d)?p-d:null,d=r[m],r=c[m],d=M(d)&&M(r)?d-r:0,r=y&&c.marker?.radius||0,c.dist=Math.sqrt((p&&p*p||0)+d*d)-r,c.distX=M(p)?Math.abs(p)-r:Number.MAX_VALUE;var d=(t[a]||0)-(o[a]||0)+(y&&o.marker?.radius||0),c=d<0?"left":"right",p=d<0?"right":"left";return e[c]&&(n=x(t,e[c],i+1,s),l=n[f]<l[f]?n:o),e[p]&&Math.sqrt(d*d)<l[f]&&(h=x(t,e[p],i+1,s),l=h[f]<l[f]?h:l),l}if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return x(t,this.kdTree,s,s)}pointPlacementToXValue(){var{options:t,xAxis:e}=this;let i=t.pointPlacement;return"between"===i&&(i=e.reversed?-.5:.5),T(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){var{chart:e,xAxis:i,yAxis:s}=this,{plotX:t=-1,plotY:r=-1}=t;return 0<=r&&r<=(s?s.len:e.plotHeight)&&0<=t&&t<=(i?i.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,i=e.trackByArea,s=[].concat((i?t.areaPath:t.graphPath)||[]),r=t.chart,o=r.pointer,a=r.renderer,n=r.options.tooltip?.snap||0,h=()=>{e.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},l="rgba(192,192,192,"+(m?1e-4:.002)+")";let d=t.tracker;d?d.attr({d:s}):t.graph&&(t.tracker=d=a.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||d.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:l,fill:i?l:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*n)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(t=>{t&&(t.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",t=>{o?.onTrackerMouseOut(t)}),e.cursor&&!r.styledMode&&t.css({cursor:e.cursor}),t.on("touchstart",h))})),L(this,"afterDrawTracker")}addPoint(t,e,i,s,r){const o=this,a=o.options,n=o.data,h=o.chart,l=o.xAxis,d=l&&l.hasNames&&l.names,c=a.data,p=o.xData;let g,u;e=j(e,!0);var m={series:o},f=(o.pointClass.prototype.applyOptions.apply(m,[t]),m.x);if(u=p.length,o.requireSorting&&f<p[u-1])for(g=!0;u&&p[u-1]>f;)u--;o.updateParallelArrays(m,"splice",[u,0,0]),o.updateParallelArrays(m,u),d&&m.name&&(d[f]=m.name),c.splice(u,0,t),(g||o.processedData)&&(o.data.splice(u,0,null),o.processData()),"point"===a.legendType&&o.generatePoints(),i&&(n[0]&&n[0].remove?n[0].remove(!1):(n.shift(),o.updateParallelArrays(m,"shift"),c.shift())),!1!==r&&L(o,"addPoint",{point:m}),o.isDirty=!0,o.isDirtyData=!0,e&&h.redraw(s)}removePoint(t,e,i){function s(){n&&n.length===o.length&&n.splice(t,1),o.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(a||{series:r},"splice",[t,1]),a&&a.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&h.redraw()}const r=this,o=r.data,a=o[t],n=r.points,h=r.chart;g(i,h),e=j(e,!0),a?a.firePointEvent("remove",null,s):s()}remove(t,e,i,s){const r=this,o=r.chart;function a(){r.destroy(s),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(s),j(t,!0)&&o.redraw(e)}!1!==i?L(r,"remove",null,a):a()}update(t,e){t=I(t,this.userOptions),L(this,"update",{options:t});const i=this,s=i.chart,r=i.userOptions,o=i.initialType||i.type,a=s.options.plotOptions,n=x[o].prototype,h=i.finishedAnimating&&{animation:!1},l={};let d,c,p=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],g=t.type||r.type||s.options.chart.type;var u=!(this.hasDerivedData||g&&g!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(t=>i.hasOptionChanged(t)));g=g||o,u&&(p.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==t.visible&&p.push("area","graph"),i.parallelArrays.forEach(function(t){p.push(t+"Data")}),t.data&&(t.dataSorting&&v(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=P(r,{index:(void 0===r.index?i:r).index,pointStart:a?.series?.pointStart??r.pointStart??i.xData?.[0]},!u&&{data:i.options.data},t,h),u&&t.data&&(t.data=i.options.data),(p=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(p)).forEach(function(t){p[t]=i[t],delete i[t]});let m=!1;if(x[g]){if(m=g!==i.type,i.remove(!1,!1,!1,!0),m)if(s.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,x[g].prototype);else{var f=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(c in n)i[c]=void 0;v(i,x[g].prototype),f?i.hcEvents=f:delete i.hcEvents}}else O(17,!0,s,{missingModuleFor:g});if(p.forEach(function(t){i[t]=p[t]}),i.init(s,t),u&&this.points){!1===(d=i.options).visible?(l.graphic=1,l.dataLabel=1):(this.hasMarkerChanged(d,r)&&(l.graphic=1),i.hasDataLabels?.()||(l.dataLabel=1));for(const y of this.points)y&&y.series&&(y.resolveColor(),Object.keys(l).length&&y.destroyElements(l),!1===d.showInLegend&&y.legendItem&&s.legend.destroyItem(y))}i.initialType=o,s.linkSeries(),s.setSortedData(),m&&i.linkedSeries.length&&(i.isDirtyData=!0),L(this,"afterUpdate"),j(e,!0)&&s.redraw(u&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){var e=this.chart,i=this.options[t],e=e.options.plotOptions,s=this.userOptions[t],e=j(e?.[this.type]?.[t],e?.series?.[t]);return s&&!M(e)?i!==s:i!==j(e,i)}onMouseOver(){const t=this,e=t.chart,i=e.hoverSeries,s=e.pointer;s?.setHoverChartIndex(),i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&L(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t}onMouseOut(){const t=this,e=t.options,i=t.chart,s=i.tooltip,r=i.hoverPoint;i.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&L(t,"mouseOut"),!s||t.stickyTracking||s.shared&&!t.noSharedTooltip||s.hide(),i.series.forEach(function(t){t.setState("",!0)})}setState(e,t){const i=this,s=i.options,r=i.graph,o=s.inactiveOtherPoints,a=s.states,n=j(a[e||"normal"]&&a[e||"normal"].animation,i.chart.options.chart.animation);let h=s.lineWidth,l=s.opacity;if(e=e||"",i.state!==e&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),e&&t.addClass("highcharts-series-"+e))}),i.state=e,!i.chart.styledMode)){if(a[e]&&!1===a[e].enabled)return;if(e&&(h=a[e].lineWidth||h+(a[e].lineWidthPlus||0),l=j(a[e].opacity,l)),r&&!r.dashstyle&&T(h))for(const d of[r,...this.zones.map(t=>t.graph)])d?.animate({"stroke-width":h},n);o||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(t){t&&t.animate({opacity:l},n)})}t&&o&&i.points&&i.setAllPointsToState(e||void 0)}setAllPointsToState(e){this.points.forEach(function(t){t.setState&&t.setState(e)})}setVisible(e,t){const i=this,s=i.chart,r=s.options.chart.ignoreHiddenSeries,o=i.visible,a=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!o:e,e?"show":"hide");["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(t=>{i[t]?.[a]()}),s.hoverSeries!==i&&s.hoverPoint?.series!==i||i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&s.series.forEach(t=>{t.options.stacking&&t.visible&&(t.isDirty=!0)}),i.linkedSeries.forEach(t=>{t.setVisible(e,!1)}),r&&(s.isDirtyBox=!0),L(i,a),!1!==t&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){var e=this;e.selected=t=this.options.selected=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),L(e,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){r[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}return R.defaultOptions=o,R.types=a.seriesTypes,R.registerType=a.registerSeriesType,v(R.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:l,requireSorting:!0,sorted:!0}),a.series=R}),e(t,"Core/Renderer/RendererRegistry.js",[t["Core/Globals.js"]],function(r){var t;{var o=t=t||{};o.rendererTypes={};let s;o.getRendererType=function(t=s){return o.rendererTypes[t]||o.rendererTypes[s]},o.registerRendererType=function(t,e,i){o.rendererTypes[t]=e,s&&!i||(s=t,r.Renderer=e)}}return t}),e(t,"Core/Renderer/SVG/SVGLabel.js",[t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,e){const{defined:a,extend:n,isNumber:h,merge:s,pick:l,removeEvent:i}=e;class c extends t{constructor(t,e,i,s,r,o,a,n,h,l){super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=s,this.anchorX=o,this.anchorY=a,this.baseline=h,this.className=l,this.addClass("button"===l?"highcharts-no-tooltip":"highcharts-label"),l&&this.addClass("highcharts-"+l),this.text=t.text(void 0,0,0,n).attr({zIndex:1});let d;"string"==typeof r&&((d=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=c.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||d,this.deferredAttr={},this.alignFactor=0}alignSetter(t){t={left:0,center:.5,right:1}[t];t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&h(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const i={};e=s(e),c.textProps.forEach(t=>{void 0!==e[t]&&(i[t]=e[t],delete e[t])}),this.text.css(i),"fontSize"in i||"fontWeight"in i?this.updateTextPadding():("width"in i||"textOverflow"in i)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){i(this.element,"mouseenter"),i(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var{padding:i,height:s=0,translateX:r=0,translateY:o=0,width:a=0}=this,n=l(this.paddingLeft,i),e=e??(this.rotation||0);let h={width:a,height:s,x:r+this.bBox.x-n,y:o+this.bBox.y-i+this.baselineOffset};return h=e?this.getRotatedBox(h,e):h}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:l(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&a(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){h(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=t}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){const t=this.text,e={},i=this.padding,s=this.bBox=h(this.widthSetting)&&h(this.heightSetting)&&!this.textAlign||!a(t.textStr)?c.emptyBBox:t.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||s.height||0)+2*i;var r=this.renderer.fontMetrics(t);if(this.baselineOffset=i+Math.min((this.text.firstLineMetrics||r).b,s.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-r.h)/2),this.needsBox&&!t.textPath){if(!this.box){const o=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();o.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),o.add(this)}r=this.getCrispAdjust(),e.x=r,e.y=(this.baseline?-this.baselineOffset:0)+r,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(n(e,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){const e=this.text;if(!e.textPath){this.updateBoxSize();var i=this.baseline?0:this.baselineOffset;let t=l(this.paddingLeft,this.padding);a(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(t+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),t===e.x&&i===e.y||(e.attr("x",t),e.hasBoxWidthChanged&&(this.bBox=e.getBBox(!0)),void 0!==i&&e.attr("y",i)),e.x=t,e.y=i}}widthSetter(t){this.widthSetting=h(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){var t=this.padding,e=l(this.paddingLeft,t),t=l(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return c.emptyBBox={width:0,height:0,x:0,y:0},c.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],c}),e(t,"Core/Renderer/SVG/Symbols.js",[t["Core/Utilities.js"]],function(t){const{defined:f,isNumber:d,pick:y}=t;function r(e,i,s,r,o){const a=[];if(o){var n=o.start||0,h=y(o.r,s),r=y(o.r,r||s),s=2e-4/(o.borderRadius?1:Math.max(h,1)),l=Math.abs((o.end||0)-n-2*Math.PI)<s,d=(o.end||0)-(l?s:0),c=o.innerR,l=y(o.open,l),p=Math.cos(n),g=Math.sin(n),u=Math.cos(d),m=Math.sin(d),s=y(o.longArc,d-n-Math.PI<s?0:1);let t=["A",h,r,0,s,y(o.clockwise,1),e+h*u,i+r*m];t.params={start:n,end:d,cx:e,cy:i},a.push(["M",e+h*p,i+r*g],t),f(c)&&((t=["A",c,c,0,s,f(o.clockwise)?1-o.clockwise:0,e+c*p,i+c*g]).params={start:d,end:n,cx:e,cy:i},a.push(l?["M",e+c*u,i+c*m]:["L",e+c*u,i+c*m],t)),l||a.push(["Z"])}return a}function e(t,e,i,s,r){return r&&r.r?c(t,e,i,s,r):[["M",t,e],["L",t+i,e],["L",t+i,e+s],["L",t,e+s],["Z"]]}function c(t,e,i,s,r){r=r?.r||0;return[["M",t+r,e],["L",t+i-r,e],["A",r,r,0,0,1,t+i,e+r],["L",t+i,e+s-r],["A",r,r,0,0,1,t+i-r,e+s],["L",t+r,e+s],["A",r,r,0,0,1,t,e+s-r],["L",t,e+r],["A",r,r,0,0,1,t+r,e],["Z"]]}return{arc:r,callout:function(t,e,i,s,r){var o,a=Math.min(r&&r.r||0,i,s),n=a+6,h=r&&r.anchorX,r=r&&r.anchorY||0;const l=c(t,e,i,s,{r:a});return d(h)&&(h<i&&0<h&&r<s&&0<r||(i-n<t+h?e+n<r&&r<e+s-n?l.splice(3,1,["L",t+i,r-6],["L",t+i+6,r],["L",t+i,r+6],["L",t+i,e+s-a]):h<i?(o=r<e+n,l.splice(o?2:5,0,["L",h,r],["L",t+i-a,o?e:e+s])):l.splice(3,1,["L",t+i,s/2],["L",h,r],["L",t+i,s/2],["L",t+i,e+s-a]):t+h<n?e+n<r&&r<e+s-n?l.splice(7,1,["L",t,r+6],["L",t-6,r],["L",t,r-6],["L",t,e+a]):0<h?(o=r<e+n,l.splice(o?1:6,0,["L",h,r],["L",t+a,o?e:e+s])):l.splice(7,1,["L",t,s/2],["L",h,r],["L",t,s/2],["L",t,e+a]):s<r&&h<i-n?l.splice(5,1,["L",h+6,e+s],["L",h,e+s+6],["L",h-6,e+s],["L",t+a,e+s]):r<0&&n<h&&l.splice(1,1,["L",h-6,e],["L",h,e-6],["L",h+6,e],["L",i-a,e]))),l},circle:function(t,e,i,s){return r(t+i/2,e+s/2,i/2,s/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s/2],["L",t+i/2,e+s],["L",t,e+s/2],["Z"]]},rect:e,roundedRect:c,square:e,triangle:function(t,e,i,s){return[["M",t+i/2,e],["L",t+i,e+s],["L",t,e+s],["Z"]]},"triangle-down":function(t,e,i,s){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+s],["Z"]]}}}),e(t,"Core/Renderer/SVG/TextBuilder.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,t,e){const{doc:g,SVG_NS:u,win:r}=t,{attr:m,extend:d,fireEvent:i,isString:c,objectEach:o,pick:p}=e;return class{constructor(t){var e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=Boolean(e&&"ellipsis"===e.textOverflow),this.noWrap=Boolean(e&&"nowrap"===e.whiteSpace)}buildSVG(){const t=this.svgElement,e=t.element,i=t.renderer,s=p(t.textStr,"").toString(),r=-1!==s.indexOf("<"),o=e.childNodes,a=!t.added&&i.box,n=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,t.getStyle("font-size"),this.width].join(",");if(n!==t.textCache){t.textCache=n,delete t.actualWidth;for(let t=o.length;t--;)e.removeChild(o[t]);if(r||this.ellipsis||this.width||t.textPath||-1!==s.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(s))){if(""!==s){a&&a.appendChild(e);const h=new l(s);this.modifyTree(h.nodes),h.addToDOM(e),this.modifyDOM(),this.ellipsis&&-1!==(e.textContent||"").indexOf("…")&&t.attr("title",this.unescapeEntities(t.textStr||"",["&lt;","&gt;"])),a&&a.removeChild(e)}}else e.appendChild(g.createTextNode(this.unescapeEntities(s)));c(this.textOutline)&&t.applyTextOutline&&t.applyTextOutline(this.textOutline)}}modifyDOM(){const d=this.svgElement,c=m(d.element,"x");var t;for(d.firstLineMetrics=void 0;(t=d.element.firstChild)&&/^[\s\u200B]*$/.test(t.textContent||" ");)d.element.removeChild(t);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),(t,e)=>{t.nextSibling&&t.previousSibling&&(0===e&&1===t.previousSibling.nodeType&&(d.firstLineMetrics=d.renderer.fontMetrics(t.previousSibling)),m(t,{dy:this.getLineHeight(t.nextSibling),x:c}))});const p=this.width||0;if(p){const i=(i,s)=>{const t=i.textContent||"",r=t.replace(/([^\^])-/g,"$1- ").split(" ");var e=!this.noWrap&&(1<r.length||1<d.element.childNodes.length);const o=this.getLineHeight(s);let a=0,n=d.actualWidth;if(this.ellipsis)t&&this.truncate(i,t,void 0,0,Math.max(0,p-.8*o),(t,e)=>t.substring(0,e)+"…");else if(e){const h=[],l=[];for(;s.firstChild&&s.firstChild!==i;)l.push(s.firstChild),s.removeChild(s.firstChild);for(;r.length;)r.length&&!this.noWrap&&0<a&&(h.push(i.textContent||""),i.textContent=r.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,r,0===a&&n||0,p,(t,e)=>r.slice(0,e).join(" ").replace(/- /g,"-")),n=d.actualWidth,a++;l.forEach(t=>{s.insertBefore(t,i)}),h.forEach(t=>{s.insertBefore(g.createTextNode(t),i);const e=g.createElementNS(u,"tspan");e.textContent="​",m(e,{dy:o,x:c}),s.insertBefore(e,i)})}},s=e=>{const t=[].slice.call(e.childNodes);t.forEach(t=>{t.nodeType===r.Node.TEXT_NODE?i(t,e):(-1!==t.className.baseVal.indexOf("highcharts-br")&&(d.actualWidth=0),s(t))})};s(d.element)}}getLineHeight(t){t=t.nodeType===r.Node.TEXT_NODE?t.parentElement:t;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(h){const l=(t,e)=>{const{attributes:i={},children:s,style:r={},tagName:o}=t,a=this.renderer.styledMode;if("b"===o||"strong"===o?a?i.class="highcharts-strong":r.fontWeight="bold":"i"!==o&&"em"!==o||(a?i.class="highcharts-emphasized":r.fontStyle="italic"),r&&r.color&&(r.fill=r.color),"br"===o){i.class="highcharts-br",t.textContent="​";const n=h[e+1];n&&n.textContent&&(n.textContent=n.textContent.replace(/^ +/gm,""))}else"a"===o&&s&&s.some(t=>"#text"===t.tagName)&&(t.children=[{children:s,tagName:"tspan"}]);"#text"!==o&&"a"!==o&&(t.tagName="tspan"),d(t,{attributes:i,style:r}),s&&s.filter(t=>"#text"!==t.tagName).forEach(l)};h.forEach(l),i(this.svgElement,"afterModifyTree",{nodes:h})}truncate(s,t,r,o,e,i){const a=this.svgElement;var n=a["rotation"];const h=[];let l=r?1:0,d=(t||r||"").length,c=d,p,g;function u(t,e){e=e||t;const i=s.parentNode;if(i&&void 0===h[e]&&i.getSubStringLength)try{h[e]=o+i.getSubStringLength(0,r?e+1:e)}catch(t){}return h[e]}if(a.rotation=0,g=u(s.textContent.length),o+g>e){for(;l<=d;)c=Math.ceil((l+d)/2),r&&(p=i(r,c)),g=u(c,p&&p.length-1),l===d?l=d+1:g>e?d=c-1:l=c;0===d?s.textContent="":t&&d===t.length-1||(s.textContent=p||i(t||r,c))}r&&r.splice(0,c),a.actualWidth=g,a.rotation=n}unescapeEntities(i,s){return o(this.renderer.escapes,function(t,e){s&&-1!==s.indexOf(t)||(i=i.toString().replace(new RegExp(t,"g"),e))}),i}}}),e(t,"Core/Renderer/SVG/SVGRenderer.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Renderer/SVG/TextBuilder.js"],t["Core/Utilities.js"]],function(x,t,e,i,s,r,l,o,a,n){const b=t["defaultOptions"],{charts:f,deg2rad:h,doc:y,isFirefox:p,isMS:v,isWebKit:d,noop:c,SVG_NS:g,symbolSizes:S,win:u}=i,{addEvent:C,attr:k,createElement:A,crisp:m,css:w,defined:D,destroyObjectProperties:M,extend:O,isArray:L,isNumber:E,isObject:T,isString:N,merge:P,pick:j,pInt:I,replaceNested:W,uniqueKey:G}=n;let B;class R{constructor(t,e,i,s,r,o,a){const n=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),h=n.element,l=(a||n.css(this.getStyle(s||{})),t.appendChild(h),k(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&k(h,"xmlns",this.SVG_NS),this.box=h,this.boxWrapper=n,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add());l.element.appendChild(y.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=r,this.styledMode=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=n.getStyle("font-size"),this.setSize(e,i,!1);let d,c;p&&t.getBoundingClientRect&&((d=function(){w(t,{left:0,top:0}),c=t.getBoundingClientRect(),w(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=C(u,"resize",d))}definition(t){const e=new x([t]);return e.addToDOM(this.defs.element)}getReferenceURL(){if((p||d)&&y.getElementsByTagName("base").length){if(!D(B)){var t=G();const i=new x([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]);var t=i.addToDOM(y.body),e=(w(t,{position:"fixed",top:0,left:0,zIndex:9e5}),y.elementFromPoint(6,6));B="hitme"===(e&&e.id),y.body.removeChild(t)}if(B)return W(u.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=O({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),M(t.gradients||{}),t.gradients=null,t.defs=e.destroy(),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(e){var t=["highcharts-drop-shadow-"+this.chartIndex,...Object.keys(e).map(t=>t+"-"+e[t])].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=P({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},e);return this.defs.element.querySelector("#"+t)||this.definition({tagName:"filter",attributes:{id:t,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),t}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new a(t).buildSVG()}getContrast(t){t=e.parse(t).rgba.map(t=>{t/=255;return t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4)}),t=.2126*t[0]+.7152*t[1]+.0722*t[2];return(.05+t)/.05<1.05/(.05+t)?"#FFFFFF":"#000000"}button(t,e,i,s,r={},o,a,n,h,l){const d=this.label(t,e,i,h,void 0,void 0,l,void 0,"button"),c=this.styledMode,p=arguments;let g=0;r=P(b.global.buttonTheme,r),c&&(delete r.fill,delete r.stroke,delete r["stroke-width"]);const u=r.states||{},m=r.style||{},f=(delete r.states,delete r.style,[x.filterUserAttributes(r)]),y=[m];return c||["hover","select","disabled"].forEach((t,e)=>{f.push(P(f[0],x.filterUserAttributes(p[e+5]||u[t]||{}))),y.push(f[e+1].style),delete f[e+1].style}),C(d.element,v?"mouseover":"mouseenter",function(){3!==g&&d.setState(1)}),C(d.element,v?"mouseout":"mouseleave",function(){3!==g&&d.setState(g)}),d.setState=(t=0)=>{1!==t&&(d.state=g=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t]),c||(d.attr(f[t]),t=y[t],T(t)&&d.css(t))},d.attr(f[0]),c||(d.css(O({cursor:"default"},m)),l&&d.text.css({pointerEvents:"none"})),d.on("touchstart",t=>t.stopPropagation()).on("click",function(t){3!==g&&s.call(d,t)})}crispLine(t,e){const[i,s]=t;return D(i[1])&&i[1]===s[1]&&(i[1]=s[1]=m(i[1],e)),D(i[2])&&i[2]===s[2]&&(i[2]=s[2]=m(i[2],e)),t}path(t){const e=this.styledMode?{}:{fill:"none"};return L(t)?e.d=t:T(t)&&O(e,t),this.createElement("path").attr(e)}circle(t,e,i){const s=T(t)?t:void 0===t?{}:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},r.attr(s)}arc(t,e,i,s,r,o){let a;T(t)?(e=(a=t).y,i=a.r,s=a.innerR,r=a.start,o=a.end,t=a.x):a={innerR:s,start:r,end:o};const n=this.symbol("arc",t,e,i,i,a);return n.r=i,n}rect(t,e,i,s,r,o){const a=T(t)?t:void 0===t?{}:{x:t,y:e,r:r,width:Math.max(i||0,0),height:Math.max(s||0,0)},n=this.createElement("rect");return this.styledMode||(void 0!==o&&(a["stroke-width"]=o,O(a,n.crisp(a))),a.fill="none"),n.rSetter=function(t,e,i){n.r=t,k(i,{rx:t,ry:t})},n.rGetter=function(){return n.r||0},n.attr(a)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:j(i,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(e,t,i,s,r,o){function a(t){h.attr({href:e}),o.call(h,t)}const n={preserveAspectRatio:"none"},h=(E(t)&&(n.x=t),E(i)&&(n.y=i),E(s)&&(n.width=s),E(r)&&(n.height=r),this.createElement("image").attr(n));if(o){h.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});const l=new u.Image;C(l,"load",a),l.src=e,l.complete&&a({})}else h.attr({href:e});return h}symbol(t,e,i,s,r,d){const o=this,a=/^url\((.*?)\)$/,n=a.test(t),h=!n&&(this.symbols[t]?t:"circle"),l=h&&this.symbols[h];let c,p,g,u;if(l)"number"==typeof e&&(p=l.call(this.symbols,e||0,i||0,s||0,r||0,d)),c=this.path(p),o.styledMode||c.attr("fill","none"),O(c,{symbolName:h||void 0,x:e,y:i,width:s,height:r}),d&&O(c,d);else if(n){g=t.match(a)[1];const m=c=this.image(g);m.imgwidth=j(d&&d.width,S[g]&&S[g].width),m.imgheight=j(d&&d.height,S[g]&&S[g].height),u=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach(t=>{m[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:i,element:s,width:r,height:o,imgwidth:a,imgheight:n}=this,h="width"===e?a:n;let l=1;d&&"within"===d.backgroundSize&&r&&o&&a&&n?(l=Math.min(r/a,o/n),k(s,{width:Math.round(a*l),height:Math.round(n*l)})):s&&h&&s.setAttribute(e,h),!i&&a&&n&&this.translate(((r||0)-a*l)/2,((o||0)-n*l)/2)}}),D(e)&&m.attr({x:e,y:i}),m.isImg=!0,m.symbolUrl=t,D(m.imgwidth)&&D(m.imgheight)?u(m):(m.attr({width:0,height:0}),A("img",{onload:function(){const t=f[o.chartIndex];0===this.width&&(w(this,{position:"absolute",top:"-999em"}),y.body.appendChild(this)),S[g]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&u(m),this.parentNode&&this.parentNode.removeChild(this),o.imgCount--,o.imgCount||!t||t.hasLoaded||t.onload()},src:g}),this.imgCount++)}return c}clipRect(t,e,i,s){return this.rect(t,e,i,s,0)}text(t,e,i,s){const r=this,o={};if(s&&(r.allowHTML||!r.forExport))return r.html(t,e,i);o.x=Math.round(e||0),i&&(o.y=Math.round(i)),D(t)&&(o.text=t);const a=r.createElement("text").attr(o);return s&&(!r.forExport||r.allowHTML)||(a.xSetter=function(i,s,t){var r=t.getElementsByTagName("tspan"),o=t.getAttribute(s);for(let t=0,e;t<r.length;t++)(e=r[t]).getAttribute(s)===o&&e.setAttribute(s,i);t.setAttribute(s,i)}),a}fontMetrics(t){var t=I(r.prototype.getStyle.call(t,"font-size")||0),e=t<24?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:s}}pathToSegments(e){const i=[],s=[];var r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let t=0;t<e.length;t++)N(s[0])&&E(e[t])&&s.length===r[s[0].toUpperCase()]&&e.splice(t,0,s[0].replace("M","L").replace("m","l")),"string"==typeof e[t]&&(s.length&&i.push(s.slice(0)),s.length=0),s.push(e[t]);return i.push(s.slice(0)),i}label(t,e,i,s,r,o,a,n,h){return new l(this,t,e,i,s,r,o,a,n,h)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}return O(R.prototype,{Element:r,SVG_NS:g,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:o,draw:c}),s.registerRendererType("svg",R,!0),R}),e(t,"Series/ArcDiagram/ArcDiagramSeries.js",[t["Series/ArcDiagram/ArcDiagramPoint.js"],t["Series/ArcDiagram/ArcDiagramSeriesDefaults.js"],t["Series/Sankey/SankeyColumnComposition.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],function(t,e,i,s,r,o,a,n,h){h.compose(n);const{symbols:p}=o["prototype"],{column:l,sankey:g}=r["seriesTypes"],{crisp:u,extend:d,merge:m,pick:f,relativeLength:c}=a;class y extends g{createNodeColumns(){const d=this,p=d.chart,g=i.compose([],d);return g.sankeyColumn.maxLength=p.inverted?p.plotHeight:p.plotWidth,g.sankeyColumn.getTranslationFactor=t=>{const e=g.slice(),i=this.options.minLinkWidth||0;let s,r=0,o,a,n=0,h=1,l=0,d=(p.plotSizeX||0)-(t.options.marker&&t.options.marker.lineWidth||0)-(g.length-1)*t.nodePadding;for(;g.length;){for(r=d/g.sankeyColumn.sum(),s=!1,o=g.length;o--;){a=g[o].getSum()*r*h;var c=Math.min(p.plotHeight,p.plotWidth);a>c?h=Math.min(c/a,h):a<i&&(g.splice(o,1),d-=i,a=i,s=!0),l+=a*(1-h)/2,n=Math.max(n,a)}if(!s)break}return g.length=0,e.forEach(t=>{t.scale=h,g.push(t)}),g.sankeyColumn.maxRadius=n,g.sankeyColumn.scale=h,g.sankeyColumn.additionalSpace=l,r},g.sankeyColumn.offset=function(e,i){var s=e.series.options.equalNodes,r=d.nodePadding,o=Math.min(p.plotWidth,p.plotHeight,(g.sankeyColumn.maxLength||0)/d.nodes.length-r);let a=g.sankeyColumn.additionalSpace||0,n;for(let t=0;t<g.length;t++){var h=g[t].getSum()*(g.sankeyColumn.scale||0),l=s?o:Math.max(h*i,d.options.minLinkWidth||0);if(n=h?l+r:0,g[t]===e)return{relativeLeft:a+c(e.options.offset||0,n)};a+=n}},d.nodes.forEach(function(t){t.column=0,g.push(t)}),[g]}translateLink(i){const t=i.fromNode,e=i.toNode,s=this.chart,r=this.translationFactor,o=i.options,a=this.options,n=f(o.linkWeight,a.linkWeight,Math.max((i.weight||0)*r*t.scale,this.options.minLinkWidth||0)),h=i.series.options.centeredLinks,l=t.nodeY;var d=(t,e)=>{e=(t.offset(i,e)||0)*r;return Math.min(t.nodeX+e,t.nodeX+(t.shapeArgs&&t.shapeArgs.height||0)-n)};let c=h?t.nodeX+((t.shapeArgs.height||0)-n)/2:d(t,"linksFrom"),p=h?e.nodeX+((e.shapeArgs.height||0)-n)/2:d(e,"linksTo"),g=l;c>p&&([c,p]=[p,c]),a.reversed&&([c,p]=[p,c],g=(s.plotSizeY||0)-g),i.shapeType="path",i.linkBase=[c,c+n,p,p+n];d=(p+n-c)/Math.abs(p+n-c)*f(a.linkRadius,Math.min(Math.abs(p+n-c)/2,t.nodeY-Math.abs(n)));i.shapeArgs={d:[["M",c,g],["A",(p+n-c)/2,d,0,0,1,p+n,g],["L",p,g],["A",(p-c-n)/2,d-n,0,0,0,c+n,g],["Z"]]},i.dlBox={x:c+(p-c)/2,y:g-d,height:n,width:0},i.tooltipPos=s.inverted?[(s.plotSizeY||0)-i.dlBox.y-n/2,(s.plotSizeX||0)-i.dlBox.x]:[i.dlBox.x,i.dlBox.y+n/2],i.y=i.plotY=1,i.x=i.plotX=1,i.color||(i.color=t.color)}translateNode(e,i){var s=this.translationFactor,r=this.chart,o=r.inverted?r.plotWidth:r.plotHeight,a=this.options,o=Math.min(r.plotWidth,r.plotHeight,o/e.series.nodes.length-this.nodePadding),n=e.getSum()*(i.sankeyColumn.scale||0),o=a.equalNodes?o:Math.max(n*s,this.options.minLinkWidth||0),h=a.marker?.lineWidth||0,l=i.sankeyColumn.offset(e,s),s=u(f(l&&l.absoluteLeft,(i.sankeyColumn.left(s)||0)+(l&&l.relativeLeft||0)),h),l=m(a.marker,e.options.marker),d=l.symbol,c=l.radius,l=parseInt(a.offset,10)*((r.inverted?r.plotWidth:r.plotHeight)-(u(this.colDistance*(e.column||0)+(l.lineWidth||0)/2,h)+(i.sankeyColumn.scale||0)*(i.sankeyColumn.maxRadius||0)/2))/100;if(e.sum=n){e.nodeX=s,e.nodeY=l;h=s,i=e.options.width||a.width||o,n=e.options.height||a.height||o;let t=l;a.reversed&&(t=(r.plotSizeY||0)-l,r.inverted&&(t=(r.plotSizeY||0)-l)),this.mapOptionsToLevel&&(e.dlOptions=g.getDLOptions({level:this.mapOptionsToLevel[e.level],optionsPoint:e.options})),e.plotX=1,e.plotY=1,e.tooltipPos=r.inverted?[(r.plotSizeY||0)-t-n/2,(r.plotSizeX||0)-h-i/2]:[h+i/2,t+n/2],e.shapeType="path",e.shapeArgs={d:p[d||"circle"](h,t-(c||n)/2,c||i,c||n),width:c||i,height:c||n},e.dlBox={x:h+i/2,y:t,height:0,width:0}}else e.dlOptions={enabled:!1}}drawDataLabels(){var t;this.options.dataLabels&&(t=this.options.dataLabels.textPath,l.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,l.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t)}pointAttribs(t,e){if(t&&t.isNode){const{...i}=s.prototype.pointAttribs.apply(this,arguments);return i}return super.pointAttribs.apply(this,arguments)}markerAttribs(t){return t.isNode?super.markerAttribs.apply(this,arguments):{}}}return y.defaultOptions=m(g.defaultOptions,e),d(y.prototype,{orderNodes:!1}),y.prototype.pointClass=t,r.registerSeriesType("arcdiagram",y),y}),e(t,"masters/modules/arc-diagram.src.js",[t["Core/Globals.js"]],function(t){return t})});