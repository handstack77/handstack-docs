!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/heikinashi",["highcharts","highcharts/modules/stock"],function(i){return e(i),e.Highcharts=i,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(a){"use strict";var i=a?a._modules:{};function e(i,e,s,t){i.hasOwnProperty(e)||(i[e]=t.apply(null,s),"function"==typeof CustomEvent&&a.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:i[e]}})))}e(i,"Series/HeikinAshi/HeikinAshiPoint.js",[i["Core/Series/SeriesRegistry.js"]],function(i){var{candlestick:{prototype:{pointClass:i}},hlc:{prototype:{}}}=i.seriesTypes;class e extends i{}return e}),e(i,"Series/HeikinAshi/HeikinAshiSeriesDefaults.js",[],function(){return{dataGrouping:{groupAll:!0}}}),e(i,"Series/HeikinAshi/HeikinAshiSeries.js",[i["Core/Globals.js"],i["Series/HeikinAshi/HeikinAshiPoint.js"],i["Series/HeikinAshi/HeikinAshiSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(i,e,s,t,a){const n=i["composed"],h=t.seriesTypes["candlestick"],{addEvent:o,merge:r,pushUnique:l}=a;function u(){const i=this.series;i.forEach(i=>{if(i.is("heikinashi")){const e=i;e.heikiashiData.length=0,e.getHeikinashiData()}})}function c(){var e=this,s=e.points,t=e.heikiashiData,a=e.cropStart||0;for(let i=e.processedYData.length=0;i<s.length;i++){const n=s[i],h=t[i+a];n.open=h[0],n.high=h[1],n.low=h[2],n.close=h[3],e.processedYData.push([n.open,n.high,n.low,n.close])}}function p(){this.heikiashiData.length&&(this.heikiashiData.length=0)}class d extends h{constructor(){super(...arguments),this.heikiashiData=[]}static compose(i,e){h.compose(i),l(n,"HeikinAshi")&&(o(e,"postProcessData",u),o(d,"afterTranslate",c),o(d,"updatedData",p))}getHeikinashiData(){var i=this,e=i.allGroupedData||i.yData,s=i.heikiashiData;if(!s.length&&e&&e.length){var t=e[0];this.modifyFirstPointValue(t);for(let i=1;i<e.length;i++){var a=e[i],n=s[i-1];this.modifyDataPoint(a,n)}}i.heikiashiData=s}init(){super.init.apply(this,arguments),this.heikiashiData=[]}modifyFirstPointValue(i){var e=(i[0]+i[1]+i[2]+i[3])/4,s=(i[0]+i[3])/2;this.heikiashiData.push([e,i[1],i[2],s])}modifyDataPoint(i,e){var e=(e[0]+e[3])/2,s=(i[0]+i[1]+i[2]+i[3])/4,t=Math.max(i[1],s,e),i=Math.min(i[2],s,e);this.heikiashiData.push([e,t,i,s])}}return d.defaultOptions=r(h.defaultOptions,s),d.prototype.pointClass=e,t.registerSeriesType("heikinashi",d),d}),e(i,"masters/modules/heikinashi.src.js",[i["Core/Globals.js"],i["Series/HeikinAshi/HeikinAshiSeries.js"]],function(i,e){return e.compose(i.Series,i.Axis),i})});