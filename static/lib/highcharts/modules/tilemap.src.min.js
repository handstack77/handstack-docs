!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){"use strict";var e=i?i._modules:{};function t(e,t,a,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,a),"function"==typeof CustomEvent&&i.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Series/Tilemap/TilemapPoint.js",[e["Core/Axis/Color/ColorAxisComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){var{series:{prototype:{pointClass:t}},seriesTypes:{heatmap:{prototype:{pointClass:s}}}}=t;const i=a["extend"];class n extends s{haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}return i(n.prototype,{setState:t.prototype.setState,setVisible:e.pointSetVisible}),n}),t(e,"Series/Tilemap/TilemapSeriesDefaults.js",[],function(){return{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}}),t(e,"Series/Tilemap/TilemapShapes.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){e=e.noop;const{heatmap:s,scatter:i}=t.seriesTypes,{clamp:f,pick:y}=a;function n(e,t,a){e=e.options;return{xPad:(e.colsize||1)/-t,yPad:(e.rowsize||1)/-a}}return{hexagon:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,3,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2-e,t.y1+e],["L",t.x3+e,t.y1+e],["L",t.x4+1.5*e,t.y2],["L",t.x3+e,t.y3-e],["L",t.x2-e,t.y3-e],["L",t.x1-1.5*e,t.y2],["Z"]]},translate:function(){const e=this,t=e.options,o=e.xAxis,l=e.yAxis,p=t.pointPadding||0,h=(t.colsize||1)/3,d=(t.rowsize||1)/2;let u;e.generatePoints();for(const x of e.points){let e=f(Math.floor(o.len-o.translate(x.x-2*h,0,1,0,1)),-o.len,2*o.len),t=f(Math.floor(o.len-o.translate(x.x-h,0,1,0,1)),-o.len,2*o.len),a=f(Math.floor(o.len-o.translate(x.x+h,0,1,0,1)),-o.len,2*o.len),s=f(Math.floor(o.len-o.translate(x.x+2*h,0,1,0,1)),-o.len,2*o.len),i=f(Math.floor(l.translate(x.y-d,0,1,0,1)),-l.len,2*l.len),n=f(Math.floor(l.translate(x.y,0,1,0,1)),-l.len,2*l.len),r=f(Math.floor(l.translate(x.y+d,0,1,0,1)),-l.len,2*l.len);var c=x.pointPadding??p,g=c*Math.abs(t-e)/Math.abs(r-n),g=o.reversed?-g:g,y=o.reversed?-c:c,c=l.reversed?-c:c;x.x%2&&(u=u||Math.round(Math.abs(r-i)/2)*(l.reversed?-1:1),i+=u,n+=u,r+=u),x.plotX=x.clientX=(t+a)/2,x.plotY=n,e+=g+y,t+=y,a-=y,s-=g+y,i-=c,r+=c,x.tileEdges={x1:e,x2:t,x3:a,x4:s,y1:i,y2:n,y3:r},x.shapeType="path",x.shapeArgs={d:[["M",t,i],["L",a,i],["L",s,n],["L",a,r],["L",t,r],["L",e,n],["Z"]]}}e.translateColors()}},diamond:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,2,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2,t.y1+e],["L",t.x3+e,t.y2],["L",t.x2,t.y3-e],["L",t.x1-e,t.y2],["Z"]]},translate:function(){const e=this,t=e.options,n=e.xAxis,r=e.yAxis,o=t.pointPadding||0,l=t.colsize||1,p=(t.rowsize||1)/2;var h;e.generatePoints();for(const g of e.points){let e=f(Math.round(n.len-n.translate(g.x-l,0,1,0,0)),-n.len,2*n.len),t=f(Math.round(n.len-n.translate(g.x+l,0,1,0,0)),-n.len,2*n.len),a=f(Math.round(r.translate(g.y-p,0,1,0,0)),-r.len,2*r.len),s=f(Math.round(r.translate(g.y,0,1,0,0)),-r.len,2*r.len),i=f(Math.round(r.translate(g.y+p,0,1,0,0)),-r.len,2*r.len);var d=f(Math.round(n.len-n.translate(g.x,0,1,0,0)),-n.len,2*n.len),u=y(g.pointPadding,o),c=u*Math.abs(d-e)/Math.abs(i-s),c=n.reversed?-c:c,u=r.reversed?-u:u;g.x%2&&(h=Math.abs(i-a)/2*(r.reversed?-1:1),a+=h,s+=h,i+=h),g.plotX=g.clientX=d,g.plotY=s,e+=c,t-=c,a-=u,i+=u,g.tileEdges={x1:e,x2:d,x3:t,y1:a,y2:s,y3:i},g.shapeType="path",g.shapeArgs={d:[["M",d,a],["L",t,s],["L",d,i],["L",e,s],["Z"]]}}e.translateColors()}},circle:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,2,2)},haloPath:function(e){return i.prototype.pointClass.prototype.haloPath.call(this,e+(e&&this.radius))},translate:function(){const e=this,t=e.options,s=e.xAxis,i=e.yAxis,n=t.pointPadding||0,r=(t.rowsize||1)/2,o=t.colsize||1;let l,p,h,d,u=!1;e.generatePoints();for(const g of e.points){var c=f(Math.round(s.len-s.translate(g.x,0,1,0,0)),-s.len,2*s.len);let e=n,t=!1,a=f(Math.round(i.translate(g.y,0,1,0,0)),-i.len,2*i.len);void 0!==g.pointPadding&&(e=g.pointPadding,t=!0,u=!0),d&&!u||(l=Math.abs(f(Math.floor(s.len-s.translate(g.x+o,0,1,0,0)),-s.len,2*s.len)-c),p=Math.abs(f(Math.floor(i.translate(g.y+r,0,1,0,0)),-i.len,2*i.len)-a),h=Math.floor(Math.sqrt(l*l+p*p)/2),d=Math.min(l,h,p)-e,u&&!t&&(u=!1)),g.x%2&&(a+=p*(i.reversed?-1:1)),g.plotX=g.clientX=c,g.plotY=a,g.radius=d,g.shapeType="circle",g.shapeArgs={x:c,y:a,r:d}}e.translateColors()}},square:{alignDataLabel:s.prototype.alignDataLabel,translate:s.prototype.translate,getSeriesPadding:e,haloPath:s.prototype.pointClass.prototype.haloPath}}}),t(e,"Series/Tilemap/TilemapSeries.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Tilemap/TilemapPoint.js"],e["Series/Tilemap/TilemapSeriesDefaults.js"],e["Series/Tilemap/TilemapShapes.js"],e["Core/Utilities.js"]],function(e,t,a,s,i,n){const{composed:r,noop:o}=e,{column:l,heatmap:p,scatter:h}=t.seriesTypes,{addEvent:d,extend:u,merge:c,pushUnique:g}=n;function y(){if(!this.recomputingForTilemap&&"colorAxis"!==this.coll){const t=this,e=t.series.map(function(e){return e.getSeriesPixelPadding&&e.getSeriesPixelPadding(t)}).reduce(function(e,t){return(e&&e.padding)>(t&&t.padding)?e:t},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(e.padding*e.axisLengthFactor);e.padding&&(t.len-=a,t.recomputingForTilemap=!0,t.setAxisTranslation(),delete t.recomputingForTilemap,t.minPixelPadding+=e.padding,t.len+=a)}}class x extends p{static compose(e){g(r,"TilemapSeries")&&d(e,"afterSetAxisTranslation",y)}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){l.prototype.drawPoints.call(this);for(const e of this.points)e.graphic&&e.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(e))}getSeriesPixelPadding(e){var t=e.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var s=Math.round(e.translate(t?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(e.translate(t?a.xPad:0,0,1,0,1));return{padding:(e.single?Math.abs(s-a)/2:Math.abs(s-a))||0,axisLengthFactor:t?2:1.1}}setOptions(){var e=super.setOptions.apply(this,arguments);return this.tileShape=i[e.tileShape],e}translate(){return this.tileShape.translate.apply(this,arguments)}}return x.defaultOptions=c(p.defaultOptions,s),u(x.prototype,{getSymbol:o,markerAttribs:h.prototype.markerAttribs,pointAttribs:l.prototype.pointAttribs,pointClass:a}),t.registerSeriesType("tilemap",x),x}),t(e,"masters/modules/tilemap.src.js",[e["Core/Globals.js"],e["Series/Tilemap/TilemapSeries.js"]],function(e,t){return t.compose(e.Axis),e})});