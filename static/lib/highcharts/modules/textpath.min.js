!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/textpath-support",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(n){"use strict";var t=n?n._modules:{};function e(t,e,a,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,a),"function"==typeof CustomEvent&&n.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/TextPath.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){let P=t["deg2rad"],{addEvent:a,merge:s,uniqueKey:d,defined:l,extend:u}=e;function n(n,t){t=s(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t);let r=this.renderer.url,h=this.text||this,e=h.textPath,{attributes:i,enabled:o}=t;return n=n||e&&e.path,e&&e.undo(),n&&o?(t=a(h,"afterModifyTree",a=>{if(n&&o){let t=n.attr("id"),e=(t||n.attr("id",t=d()),{x:0,y:0});l(i.dx)&&(e.dx=i.dx,delete i.dx),l(i.dy)&&(e.dy=i.dy,delete i.dy),h.attr(e),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());var s=a.nodes.slice(0);a.nodes.length=0,a.nodes[0]={tagName:"textPath",attributes:u(i,{"text-anchor":i.textAnchor,href:r+"#"+t}),children:s}}}),h.textPath={path:n,undo:t}):(h.attr({dx:0,dy:0}),delete h.textPath),this.added&&(h.textCache="",this.renderer.buildText(h)),this}function r(d){let a=d.bBox,l=this.element?.querySelector("textPath");if(l){let s=[],{b:n,h:t}=this.renderer.fontMetrics(this.element),r=t-n,e=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),h=l.innerHTML.replace(e,"").split(/<tspan class="highcharts-br"[^>]*>/),i=h.length,o=(t,e)=>{var{x:e,y:a}=e,t=(l.getRotationOfChar(t)-90)*P,s=Math.cos(t),t=Math.sin(t);return[[e-r*s,a-r*t],[e+n*s,a+n*t]]};for(let e=0,a=0;a<i;a++){var u=h[a].length;for(let t=0;t<u;t+=5)try{var c=e+t+a,[f,x]=o(c,l.getStartPositionOfChar(c));0===t?(s.push(x),s.push(f)):(0===a&&s.unshift(x),a===i-1&&s.push(f))}catch(d){break}e+=u-1;try{var p=e+a,b=l.getEndPositionOfChar(p),[g,y]=o(p,b);s.unshift(y),s.unshift(g)}catch(d){break}}s.length&&s.push(s[0].slice()),a.polygon=s}return a}function h(t){let e=t.labelOptions,a=t.point,s=e[a.formatPrefix+"TextPath"]||e.textPath;s&&!e.useHTML&&(this.setTextPath(a.getDataLabelPath?.(this)||a.graphic,s),a.dataLabelPath&&!s.enabled&&(a.dataLabelPath=a.dataLabelPath.destroy()))}return{compose:function(t){a(t,"afterGetBBox",r),a(t,"beforeAddingDataLabel",h);let e=t.prototype;e.setTextPath||(e.setTextPath=n)}}}),e(t,"masters/modules/textpath.src.js",[t["Core/Globals.js"],t["Extensions/TextPath.js"]],function(t,e){return t.TextPath=e,t.TextPath.compose(t.SVGElement),t})});