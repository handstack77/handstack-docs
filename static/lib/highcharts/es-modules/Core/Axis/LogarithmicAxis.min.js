"use strict";import U from"../Utilities.js";const{addEvent,normalizeTickInterval,pick}=U;var LogarithmicAxis;!function(i){function t(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new n(this))}function o(){var i=this;const t=i.logarithmic;t&&(i.lin2val=function(i){return t.lin2log(i)},i.val2lin=function(i){return t.log2lin(i)})}i.compose=function(i){return i.keepProps.includes("logarithmic")||(i.keepProps.push("logarithmic"),addEvent(i,"afterSetType",t),addEvent(i,"afterInit",o)),i};class n{constructor(i){this.axis=i}getLogTickPositions(a,s,c,g){var h=this;const i=h.axis;var t=i.len,o=i.options;let u=[];if(g||(h.minorAutoInterval=void 0),.5<=a)a=Math.round(a),u=i.getLinearTickPositions(a,s,c);else if(.08<=a){var v=Math.floor(s);let i,t,o,n,r,l,e;for(i=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],t=v;t<c+1&&!e;t++)for(n=i.length,o=0;o<n&&!e;o++)s<(r=h.log2lin(h.lin2log(t)*i[o]))&&(!g||l<=c)&&void 0!==l&&u.push(l),l>c&&(e=!0),l=r}else{var v=h.lin2log(s),n=h.lin2log(c),r=g?i.getMinorTickInterval():o.tickInterval,r="auto"===r?null:r,o=o.tickPixelInterval/(g?5:1),t=g?t/i.tickPositions.length:t;a=pick(r,h.minorAutoInterval,(n-v)*o/(t||1)),a=normalizeTickInterval(a),u=i.getLinearTickPositions(a,v,n).map(h.log2lin),g||(h.minorAutoInterval=a/5)}return g||(i.tickInterval=a),u}lin2log(i){return Math.pow(10,i)}log2lin(i){return Math.log(i)/Math.LN10}}i.Additions=n}(LogarithmicAxis=LogarithmicAxis||{});export default LogarithmicAxis;