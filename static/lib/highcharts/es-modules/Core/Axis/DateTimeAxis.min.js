"use strict";import U from"../Utilities.js";const{addEvent,getMagnitude,normalizeTickInterval,timeUnits}=U;var DateTimeAxis;!function(t){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function a(){"datetime"!==this.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new e(this))}t.compose=function(t){if(!t.keepProps.includes("dateTime")){t.keepProps.push("dateTime");const e=t.prototype;e.getTimeTicks=i,addEvent(t,"afterSetType",a)}return t};class e{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];let a=i[i.length-1],n=timeUnits[a[0]],s=a[1],r;for(r=0;r<i.length;r++)if(a=i[r],n=timeUnits[a[0]],s=a[1],i[r+1])if(t<=(n*s[s.length-1]+timeUnits[i[r+1][0]])/2)break;n===timeUnits.year&&t<5*n&&(s=[1,2,5]);e=normalizeTickInterval(t/n,s,"year"===a[0]?Math.max(getMagnitude(t/n),1):1);return{unitRange:n,count:e,unitName:a[0]}}getXDateFormat(t,e){const i=this["axis"],a=i.chart.time;return i.closestPointRange?a.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||a.resolveDTLFormat(e.year).main:a.resolveDTLFormat(e.day).main}}t.Additions=e}(DateTimeAxis=DateTimeAxis||{});export default DateTimeAxis;