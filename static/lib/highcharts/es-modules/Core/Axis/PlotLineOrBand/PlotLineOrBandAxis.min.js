"use strict";import U from"../../Utilities.js";const{erase,extend,isNumber}=U;var PlotLineOrBandAxis;!function(t){let s;function o(t){return this.addPlotBandOrLine(t,"plotBands")}function e(t,n){const i=this.userOptions;let o=new s(this,t);if(o=this.visible?o.render():o){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach(t=>{this.addPlotBandOrLine(t)})),n){const e=i[n]||[];e.push(t),i[n]=e}this.plotLinesAndBands.push(o)}return o}function r(t){return this.addPlotBandOrLine(t,"plotLines")}function a(t,n,i){i=i||this.options;const o=this.getPlotLinePath({value:n,force:!0,acrossPanes:i.acrossPanes}),e=[],s=this.horiz,r=!isNumber(this.min)||!isNumber(this.max)||t<this.min&&n<this.min||t>this.max&&n>this.max,a=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes});let d,l=1,h;if(a&&o)for(r&&(h=a.toString()===o.toString(),l=0),d=0;d<a.length;d+=2){const L=a[d],c=a[d+1],P=o[d],u=o[d+1];"M"!==L[0]&&"L"!==L[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==P[0]&&"L"!==P[0]||"M"!==u[0]&&"L"!==u[0]||(s&&P[1]===L[1]?(P[1]+=l,u[1]+=l):s||P[2]!==L[2]||(P[2]+=l,u[2]+=l),e.push(["M",L[1],L[2]],["L",c[1],c[2]],["L",u[1],u[2]],["L",P[1],P[2]],["Z"])),e.isFlat=h}return e}function d(t){this.removePlotBandOrLine(t)}function l(i){const t=this.plotLinesAndBands,o=this.options,e=this.userOptions;if(t){let n=t.length;for(;n--;)t[n].id===i&&t[n].destroy();[o.plotLines||[],e.plotLines||[],o.plotBands||[],e.plotBands||[]].forEach(function(t){for(n=t.length;n--;)(t[n]||{}).id===i&&erase(t,t[n])})}}function h(t){this.removePlotBandOrLine(t)}t.compose=function(t,n){var i=n.prototype;return i.addPlotBand||(s=t,extend(i,{addPlotBand:o,addPlotLine:r,addPlotBandOrLine:e,getPlotBandPath:a,removePlotBand:d,removePlotLine:h,removePlotBandOrLine:l})),n}}(PlotLineOrBandAxis=PlotLineOrBandAxis||{});export default PlotLineOrBandAxis;