"use strict";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{prototype:{pointClass:SankeyPointClass}}=SeriesRegistry.seriesTypes["sankey"];import U from"../../Core/Utilities.js";const{defined,find,pick}=U;function getOffset(o){let t=o.linksFrom.length;return o.linksFrom.forEach(o=>{o.id===o.toNode.linksTo[0].id?t+=getOffset(o.toNode):t--}),t}class OrganizationPoint extends SankeyPointClass{constructor(o,t,e){super(o,t,e),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link")}getSum(){return 1}setNodeColumn(){super.setNodeColumn();const i=this,n=i.getFromNode().fromNode;if(!defined(i.options.column)&&0!==i.linksTo.length&&n&&"hanging"===n.options.layout){let e=-1,t;i.options.layout=pick(i.options.layout,"hanging"),i.hangsFrom=n,find(n.linksFrom,(o,t)=>{o=o.toNode===i;return o&&(e=t),o});for(let o=0;o<n.linksFrom.length;++o)(t=n.linksFrom[o]).toNode.id===i.id?o=n.linksFrom.length:e+=getOffset(t.toNode);i.column=(i.column||0)+e}}}export default OrganizationPoint;