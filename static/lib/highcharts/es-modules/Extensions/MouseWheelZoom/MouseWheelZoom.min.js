"use strict";import U from"../../Core/Utilities.js";const{addEvent,isObject,pick,defined,merge}=U;import NBU from"../Annotations/NavigationBindingsUtilities.js";const getAssignedAxis=NBU["getAssignedAxis"],composedClasses=[],defaultOptions={enabled:!0,sensitivity:1.1};let wheelTimer;const optionsToObject=e=>(isObject(e)||(e={enabled:e??!0}),merge(defaultOptions,e)),zoomBy=function(e,t,i,o,s,n,r){r=pick(r.type,e.zooming.type,"");let a=[];"x"===r?a=i:"y"===r?a=o:"xy"===r&&(a=e.axes);i=e.transform({axes:a,to:{x:s-5,y:n-5,width:10,height:10},from:{x:s-5*t,y:n-5*t,width:10*t,height:10*t},trigger:"mousewheel"});return i&&(defined(wheelTimer)&&clearTimeout(wheelTimer),wheelTimer=setTimeout(()=>{e.pointer?.drop()},400)),i};function onAfterGetContainer(){const a=optionsToObject(this.zooming.mouseWheel);a.enabled&&addEvent(this.container,"wheel",e=>{e=this.pointer?.normalize(e)||e;const t=this["pointer"],i=t&&!t.inClass(e.target,"highcharts-no-mousewheel");var o,s,n,r;this.isInsidePlot(e.chartX-this.plotLeft,e.chartY-this.plotTop)&&i&&(o=a.sensitivity||1.1,s=e.detail||(e.deltaY||0)/120,n=getAssignedAxis(t.getCoordinates(e).xAxis),r=getAssignedAxis(t.getCoordinates(e).yAxis),zoomBy(this,Math.pow(o,s),n?[n.axis]:this.xAxis,r?[r.axis]:this.yAxis,e.chartX,e.chartY,a)&&e.preventDefault?.())})}function compose(e){-1===composedClasses.indexOf(e)&&(composedClasses.push(e),addEvent(e,"afterGetContainer",onAfterGetContainer))}const MouseWheelZoomComposition={compose:compose};export default MouseWheelZoomComposition;