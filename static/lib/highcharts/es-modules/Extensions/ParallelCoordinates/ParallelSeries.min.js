"use strict";import H from"../../Core/Globals.js";const composed=H["composed"];import T from"../../Core/Templating.js";const format=T["format"];import U from"../../Core/Utilities.js";const{addEvent,defined,erase,extend,insertItem,isArray,isNumber,pick,pushUnique,wrap}=U;var ParallelSeries;!function(){function s(){const e=this.chart,i=this.points,s=i&&i.length;let o=Number.MAX_VALUE,a,r;if(this.chart.hasParallelCoordinates){for(let t=0;t<s;t++)r=i[t],defined(r.y)?(e.polar?r.plotX=e.yAxis[t].angleRad||0:e.inverted?r.plotX=e.plotHeight-e.yAxis[t].top+e.plotTop:r.plotX=e.yAxis[t].left-e.plotLeft,r.clientX=r.plotX,r.plotY=e.yAxis[t].translate(r.y,!1,!0,void 0,!0),isNumber(r.high)&&(r.plotHigh=e.yAxis[t].translate(r.high,!1,!0,void 0,!0)),void 0!==a&&(o=Math.min(o,Math.abs(r.plotX-a))),a=r.plotX,r.isInside=e.isInsidePlot(r.plotX,r.plotY,{inverted:e.inverted})):r.isNull=!0;this.closestPointRangePx=o}}function o(t){const e=this,i=e.chart;if(i.hasParallelCoordinates){const e=this;for(const s of i.axes)insertItem(e,s.series),s.isDirty=!0;e.xAxis=i.xAxis[0],e.yAxis=i.yAxis[0],t.preventDefault()}}function a(){var t=this.chart;if(t.hasParallelCoordinates)for(const e of t.axes||[])e&&e.series&&(erase(e.series,this),e.isDirty=e.forceRedraw=!0)}function r(t){const e=this.series&&this.series.chart,i=t.apply(this,[].slice.call(arguments,1));let s,o,a,r;return e&&e.hasParallelCoordinates&&!defined(i.formattedValue)&&(o=(r=e.yAxis[this.x]).options,a=pick(o.tooltipValueFormat,o.labels.format),s=a?format(a,extend(this,{value:this.y}),e):r.dateTime?e.time.dateFormat(e.time.resolveDTLFormat(o.dateTimeLabelFormats[r.tickPositions.info.unitName]).main,this.y):isArray(o.categories)?o.categories[this.y]:this.y,i.formattedValue=i.point.formattedValue=s),i}(ParallelSeries||(ParallelSeries={})).compose=function(t){var e,i;pushUnique(composed,"ParallelSeries")&&({line:{prototype:{pointClass:e}},spline:{prototype:{pointClass:i}}}=(t=t).types,addEvent(t,"afterTranslate",s,{order:1}),addEvent(t,"bindAxes",o),addEvent(t,"destroy",a),e&&wrap(e.prototype,"getLabelConfig",r),i&&wrap(i.prototype,"getLabelConfig",r))}}();export default ParallelSeries;