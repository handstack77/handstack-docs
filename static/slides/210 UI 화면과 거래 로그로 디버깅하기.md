---
marp: true
theme: gaia
_class: lead
footer: QCN
paginate: true
backgroundColor: #fff
---

<style>
:root {
  font-family: Pretendard;
  --border-color: #303030;
  --text-color: #0a0a0a;
  --bg-color-alt: #dadada;
  --mark-background: #ffef92;
}

h1 {
  border-bottom: none;
  font-size: 1.6em;
}

h2 {
  border-bottom: none;
  font-size: 1.3em;
}

h3 {
  font-size: 1.1em;
}

h4 {
  font-size: 1.05em;
}

h5 {
  font-size: 1em;
}

h6 {
  font-size: 0.9em;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text-color);
}

code:not([class*="language-"]) {
  font-family: D2Coding;
  color: #000;
  vertical-align: text-bottom;
  background-color: rgba(100, 100, 100, 0.2);
}

section {
  background-image: linear-gradient(to bottom right, #f7f7f7 0%, #d3d3d3 100%);
}

section table {
    margin: auto;
    font-size: 28px;
}

section::after {
  font-size: 0.75em;
  content: attr(data-marpit-pagination) " / " attr(data-marpit-pagination-total);
}

img[alt~="center"] {
  display: block;
  margin: 0 auto;
}

blockquote {
  font-size: 26px;
  border-left: 8px solid var(--border-color);
  background: var(--bg-color-alt);
  margin: 0.5em;
  padding: 0.5em;
}

blockquote::before,
blockquote::after {
    content: '';
}

mark {
  background-color: var(--mark-background);
  padding: 0 2px 2px;
  border-radius: 4px;
  margin: 0 2px;
}

section.tinytext>p,
section.tinytext>ul,
section.tinytext>blockquote {
  font-size: 0.65em;
}
</style>

# UI 화면과 거래 로그로 디버깅하기

### 파일 로그와 데이터베이스 로그

---

## 오늘의 목표

- 방명록 게시글의 내용을 수정하는 기능을 구현합니다.
- `PUT` API를 이용해 서버의 데이터를 업데이트합니다.
- 효율적인 개발을 위해, <mark>기존에 만들었던 등록 폼(`GuestbookCreate`)을 재활용</mark>하는 방법을 익힙니다.
- UI 동작 후, 서버에 남는 <mark>거래 로그를 확인</mark>하여 디버깅하는 방법을 배웁니다.

---

## 핵심 아이디어: 폼 재활용

새 글을 등록할 때 사용하는 폼과 기존 글을 수정할 때 사용하는 폼은 대부분 비슷합니다.

- **신규 등록**: 비어있는 폼으로 시작
- **수정**: 기존 데이터가 채워진 폼으로 시작

별도의 수정 폼을 만들지 않고, <mark>하나의 폼을 조건에 따라 다르게 사용</mark>하여 코드의 중복을 줄이고 효율성을 높일 수 있습니다.

---

## HandStack의 강력함: 간편한 데이터 수정

> "HandStack의 RESTful API는 데이터 수정도 `PUT` 요청 한 번으로 끝내줘요. 프론트엔드에서는 폼만 잘 만들면 됩니다!"

- 복잡한 백엔드 로직 없이, 약속된 `PUT` 메서드로 API를 호출하면 됩니다.
- 우리는 UI에서 <mark>수정할 데이터를 폼에 채우고 전송</mark>하는 로직에만 집중할 수 있습니다.

---

## 디버깅의 핵심: 거래 로그 추적하기

UI에서 버튼을 클릭하고 화면이 바뀌었다고 해서 작업이 끝난 것이 아닙니다.
<br>
서버에서 요청을 잘 처리했는지 확인하는 과정이 필수적입니다.

- **흐름**
  1. 사용자가 UI에서 '저장' 버튼 클릭
  2. 프론트엔드에서 `PUT` API 호출
  3. HandStack 서버에서 요청 수신 및 데이터 처리
  4. 처리 결과와 과정이 <mark>거래 로그</mark>에 기록됨

- 우리는 이 로그를 보고 <mark>요청이 성공했는지, 어떤 데이터가 오갔는지, 오류는 없었는지</mark> 명확하게 파악할 수 있습니다.

---

## 실습: 방명록 수정 기능 구현하기

1. **수정 모드 진입**: '수정' 버튼 클릭 시, 해당 게시글의 데이터를 조회하여 가져옵니다.
2. **폼 데이터 채우기**: 조회한 데이터를 이전에 만든 `GuestbookCreate` 폼의 각 필드에 채워줍니다.
3. **업데이트 로직 구현**: '저장' 버튼의 동작을 수정하여, `PUT` 메서드로 서버에 데이터를 전송하도록 변경합니다.
4. **결과 확인**: 데이터 수정 후, HandStack의 거래 로그 파일을 열어 <mark>정상적으로 `PUT` 거래가 기록되었는지 확인</mark>합니다.

---

# Hands-On
## 지금부터 방명록 수정 기능을 구현하고 거래 로그로 결과를 확인해 보겠습니다.

자세한 가이드: [UI 화면 디버깅하기](https://handstack.kr/docs/startup/handsonlab/debugging/UI-화면-디버깅하기)

