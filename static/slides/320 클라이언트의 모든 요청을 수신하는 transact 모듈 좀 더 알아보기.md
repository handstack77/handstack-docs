---
marp: true
theme: gaia
_class: lead
footer: QCN
paginate: true
backgroundColor: #fff
---

<style>
:root {
  font-family: Pretendard;
  --border-color: #303030;
  --text-color: #0a0a0a;
  --bg-color-alt: #dadada;
  --mark-background: #ffef92;
}

h1 {
  border-bottom: none;
  font-size: 1.6em;
}

h2 {
  border-bottom: none;
  font-size: 1.3em;
}

h3 {
  font-size: 1.1em;
}

h4 {
  font-size: 1.05em;
}

h5 {
  font-size: 1em;
}

h6 {
  font-size: 0.9em;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text-color);
}

code:not([class*="language-"]) {
  font-family: D2Coding;
  color: #000;
  vertical-align: text-bottom;
  background-color: rgba(100, 100, 100, 0.2);
}

section {
  padding: 1rem;
  border-bottom: 1px solid #000;
  background-image: linear-gradient(to bottom right, #f7f7f7 0%, #d3d3d3 100%);
}

section > h2 {
  border-bottom: 4px solid #17344f;
}

section table {
    margin: auto;
    margin-top: 1rem;
    font-size: 28px;
}

section::after {
  font-size: 0.75em;
  content: attr(data-marpit-pagination) " / " attr(data-marpit-pagination-total);
}

img[alt~="center"] {
  display: block;
  margin: 0 auto;
}

blockquote {
  font-size: 26px;
  border-left: 8px solid var(--border-color);
  background: var(--bg-color-alt);
  margin: 0.5em;
  padding: 0.5em;
}

blockquote::before,
blockquote::after {
    content: '';
}

mark {
  background-color: var(--mark-background);
  padding: 0 2px 2px;
  border-radius: 4px;
  margin: 0 2px;
}

section.tinytext>p,
section.tinytext>ul,
section.tinytext>blockquote {
  font-size: 0.65em;
}
</style>

# HandStack transact λ¨λ“
### ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ ν†µμ‹  λ§μ¤ν„°ν•κΈ°

---

## transact λ¨λ“μ΄λ€?

ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  κ±°λ μ”μ²­μ„ μμ‹ ν•λ” κ΄€λ¬Έμ…λ‹λ‹¤.

- λ°μ΄ν„°λ² μ΄μ¤ μ΅°ν/μμ •
- μ„λ²„λ¦¬μ¤ ν•¨μ νΈμ¶
- μ™Έλ¶€ API μ—°λ™

`transact` λ¨λ“μ€ μ΄ λ¨λ“  μ”μ²­μ„ μ²λ¦¬ν•κ³ , μ•½μ†λ ν•μ‹μΌλ΅ κ²°κ³Όλ¥Ό λ°ν™ν•λ” ν•µμ‹¬μ μΈ μ—­ν• μ„ μν–‰ν•©λ‹λ‹¤.

---

## 1. API μ”μ²­/μ‘λ‹µ λ°μ΄ν„° ν•μ‹ μ΄ν•΄ν•κΈ°

- λ©ν‘: λ°±μ—”λ“ APIμ™€ ν”„λ΅ νΈμ—”λ“ UIκ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” κΈ°λ³Έ κ·μΉ™μ„ μ΄ν•΄ν•©λ‹λ‹¤.
- ν•µμ‹¬ ν‚¤μ›λ“: λ‹¨μΌ κ±΄(Row), μ—¬λ¬ κ±΄(List), νΌ(Form), κ·Έλ¦¬λ“(Grid)

---

### λ°μ΄ν„° ν•μ‹: Row vs List

- λ‹¨μΌ κ±΄ (Row) μ‘λ‹µ
  - `GET /api/products/1`
  - νΉμ • κ°μ²΄ ν•λ‚λ¥Ό μ”μ²­ν•λ©°, JSON κ°μ²΄ `{}`λ΅ μ‘λ‹µν•©λ‹λ‹¤.
  - ν”„λ΅ νΈμ—”λ“μ <mark>μƒμ„Έ νμ΄μ§€</mark>λ‚ <mark>μμ • νΌ</mark>μ— μ‚¬μ©λ©λ‹λ‹¤.
  - μμ‹: `{ "id": 1, "name": "λ…ΈνΈλ¶", "price": 1500000 }`

- μ—¬λ¬ κ±΄ (List) μ‘λ‹µ
  - `GET /api/products`
  - κ°μ²΄ λ©λ΅μ„ μ”μ²­ν•λ©°, JSON λ°°μ—΄ `[]`λ΅ μ‘λ‹µν•©λ‹λ‹¤.
  - ν”„λ΅ νΈμ—”λ“μ <mark>λ©λ΅ νμ΄μ§€</mark>λ‚ <mark>λ°μ΄ν„° κ·Έλ¦¬λ“</mark>μ— μ‚¬μ©λ©λ‹λ‹¤.
  - μμ‹: `[ { "id": 1, ... }, { "id": 2, ... } ]`

---

### UI λ§¤ν•‘: Form κ³Ό Grid

- Form λ°μ΄ν„° (μ…λ ¥)
  - ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ• μ‚¬μ©ν•©λ‹λ‹¤. (`POST`, `PUT`)
  - λ³΄ν†µ JSON κ°μ²΄ `{}` ν•νƒλ΅ μ„λ²„μ— μ „μ†΅λ©λ‹λ‹¤.

- Grid λ°μ΄ν„° (μ¶λ ¥)
  - μ„λ²„μ—μ„ λ°›μ€ λ°°μ—΄ `[]` ν•νƒμ λ°μ΄ν„°λ¥Ό ν‘(ν…μ΄λΈ”/κ·Έλ¦¬λ“) ν•νƒλ΅ ν‘μ‹ν•©λ‹λ‹¤.

> HandStackμ€ μ΄λ¬ν• ν‘μ¤€ RESTful ν•μ‹μ„ κΈ°λ³ΈμΌλ΅ μ§€μ›ν•μ—¬, λ°±μ—”λ“μ™€ ν”„λ΅ νΈμ—”λ“μ ν‘μ—…μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ λ§λ“­λ‹λ‹¤.

---

### ν•Έμ¦μ¨: λ°μ΄ν„° κµ¬μ΅° ν™•μΈν•κΈ°

- Postman λλ” Thunder Clientλ¥Ό μ‚¬μ©ν•΄ APIμ— μ”μ²­μ„ λ³΄λ‚΄λ΄…λ‹λ‹¤.
  - `GET /api/products/1` μ”μ²­μ„ λ³΄λ‚΄ λ‹¨μΌ κ±΄ `{}` μ‘λ‹µ ν™•μΈ
  - `GET /api/products` μ”μ²­μ„ λ³΄λ‚΄ μ—¬λ¬ κ±΄ `[]` μ‘λ‹µ ν™•μΈ

- ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ—μ„ λ°μ΄ν„°κ°€ μ–΄λ–»κ² μ‚¬μ©λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - λ‹¨μΌ κ±΄ λ°μ΄ν„°λ” κ° μ…λ ¥ ν•„λ“μ— μ§μ ‘ λ°”μΈλ”©
  - μ—¬λ¬ κ±΄ λ°μ΄ν„°λ” `v-for` μ™€ κ°™μ€ λ°λ³µλ¬ΈμΌλ΅ κ·Έλ¦¬λ“/λ¦¬μ¤νΈ μƒμ„±

---

## 2. API μ ν¨μ„± κ²€μ‚¬ (Server-side Validation)

- λ©ν‘: μλ»λ λ°μ΄ν„°κ°€ μ‹μ¤ν…μ— μ €μ¥λλ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν•΄ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ²€μ¦ν•λ” λ°©λ²•μ„ λ°°μ›λ‹λ‹¤.

> π’΅ API μ ν¨μ„± κ²€μ‚¬λ” λ§μΉ λ¬Όκ±΄μ„ λ°°μ†΅ν•κΈ° μ „μ— λ‚΄μ©λ¬Όμ„ κ²€μ‚¬ν•λ” κ²ƒκ³Ό κ°™μ•„μ”. κΉ¨μ§€κ±°λ‚ μλ»λ λ¬Όκ±΄μ„ λ³΄λ‚΄μ§€ μ•κΈ° μ„ν•¨μ΄μ£ . DBμ— μ €μ¥ν•κΈ° μ „μ— λ°μ΄ν„°λ¥Ό ν• λ² λ” ν™•μΈν•λ” κ³Όμ •μ…λ‹λ‹¤.

---

### μ ν¨μ„± κ²€μ‚¬, μ™ μ„λ²„μ—μ„ ν•΄μ•Ό ν• κΉμ”?

- ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) κ²€μ¦μ€ μ‰½κ² μ°νλ  μ μμµλ‹λ‹¤.
- μ•…μμ μΈ μ‚¬μ©μκ°€ μ΅°μ‘λ λ°μ΄ν„°λ¥Ό μ§μ ‘ APIλ΅ μ „μ†΅ν•  μ μμµλ‹λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ λ²„κ·Έλ΅ μΈν•΄ μλ»λ λ°μ΄ν„°κ°€ μ „μ†΅λ  μ μμµλ‹λ‹¤.

- HandStackμ μ ν¨μ„± κ²€μ‚¬
  - Node.js: `class-validator`μ™€ κ°™μ€ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©
  - ASP.NET Core: `DataAnnotations` μ• νΈλ¦¬λ·°νΈ μ‚¬μ©

---

### ν•Έμ¦μ¨: μ ν¨μ„± κ·μΉ™ μ¶”κ°€ λ° ν…μ¤νΈ

1. λ¨λΈ(DTO)μ— μ ν¨μ„± κ²€μ‚¬ κ·μΉ™μ„ μ¶”κ°€ν•©λ‹λ‹¤.
    - μμ‹: `Product` λ¨λΈμ `name` ν•„λ“λ” λΉ„μ–΄μμ„ μ μ—†κ³ (`@IsNotEmpty()`), `price` ν•„λ“λ” μ–‘μμ—¬μ•Ό ν•©λ‹λ‹¤.

2. PostmanμΌλ΅ μ ν¨ν•μ§€ μ•μ€ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•΄λ΄…λ‹λ‹¤.
    - `name` ν•„λ“λ¥Ό λΉ„μ›μ„ `POST` μ”μ²­
    - `price`μ— μμ κ°’μ„ λ„£μ–΄μ„ `PUT` μ”μ²­

3. μ„λ²„μ μ‘λ‹µμ„ ν™•μΈν•©λ‹λ‹¤.
    - `400 Bad Request` μƒνƒ μ½”λ“μ™€ ν•¨κ» μ–΄λ–¤ κ·μΉ™μ„ μ„λ°ν–λ”μ§€μ— λ€ν• μ—λ¬ λ©”μ‹μ§€κ°€ λ°ν™λλ” κ²ƒμ„ ν™•μΈν•©λ‹λ‹¤.

---

## 3. API μ—λ¬ μ²λ¦¬μ™€ μ‘λ‹µ (HTTP Status Codes)

- λ©ν‘: API νΈμ¶ μ‹ λ°μƒ κ°€λ¥ν• λ‹¤μ–‘ν• μ—λ¬ μƒν™©μ„ μ²λ¦¬ν•κ³ , μ•½μ†λ HTTP μƒνƒ μ½”λ“λ΅ μ‘λ‹µν•λ” λ°©λ²•μ„ λ°°μ›λ‹λ‹¤.

> π’΅ APIλ” λ§μΉ ν†µμ—­μ‚¬μ™€ κ°™μ•„μ”. μ¬λ°”λ¥Έ λ©”μ‹μ§€λΏλ§ μ•„λ‹λΌ, λ¬Έμ κ°€ μƒκ²Όμ„ λ• 'λ‚ μ΄λ° λ¬Έμ κ°€ μƒκ²Όμ–΄!'λΌκ³  μ¬λ°”λ¥΄κ² μ•λ ¤μ£Όλ” κ²ƒλ„ μ¤‘μ”ν•μ£ . HTTP μƒνƒ μ½”λ“κ°€ λ°”λ΅ κ·Έ μ—λ¬ λ©”μ‹μ§€μ μΆ…λ¥λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.

---

### μ£Όμ” HTTP μƒνƒ μ½”λ“

- `2xx` (μ„±κ³µ)
  - `200 OK`: μ”μ²­ μ„±κ³µ (μ΅°ν)
  - `201 Created`: λ¦¬μ†μ¤ μƒμ„± μ„±κ³µ (μƒμ„±)
  - `204 No Content`: μ„±κ³µν–μΌλ‚ λ°ν™ν•  λ‚΄μ© μ—†μ (μ‚­μ )

- `4xx` (ν΄λΌμ΄μ–ΈνΈ μ¤λ¥)
  - `400 Bad Request`: μλ»λ μ”μ²­ (μ: μ ν¨μ„± κ²€μ‚¬ μ‹¤ν¨)
  - `401 Unauthorized`: μΈμ¦ ν•„μ”
  - `403 Forbidden`: κ¶ν• μ—†μ
  - `404 Not Found`: μ”μ²­ν• λ¦¬μ†μ¤ μ—†μ

- `5xx` (μ„λ²„ μ¤λ¥)
  - `500 Internal Server Error`: μ„λ²„ λ‚΄λ¶€μ—μ„ μμΈ΅ν•μ§€ λ»ν• μ¤λ¥ λ°μƒ

---

### ν•Έμ¦μ¨: μ—λ¬ μƒν™©λ³„ μ‘λ‹µ ν™•μΈ

- PostmanμΌλ΅ λ‹¤μ–‘ν• μ—λ¬ μƒν™©μ„ μ‹λ®¬λ μ΄μ… ν•΄λ΄…λ‹λ‹¤.

  - `404 Not Found` ν™•μΈ
    - `GET /api/products/9999` (μ΅΄μ¬ν•μ§€ μ•λ” ID) μ”μ²­

  - `400 Bad Request` ν™•μΈ
    - μ΄μ „ λ‹¨κ³„μ—μ„ μ‹¤μµν• μ ν¨μ„± κ²€μ‚¬ μ‹¤ν¨ μ”μ²­ μ¬ν„

  - `500 Internal Server Error` ν™•μΈ
    - λ°±μ—”λ“ μ½”λ“μ— μλ„μ μΌλ΅ μ—λ¬ μ λ° μ½”λ“(μ: μ •μλμ§€ μ•μ€ λ³€μ μ ‘κ·Ό) μ‚½μ… ν›„ API νΈμ¶

---

## 4. μΏΌλ¦¬ νλΌλ―Έν„° ν™μ©ν•κΈ°

- λ©ν‘: URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό ν•„ν„°λ§ν•κ³  κ²€μƒ‰ν•λ” κΈ°λ¥μ„ κµ¬ν„ν•©λ‹λ‹¤.
- HandStack ν‚¤μ›λ“: `BaseFieldMappings`, `Pretreatment`, `$Variable`

---

### μΏΌλ¦¬ νλΌλ―Έν„°λ€?

URL μ£Όμ† λ’¤μ— `?`λ¥Ό λ¶™μ—¬ `key=value` ν•νƒλ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” λ°©λ²•μ…λ‹λ‹¤.
μ£Όλ΅ λ°μ΄ν„° λ©λ΅μ„ μ΅°ν(`GET`)ν•  λ• μ •λ ¬, ν•„ν„°λ§, νμ΄μ§• λ“±μ μ΅°κ±΄μ„ μ „λ‹¬ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

- μμ‹: `GET /api/products?category=electronics&minPrice=100`
  - `category`κ°€ `electronics` μ΄κ³ 
  - `minPrice`κ°€ `100` μ΄μƒμΈ μƒν’μ„ μ΅°ν

HandStackμ€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό SQL μ΅°κ±΄μΌλ΅ μλ™ λ§¤ν•‘ν•λ” κ°•λ ¥ν• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

---

### ν•Έμ¦μ¨: κ²€μƒ‰ κΈ°λ¥ κµ¬ν„ν•κΈ°

1. λ°±μ—”λ“μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν•λ” λ΅μ§μ„ μ¶”κ°€ν•©λ‹λ‹¤.
   - HandStack μ„¤μ • νμΌμ—μ„ `BaseFieldMappings` λ“±μ„ μ‚¬μ©ν•μ—¬ URLμ `name` νλΌλ―Έν„°λ¥Ό SQLμ `WHERE name LIKE ...` μ΅°κ±΄κ³Ό μ—°κ²°ν•©λ‹λ‹¤.

2. PostmanμΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν¬ν•¨ν• μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.
   - `GET /api/products?name=λ…ΈνΈλ¶`
   - `GET /api/products?category=κ°€μ „`

3. μ‘λ‹µ κ²°κ³Όκ°€ μΏΌλ¦¬ νλΌλ―Έν„° μ΅°κ±΄μ— λ§κ² ν•„ν„°λ§λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.

> HandStackμ„ μ‚¬μ©ν•λ©΄ λ³µμ΅ν• SQL μΏΌλ¦¬λ¥Ό μ§μ ‘ μ‘μ„±ν•  ν•„μ” μ—†μ΄, κ°„λ‹¨ν• μ„¤μ •λ§μΌλ΅ κ°•λ ¥ν• κ²€μƒ‰ κΈ°λ¥μ„ μ‰½κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤.

---

<!-- _class: lead -->
## μ •λ¦¬

- transact λ¨λ“μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ ν†µμ‹ μ ν•µμ‹¬μ…λ‹λ‹¤.
- Row/List, Form/Gridλ” λ°μ΄ν„°μ™€ UIμ κΈ°λ³Έ μ•½μ†μ…λ‹λ‹¤.
- μ„λ²„ μΈ΅ μ ν¨μ„± κ²€μ‚¬λ” μ‹μ¤ν… μ•μ •μ„±μ ν•„μ μ”μ†μ…λ‹λ‹¤.
- HTTP μƒνƒ μ½”λ“λ” APIμ μƒνƒλ¥Ό μ•λ ¤μ£Όλ” μ¤‘μ”ν• μ‹ νΈμ…λ‹λ‹¤.
- μΏΌλ¦¬ νλΌλ―Έν„°μ™€ HandStack μ„¤μ •μ„ ν†µν•΄ κ°•λ ¥ν• κ²€μƒ‰ κΈ°λ¥μ„ μ‰½κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤.

