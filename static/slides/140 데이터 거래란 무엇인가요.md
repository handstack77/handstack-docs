---
marp: true
theme: gaia
_class: lead
footer: QCN
paginate: true
backgroundColor: #fff
---

<style>
:root {
  font-family: Pretendard;
  --border-color: #303030;
  --text-color: #0a0a0a;
  --bg-color-alt: #dadada;
  --mark-background: #ffef92;
}

h1 {
  border-bottom: none;
  font-size: 1.6em;
}

h2 {
  border-bottom: none;
  font-size: 1.3em;
}

h3 {
  font-size: 1.1em;
}

h4 {
  font-size: 1.05em;
}

h5 {
  font-size: 1em;
}

h6 {
  font-size: 0.9em;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text-color);
}

code:not([class*="language-"]) {
  font-family: D2Coding;
  color: #000;
  vertical-align: text-bottom;
  background-color: rgba(100, 100, 100, 0.2);
}

section {
  background-image: linear-gradient(to bottom right, #f7f7f7 0%, #d3d3d3 100%);
}

section table {
    margin: auto;
    font-size: 28px;
}

section::after {
  font-size: 0.75em;
  content: attr(data-marpit-pagination) " / " attr(data-marpit-pagination-total);
}

img[alt~="center"] {
  display: block;
  margin: 0 auto;
}

blockquote {
  font-size: 26px;
  border-left: 8px solid var(--border-color);
  background: var(--bg-color-alt);
  margin: 0.5em;
  padding: 0.5em;
}

blockquote::before,
blockquote::after {
    content: '';
}

mark {
  background-color: var(--mark-background);
  padding: 0 2px 2px;
  border-radius: 4px;
  margin: 0 2px;
}

section.tinytext>p,
section.tinytext>ul,
section.tinytext>blockquote {
  font-size: 0.65em;
}
</style>

# 데이터 거래란 무엇인가요?

### 단일 엔드포인트로 모든 클라이언트의 요청을 처리하기 위한 개념을 확인

---

## HandStack에서 '거래'란?

- 출발지와 도착지 간에 데이터를 주고받는 작업의 기본 단위를 의미합니다.

- 다양한 시스템 구성 요소 간의 데이터 흐름을 '거래'라고 부릅니다.
    - 클라이언트에서 업무 서버로 데이터를 요청하고 응답받는 거래
    - 업무 서버에서 메시지 서버로 작업을 전달하는 거래
    - 메시지 서버에서 데이터베이스로 데이터를 CRUD하는 거래
    - 메시지 서버에서 외부 서비스 API를 호출하는 거래

---

## 거래를 위한 약속, '계약'

- 화면에서 업무 거래를 위해 클라이언트와 서버는 약속된 규칙을 따라야 합니다.
- 이 약속을 '계약(Contract)'이라고 부릅니다.
- 계약에는 어떤 데이터를 주고받을 것인지(입력/출력 정보) 명확하게 정의되어 있습니다.

- 계약은 `transact` 모듈의 업무와 `dbclient` 또는 `function` 모듈의 기능으로 만들어집니다.

---

## 거래 아키텍처 살펴보기

- 모든 클라이언트의 요청은 하나의 통로(단일 엔드포인트)를 통해 처리됩니다.
- 이 통로는 들어온 요청이 어떤 '계약'에 해당하는지 확인하고, 약속된 기능을 수행하는 모듈로 연결해줍니다.

![center](assets/transaction-architecture.png)

---

## 초급자를 위한 아키텍처 설명

- 처음에는 웹 서버, 거래 서버, 업무 기능 서버를 하나로 합쳐진 형태(모놀리식)로 구성하여 개발을 시작합니다.
- 이를 통해 복잡성을 줄이고 빠르게 프로젝트를 진행할 수 있습니다.

- 서비스가 성장함에 따라 특정 기능에 부하가 집중되면, 해당 기능만 별도의 서버(마이크로서비스)로 분리하여 유연하게 확장할 수 있습니다.

> HandStack은 단순함으로 시작하여 필요에 따라 유연하게 확장할 수 있는 구조를 제공합니다.

---

## 정리

- 거래: 출발지와 도착지 간의 데이터 교환 작업 단위
- 계약: 거래를 위해 미리 정의된 입력/출력 데이터 약속
- 단일 엔드포인트: 모든 거래 요청을 처리하는 단일 창구
- 모듈: 계약에 따라 `dbclient`, `function` 등이 실제 작업을 수행

