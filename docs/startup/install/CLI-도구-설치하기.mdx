---
sidebar_position: 30
---

# CLI 도구 설치하기

HandStack 화면 개발을 위해 필요한 CLI 도구를 설치합니다. 이 도구 들을 활용하여 클라이언트 측 라이브러리를 관리하고 배포를 위한 번들링 작업, 서버 프로세스 관리를 위한 서비스를 관리할 수 있습니다.

## libman 설치하기

**LibMan**는 .NET Core 기반의 CLI 도구로 가벼운 클라이언트 라이브러리 획득 도구입니다. 이 도구는 파일 시스템에서 또는 CDN (콘텐츠 전송 네트워크)에서 인기 있는 라이브러리 및 프레임워크를 다운로드합니다. 지원되는 CDN은 CDNJS, jsDelivr 및 unpkg 입니다.

이 도구는 .NET Core 전역 도구로서 Microsoft.Web.LibraryManager.Cli NuGet 패키지에서 설치됩니다. LibMan CLI를 설치하려면 다음 명령어를 사용합니다.

```bash
dotnet tool install -g Microsoft.Web.LibraryManager.Cli
```

설치가 완료 되면 CLI 에서 libman 명령어를 사용할 수 있습니다.

클라이언트 라이브러리 목록은 libman.json 파일에 다음과 같은 형식으로 정의되어 있습니다. 

```json
{
  "version": "1.0",
  "defaultProvider": "cdnjs",
  "libraries": [
	{
	  "library": "jquery@3.4.1",
	  "destination": "wwwroot/lib/jquery/",
	  "files": [
		"jquery.min.js",
		"jquery.min.map"
	  ]
	},
	{
	  "library": "bootstrap@4.3.1",
	  "destination": "wwwroot/lib/bootstrap/",
	  "files": [
		"dist/css/bootstrap.min.css",
		"dist/js/bootstrap.min.js"
	  ]
	}
  ]
}
```

이 파일은 프로젝트의 *[handstack 기본경로]\handstack77\handstack\2.Modules\wwwroot\libman.json* 에 있습니다. 라이브러리를 추가하거나 제거하려면 libman.json 파일을 편집하고 libman restore 명령을 실행합니다. 이 명령은 libman.json 파일에 정의된 모든 라이브러리를 다운로드합니다.

> 만약 Visual Studio 2022 를 사용하는 경우, 프로젝트를 열면 libman.json 파일을 인식하여 변경 할 때 마다 자동으로 업데이트 됩니다.

libman.json 파일의 라이브러리는 HandStack 프로젝트 내부의 다음의 위치에 배치됩니다. 

```bash
[handstack 소스 기본경로]: /handstack77/handstack/2.Modules/wwwroot/wwwroot/lib
```

이 라이브러리는 ack 서버 프로그램의 다음의 위치에서 동일하게 복사해서 사용되어야 합니다.

```bash
[ack 서버 기본경로]: /handstack/modules/wwwroot/wwwroot/lib
```

## pm2 설치하기

PM2는 Node.js 애플리케이션을 위한 프로덕션 프로세스 매니저로, 내장된 로드 밸런서를 가지고 있습니다. 

이 도구는 Node.js 전역 도구로서 pm2 Nuget 패키지에서 설치됩니다. pm2 CLI를 설치하려면 다음 명령어를 사용합니다.

```bash
npm install -g pm2
```

주요 기능으로 프로그램이 장애가	발생하면 자동으로 재시작하고, 로그를 관리하며, 멀티 프로세스를 관리할 수 있습니다.

> PM2는 기본적으로 Node.js 애플리케이션을 실행하는 데 사용되며, HandStack 의 ack 서버 프로그램을 실행할 때도 사용 가능합니다.

## gulp 설치하기

Gulp는 Node.js 기반의 Task 업무 및 번들링 자동화 도구로, 반복적인 작업들을 위해 개발된 도구입니다.

이 도구는 Node.js 전역 도구로서 Gulp Nuget 패키지에서 설치됩니다. Gulp CLI를 설치하려면 다음 명령어를 사용합니다.

```bash
npm install --g gulp-cli
```

주요 기능은 배포를 위한 CSS, JS, fonts, image 등의 리소스 최적화를 수행합니다.