---
sidebar_position: 60
---

# transact

클라이언트의 거래 요청을 수신하여 데이터베이스, 함수, 외부 API 등을 호출하여 처리하고 결과를 반환하는 모듈입니다.

```json
{
    "ModuleID": "transact",
    "Name": "transact",
    "IsBundledWithHost": false,
    "Version": "1.0.0",
    "ModuleConfig": {
        "SystemID": "HANDSTACK",
        "BusinessServerUrl": "http://localhost:8000/transact/api/transaction/execute",
        "CircuitBreakResetSecond": 60,
        "DefaultCommandTimeout": 180,
        "IsExceptionDetailText": true,
        "IsValidationRequest": false,
        "IsAllowDynamicRequest": true,
        "AllowTenantTransactionCommands": [ "D" ],
        "IsLogServer": true,
        "IsTransactAggregate": true,
        "IsDataMasking": false,
        "MaskingChar": "*",
        "MaskingMethod": "Syn",
        "ContractBasePath": [
            "../contracts/transact"
        ],
        "AvailableEnvironment": "P,D,S",
        "LogServerUrl": "http://localhost:8000/logger/api/log/insert",
        "IsCodeDataCache": true,
        "CodeDataCacheTimeout": 20,
        "ModuleBasePath": "../modules/transact",
        "TransactionLogBasePath": "../sqlite/aggregate",
        "UseApiAuthorize": false,
        "BypassAuthorizeIP": [
            "localhost",
            "127.0.0.1"
        ],
        "WithOrigins": [
            "http://127.0.0.1",
            "http://127.0.0.1:8000",
            "http://localhost",
            "http://localhost:8000"
        ],
        "AllowRequestTransactions": {
            "HDS": [ "*" ]
        },
        "RoutingCommandUri": {
            "HDS|*|D|D": "http://localhost:8000/dbclient/api/query",
            "HDS|*|F|D": "http://localhost:8000/function/api/execution",
            "HDS|*|D|P": "http://localhost:8000/dbclient/api/query",
            "HDS|*|F|P": "http://localhost:8000/function/api/execution",
            "HDS|*|D|T": "http://localhost:8000/dbclient/api/query",
            "HDS|*|F|T": "http://localhost:8000/function/api/execution"
        },
        "EventAction": [],
        "SubscribeAction": [],
        "PublicTransactions": [
            {
                "ApplicationID": "HDS",
                "ProjectID": "*",
                "TransactionID": "*"
            }
        ]
    }
}
```
소스) transact 환경설정 예제

## 옵션 설명

### SystemID

운영중인 프로그램의 시스템의 ID를 설정합니다. 거래 요청시 동일한 시스템에서 운영중인지 식별하는데 사용되며 서버에 요청할 때 헤더와 본문에 사용됩니다. 다른 값으로 변경하려면 ack 프로그램의 app.settings.json 그리고 각 모듈의 module.json 내 SystemID와 동일하게 변경해야합니다.

### BusinessServerUrl

transact 모듈에서 module 내에서 transact 거래 요청시 사용되는 URL를 설정합니다.

### CircuitBreakResetSecond

logger 모듈로 이벤트 로그 기록이 실패할 경우 다시 호출할 때 까지의 시간을 설정합니다.

### DefaultCommandTimeout

거래 요청시 기본적으로 사용되는 타임아웃 시간을 설정합니다.

### IsExceptionDetailText

예외 발생시 상세한 내용을 로그에 남길지 여부를 설정합니다.

### IsValidationRequest

거래 요청시 유효성 검사를 수행할지 여부를 설정합니다.

### IsAllowDynamicRequest

동적 거래 요청을 허용할지 여부를 설정합니다.

### AllowTenantTransactionCommands

테넌트 거래 요청을 허용할지 여부를 설정합니다.

### IsLogServer

로그 서버를 사용할지 여부를 설정합니다.

### IsTransactAggregate

거래 집계를 사용할지 여부를 설정합니다.

### IsDataMasking

데이터 마스킹을 사용할지 여부를 설정합니다.

### MaskingChar

데이터 마스킹시 사용할 마스킹 문자를 설정합니다.

### MaskingMethod

데이터 마스킹시 사용할 마스킹 방법을 설정합니다.

### ContractBasePath

거래 요청시 사용되는 계약 파일의 기본 경로를 설정합니다.

### AvailableEnvironment

사용 가능한 환경을 설정합니다.

### LogServerUrl

로그 서버 URL을 설정합니다.

### IsCodeDataCache

코드 데이터 캐시를 사용할지 여부를 설정합니다.

### CodeDataCacheTimeout

코드 데이터 캐시의 타임아웃 시간을 설정합니다.

### ModuleBasePath

모듈의 기본 경로를 설정합니다.

### TransactionLogBasePath

거래 로그의 기본 경로를 설정합니다.

### UseApiAuthorize

API 권한을 사용할지 여부를 설정합니다.

### BypassAuthorizeIP

API 권한을 사용할 때 허용할 IP를 설정합니다.

### WithOrigins

API 권한을 사용할 때 허용할 Origin을 설정합니다.

### AllowRequestTransactions

거래 요청을 허용할지 여부를 설정합니다.

### RoutingCommandUri

거래 요청시 사용되는 URI를 설정합니다.

### EventAction

외부 종속성 없이 프로세스 내에서 이벤트 메시지를 실행할 대상 모듈의 SubscribeAction에 설정된 이벤트 핸들러를 설정합니다.

### SubscribeAction

외부 종속성 없이 프로세스 내에서 transact 모듈 업무 처리 이벤트 메시지를 수신할 이벤트 핸들러를 설정합니다.

### PublicTransactions

외부에서 접근 가능한 거래 요청을 설정합니다.
