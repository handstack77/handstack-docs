# performance

성능 최적화

## 모델 선택 전략

**Haiku 4.5** (Sonnet 기능의 90%, 3배 비용 절감):
- 빈번한 호출이 필요한 경량 에이전트
- 페어 프로그래밍 및 코드 생성
- 다중 에이전트 시스템의 워커 에이전트

**Sonnet 4.5** (최고의 코딩 모델):
- 주요 개발 작업
- 다중 에이전트 워크플로우 오케스트레이션
- 복잡한 코딩 작업

**Opus 4.5** (가장 깊이 있는 추론):
- 복잡한 아키텍처 의사결정
- 최대치의 추론 요구사항
- 연구 및 분석 작업

## 컨텍스트 윈도우 관리

컨텍스트 윈도우의 마지막 20% 사용을 피해야 하는 작업:
- 대규모 리팩토링
- 여러 파일에 걸친 기능 구현
- 복잡한 상호작용 디버깅

컨텍스트 민감도가 낮은 작업:
- 단일 파일 편집
- 독립적인 유틸리티 생성
- 문서 업데이트
- 단순 버그 수정

## Ultrathink + Plan Mode

깊은 추론이 필요한 복잡한 작업의 경우:
1. 향상된 사고를 위해 `ultrathink` 사용
2. 구조화된 접근을 위해 **Plan Mode** 활성화
3. 여러 번의 비평(critique) 라운드로 "엔진 가열"
4. 다양한 분석을 위해 역할을 분담한 서브 에이전트 사용

## 빌드 문제 해결

빌드 실패 시:
1. **build-error-resolver** 에이전트 사용
2. 에러 메시지 분석
3. 점진적으로 수정
4. 각 수정 후 검증
